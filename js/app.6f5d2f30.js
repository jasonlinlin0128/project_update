(function(){"use strict";var e={3182:function(e,t,s){var a=s(5130),o=s(6768);const l={id:"app",class:"font-sans text-gray-900 antialiased bg-gray-100 min-h-screen"};function r(e,t,s,a,r,n){const i=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",l,[(0,o.bF)(i)])}var n={name:"App"},i=s(1241);const c=(0,i.A)(n,[["render",r]]);var d=c,u=(s(8111),s(3579),s(8512));const m={class:"min-h-screen bg-gray-100 font-sans pb-12"},p={class:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg mb-8"},k={class:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8 text-center"},g={class:"mt-6"},h={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},x={class:"mb-8 transform transition hover:scale-[1.01] duration-300"},w={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},b={class:"transform transition hover:scale-[1.02] duration-300"},v={class:"transform transition hover:scale-[1.02] duration-300"},f={class:"transform transition hover:scale-[1.02] duration-300"},y={class:"transform transition hover:scale-[1.02] duration-300"};function L(e,t,s,a,l,r){const n=(0,o.g2)("router-link"),i=(0,o.g2)("ProjectTable"),c=(0,o.g2)("RoutineList"),d=(0,o.g2)("ForumList"),u=(0,o.g2)("EventList"),L=(0,o.g2)("CoordinationList");return(0,o.uX)(),(0,o.CE)("div",m,[(0,o.Lk)("header",p,[(0,o.Lk)("div",k,[t[1]||(t[1]=(0,o.Lk)("h1",{class:"text-4xl font-extrabold tracking-tight sm:text-5xl mb-2"}," å…¬å¸å°ˆæ¡ˆå‹•æ…‹å„€è¡¨æ¿ ",-1)),t[2]||(t[2]=(0,o.Lk)("p",{class:"text-lg text-indigo-100 max-w-2xl mx-auto"}," å³æ™‚æŒæ¡å°ˆæ¡ˆé€²åº¦ã€æ´»å‹•èˆ‡åœ˜éšŠå‹•æ…‹ ",-1)),(0,o.Lk)("div",g,[(0,o.bF)(n,{to:"/admin",class:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-full text-indigo-700 bg-white hover:bg-indigo-50 transition duration-150 ease-in-out shadow-md hover:shadow-lg transform hover:-translate-y-1"},{default:(0,o.k6)(()=>[...t[0]||(t[0]=[(0,o.eW)(" é€²å…¥ç®¡ç†å¾Œå° ",-1)])]),_:1})])])]),(0,o.Lk)("main",h,[(0,o.Lk)("div",x,[(0,o.bF)(i)]),(0,o.Lk)("div",w,[(0,o.Lk)("div",b,[(0,o.bF)(c)]),(0,o.Lk)("div",v,[(0,o.bF)(d)]),(0,o.Lk)("div",f,[(0,o.bF)(u)]),(0,o.Lk)("div",y,[(0,o.bF)(L)])])])])}var C={name:"HomeView"};const j=(0,i.A)(C,[["render",L]]);var I=j,E=s(4232);const M={class:"min-h-screen bg-gray-50 font-sans flex"},P={class:"w-64 bg-white shadow-lg fixed h-full z-10 hidden md:flex flex-col transition-all duration-300"},F={class:"flex-grow p-4 space-y-2 overflow-y-auto"},U=["onClick"],V=["innerHTML"],X={class:"p-4 border-t border-gray-100"},_={class:"md:hidden fixed w-full bg-white z-20 shadow-sm px-4 py-3 flex justify-between items-center"},z={class:"p-6 border-b border-gray-100 flex justify-between items-center"},J={class:"p-4 space-y-2"},A=["onClick"],S=["innerHTML"],D={class:"border-t border-gray-100 my-2 pt-2"},B={class:"flex-1 md:ml-64 p-6 pt-20 md:pt-6 transition-all duration-300"},Q={class:"max-w-5xl mx-auto"},W={class:"mb-8 flex justify-between items-end"},H={class:"text-3xl font-bold text-gray-800"},O={class:"text-gray-500 mt-1"},T={class:"hidden md:block text-sm text-gray-400"};function G(e,t,s,l,r,n){const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",M,[(0,o.Lk)("aside",P,[t[9]||(t[9]=(0,o.Fv)('<div class="p-6 border-b border-gray-100 flex items-center justify-center" data-v-035e6dcd><h1 class="text-2xl font-bold text-primary-600 flex items-center" data-v-035e6dcd><span class="bg-primary-100 p-2 rounded-lg mr-2" data-v-035e6dcd><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-035e6dcd><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" data-v-035e6dcd></path></svg></span> Admin </h1></div>',1)),(0,o.Lk)("nav",F,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.tabs,e=>((0,o.uX)(),(0,o.CE)("button",{key:e.id,onClick:t=>r.activeTab=e.id,class:(0,E.C4)(["w-full flex items-center px-4 py-3 rounded-xl transition-all duration-200 font-medium",r.activeTab===e.id?"bg-primary-50 text-primary-600 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"])},[(0,o.Lk)("span",{class:"mr-3",innerHTML:e.icon},null,8,V),(0,o.eW)(" "+(0,E.v_)(e.name),1)],10,U))),128))]),(0,o.Lk)("div",X,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.testConnection&&n.testConnection(...e)),class:"w-full flex items-center px-4 py-3 text-blue-600 hover:bg-blue-50 hover:text-blue-700 rounded-xl transition-colors mb-2"},[...t[6]||(t[6]=[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1),(0,o.eW)(" æ¸¬è©¦é€£ç·š ",-1)])]),(0,o.bF)(i,{to:"/",class:"flex items-center px-4 py-3 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-xl transition-colors mb-2"},{default:(0,o.k6)(()=>[...t[7]||(t[7]=[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),(0,o.eW)(" è¿”å›é¦–é  ",-1)])]),_:1}),(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>n.logout&&n.logout(...e)),class:"w-full flex items-center px-4 py-3 text-red-500 hover:bg-red-50 hover:text-red-700 rounded-xl transition-colors"},[...t[8]||(t[8]=[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),(0,o.eW)(" ç™»å‡º ",-1)])])])]),(0,o.Lk)("div",_,[t[11]||(t[11]=(0,o.Lk)("h1",{class:"text-lg font-bold text-gray-800"},"ç®¡ç†å¾Œå°",-1)),(0,o.Lk)("button",{onClick:t[2]||(t[2]=e=>r.mobileMenuOpen=!r.mobileMenuOpen),class:"text-gray-600 focus:outline-none"},[...t[10]||(t[10]=[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16m-7 6h7"})],-1)])])]),r.mobileMenuOpen?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"fixed inset-0 z-30 bg-black bg-opacity-50 md:hidden",onClick:t[3]||(t[3]=e=>r.mobileMenuOpen=!1)})):(0,o.Q3)("",!0),(0,o.Lk)("div",{class:(0,E.C4)(["fixed inset-y-0 left-0 z-40 w-64 bg-white shadow-xl transform transition-transform duration-300 ease-in-out md:hidden",r.mobileMenuOpen?"translate-x-0":"-translate-x-full"])},[(0,o.Lk)("div",z,[t[13]||(t[13]=(0,o.Lk)("h1",{class:"text-xl font-bold text-primary-600"},"Admin",-1)),(0,o.Lk)("button",{onClick:t[4]||(t[4]=e=>r.mobileMenuOpen=!1),class:"text-gray-500"},[...t[12]||(t[12]=[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),(0,o.Lk)("nav",J,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.tabs,e=>((0,o.uX)(),(0,o.CE)("button",{key:e.id,onClick:t=>{r.activeTab=e.id,r.mobileMenuOpen=!1},class:(0,E.C4)(["w-full flex items-center px-4 py-3 rounded-xl transition-all duration-200 font-medium",r.activeTab===e.id?"bg-primary-50 text-primary-600":"text-gray-600 hover:bg-gray-50"])},[(0,o.Lk)("span",{class:"mr-3",innerHTML:e.icon},null,8,S),(0,o.eW)(" "+(0,E.v_)(e.name),1)],10,A))),128)),(0,o.Lk)("div",D,[(0,o.bF)(i,{to:"/",class:"flex items-center px-4 py-3 text-gray-600 hover:bg-gray-50 rounded-xl"},{default:(0,o.k6)(()=>[...t[14]||(t[14]=[(0,o.eW)("è¿”å›é¦–é ",-1)])]),_:1}),(0,o.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>n.logout&&n.logout(...e)),class:"w-full flex items-center px-4 py-3 text-red-500 hover:bg-red-50 rounded-xl"},"ç™»å‡º")])])],2),(0,o.Lk)("main",B,[(0,o.Lk)("div",Q,[(0,o.Lk)("div",W,[(0,o.Lk)("div",null,[(0,o.Lk)("h2",H,(0,E.v_)(n.currentTabName),1),(0,o.Lk)("p",O,"ç®¡ç†æ‚¨çš„"+(0,E.v_)(n.currentTabName)+"è³‡æ–™",1)]),(0,o.Lk)("div",T,(0,E.v_)(n.currentDate),1)]),(0,o.bF)(a.eB,{name:"fade",mode:"out-in"},{default:(0,o.k6)(()=>[((0,o.uX)(),(0,o.Wv)((0,o.$y)(n.activeComponent)))]),_:1})])])])}s(4114),s(116);const R={class:"space-y-6"},q={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},K=["innerHTML"],$={class:"text-sm text-gray-500 font-medium"},N={class:"text-2xl font-bold text-gray-800"},Z={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Y={class:"bg-white rounded-xl shadow-sm p-6"},ee={class:"h-64 relative"},te={key:1,class:"flex items-center justify-center h-full text-gray-400"},se={class:"bg-white rounded-xl shadow-sm p-6"},ae={class:"h-64 relative"},oe={key:1,class:"flex items-center justify-center h-full text-gray-400"};function le(e,t,s,a,l,r){const n=(0,o.g2)("Pie"),i=(0,o.g2)("Bar");return(0,o.uX)(),(0,o.CE)("div",R,[(0,o.Lk)("div",q,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.stats,(e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:(0,E.C4)(["bg-white rounded-xl shadow-sm p-6 flex items-center space-x-4 border-l-4",e.borderColor])},[(0,o.Lk)("div",{class:(0,E.C4)(["p-3 rounded-lg",e.iconBg])},[(0,o.Lk)("span",{class:"text-2xl",innerHTML:e.icon},null,8,K)],2),(0,o.Lk)("div",null,[(0,o.Lk)("p",$,(0,E.v_)(e.label),1),(0,o.Lk)("p",N,(0,E.v_)(e.value),1)])],2))),128))]),(0,o.Lk)("div",Z,[(0,o.Lk)("div",Y,[t[0]||(t[0]=(0,o.Lk)("h3",{class:"text-lg font-bold text-gray-800 mb-4"},"å°ˆæ¡ˆç‹€æ…‹åˆ†ä½ˆ",-1)),(0,o.Lk)("div",ee,[l.projectChartData?((0,o.uX)(),(0,o.Wv)(n,{key:0,data:l.projectChartData,options:l.chartOptions},null,8,["data","options"])):((0,o.uX)(),(0,o.CE)("div",te,"Loading..."))])]),(0,o.Lk)("div",se,[t[1]||(t[1]=(0,o.Lk)("h3",{class:"text-lg font-bold text-gray-800 mb-4"},"å„é …äº‹å‹™çµ±è¨ˆ",-1)),(0,o.Lk)("div",ae,[l.overviewChartData?((0,o.uX)(),(0,o.Wv)(i,{key:0,data:l.overviewChartData,options:l.chartOptions},null,8,["data","options"])):((0,o.uX)(),(0,o.CE)("div",oe,"Loading..."))])])])])}s(2489),s(1701);var re=s(9064),ne=s(1010),ie=s(6400),ce=s(2832),de=s(4388);const ue={apiKey:"AIzaSyBlOglfZtVNC3wkH8FzxPRWpZjbioOisKA",authDomain:"project-update-ab874.firebaseapp.com",projectId:"project-update-ab874",storageBucket:"project-update-ab874.firebasestorage.app",messagingSenderId:"149051930119",appId:"1:149051930119:web:fa2be596b9c047fdb4dca2"},me=(0,ie.Wp)(ue),pe=(0,ce.aU)(me),ke=(0,de.xI)(me);re.t1.register(re.Bs,re.m_,re.s$,re.E8,re.PP,re.kc);var ge={name:"AdminDashboardHome",components:{Pie:ne.Fq,Bar:ne.yP},data(){return{stats:[{label:"ç¸½å°ˆæ¡ˆæ•¸",value:0,icon:"ğŸ“Š",borderColor:"border-blue-500",iconBg:"bg-blue-100"},{label:"ä¾‹è¡Œå…¬äº‹",value:0,icon:"ğŸ“",borderColor:"border-orange-500",iconBg:"bg-orange-100"},{label:"è«–å£‡æ–‡ç« ",value:0,icon:"ğŸ’¬",borderColor:"border-purple-500",iconBg:"bg-purple-100"},{label:"æ´»å‹•åƒèˆ‡",value:0,icon:"ğŸ“…",borderColor:"border-pink-500",iconBg:"bg-pink-100"}],projectChartData:null,overviewChartData:null,chartOptions:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}}},async created(){await this.fetchData()},methods:{async fetchData(){try{const e=await(0,ce.GG)((0,ce.rJ)(pe,"projects")),t=e.docs.map(e=>e.data()),s=t.filter(e=>100===e.progress).length,a=t.length-s,o=await(0,ce.GG)((0,ce.rJ)(pe,"routines")),l=await(0,ce.GG)((0,ce.rJ)(pe,"forums")),r=await(0,ce.GG)((0,ce.rJ)(pe,"events"));this.stats[0].value=t.length,this.stats[1].value=o.size,this.stats[2].value=l.size,this.stats[3].value=r.size,this.projectChartData={labels:["é€²è¡Œä¸­","å·²å®Œæˆ"],datasets:[{backgroundColor:["#3B82F6","#10B981"],data:[a,s]}]},this.overviewChartData={labels:["å°ˆæ¡ˆ","ä¾‹è¡Œ","è«–å£‡","æ´»å‹•"],datasets:[{label:"æ•¸é‡",backgroundColor:["#3B82F6","#F97316","#8B5CF6","#EC4899"],data:[t.length,o.size,l.size,r.size]}]}}catch(e){console.error("Error fetching dashboard data:",e)}}}};const he=(0,i.A)(ge,[["render",le]]);var xe=he;const we={class:"space-y-6"},be={class:"macos-card p-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-100"},ve={class:"flex flex-col md:flex-row items-start md:items-center gap-3"},fe=["disabled"],ye={key:0,class:"flex items-center text-sm text-gray-700 bg-white px-3 py-2 rounded-lg"},Le={key:1,class:"flex items-center text-sm text-blue-600"},Ce={key:0,class:"mt-4 text-sm text-red-700 bg-red-50 border border-red-200 p-3 rounded-lg flex items-start"},je={key:1,class:"mt-4 text-sm text-green-700 bg-green-50 border border-green-200 p-3 rounded-lg flex items-start"},Ie={class:"macos-card p-6"},Ee={class:"flex items-center justify-between mb-6"},Me={class:"text-sm text-gray-500"},Pe={class:"flex items-center mb-8"},Fe={class:"space-y-4"},Ue={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ve={class:"space-y-4"},Xe={class:"space-y-4"},_e={class:"space-y-4"},ze={class:"flex justify-between mt-6 pt-6 border-t border-gray-100"},Je={key:1},Ae={class:"flex gap-3"},Se=["disabled"],De={key:0},Be={key:1},Qe={class:"macos-card p-6"},We={class:"flex items-center justify-between mb-6"},He={class:"text-sm text-gray-500"},Oe={class:"flex flex-col md:flex-row gap-3 mb-6"},Te={class:"flex-1 relative"},Ge={key:0,class:"text-center py-12"},Re={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},qe=["onClick"],Ke={class:"flex items-start justify-between mb-3"},$e={class:"font-bold text-gray-800 text-base group-hover:text-[#007AFF] transition-colors line-clamp-2 flex-1"},Ne=["onClick"],Ze={class:"flex flex-wrap items-center gap-2 mb-3"},Ye={class:"text-xs text-gray-600 space-y-1 mb-3"},et={key:0},tt={key:1},st={key:2},at={class:"mb-2"},ot={class:"flex justify-between text-xs text-gray-500 mb-1"},lt={class:"font-bold text-[#007AFF]"},rt={class:"w-full bg-gray-100 rounded-full h-1.5"},nt={key:2,class:"text-center py-12"};function it(e,t,s,l,r,n){const i=(0,o.g2)("ProjectDetailModal");return(0,o.uX)(),(0,o.CE)("div",we,[(0,o.Lk)("div",be,[t[39]||(t[39]=(0,o.Fv)('<div class="flex items-center justify-between mb-4"><div class="flex items-center"><div class="w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center mr-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg></div><div><h3 class="text-lg font-bold text-gray-800">ğŸ“„ å¿«é€ŸåŒ¯å…¥</h3><p class="text-sm text-gray-600">ä¸Šå‚³éœ€æ±‚ææ¡ˆå–® 2.0 (.docx) è‡ªå‹•å¡«å¯«è¡¨å–®</p></div></div></div>',1)),(0,o.Lk)("div",ve,[(0,o.Lk)("input",{type:"file",accept:".docx",onChange:t[0]||(t[0]=(...e)=>n.handleFileUpload&&n.handleFileUpload(...e)),ref:"fileInput",class:"hidden"},null,544),(0,o.Lk)("button",{onClick:t[1]||(t[1]=t=>e.$refs.fileInput.click()),disabled:r.isImporting,class:"macos-button-primary disabled:opacity-50 disabled:cursor-not-allowed"},[...t[32]||(t[32]=[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1),(0,o.eW)(" é¸æ“‡ Word æ–‡ä»¶ ",-1)])],8,fe),r.selectedFileName?((0,o.uX)(),(0,o.CE)("div",ye,[t[33]||(t[33]=(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),(0,o.eW)(" "+(0,E.v_)(r.selectedFileName),1)])):(0,o.Q3)("",!0),r.isImporting?((0,o.uX)(),(0,o.CE)("div",Le,[...t[34]||(t[34]=[(0,o.Lk)("svg",{class:"animate-spin h-4 w-4 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[(0,o.Lk)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),(0,o.Lk)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),(0,o.eW)(" è§£ææ–‡ä»¶ä¸­... ",-1)])])):(0,o.Q3)("",!0)]),r.importError?((0,o.uX)(),(0,o.CE)("div",Ce,[t[36]||(t[36]=(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),(0,o.Lk)("div",null,[t[35]||(t[35]=(0,o.Lk)("strong",null,"åŒ¯å…¥å¤±æ•—ï¼š",-1)),(0,o.eW)((0,E.v_)(r.importError),1)])])):(0,o.Q3)("",!0),r.importSuccess?((0,o.uX)(),(0,o.CE)("div",je,[t[38]||(t[38]=(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),(0,o.Lk)("div",null,[t[37]||(t[37]=(0,o.Lk)("strong",null,"åŒ¯å…¥æˆåŠŸï¼",-1)),(0,o.eW)("å·²è‡ªå‹•å¡«å…¥ "+(0,E.v_)(r.importedFieldsCount)+" å€‹æ¬„ä½ï¼Œè«‹ç¢ºèªè³‡æ–™ç„¡èª¤å¾Œæäº¤ã€‚ ",1)])])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Ie,[(0,o.Lk)("div",Ee,[t[40]||(t[40]=(0,o.Lk)("h3",{class:"text-xl font-bold text-gray-800"},"æ–°å¢å°ˆæ¡ˆææ¡ˆ",-1)),(0,o.Lk)("span",Me,"æ­¥é©Ÿ "+(0,E.v_)(r.currentStep)+"/4",1)]),(0,o.Lk)("div",Pe,[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(4,e=>(0,o.Lk)("div",{key:e,class:"flex items-center flex-1"},[(0,o.Lk)("div",{class:(0,E.C4)(["flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium transition-all",r.currentStep>=e?"bg-[#007AFF] text-white":"bg-gray-200 text-gray-500"])},(0,E.v_)(e),3),e<4?((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,E.C4)(["flex-1 h-1 mx-2 rounded",r.currentStep>e?"bg-[#007AFF]":"bg-gray-200"])},null,2)):(0,o.Q3)("",!0)])),64))]),(0,o.bo)((0,o.Lk)("div",Fe,[(0,o.Lk)("div",Ue,[(0,o.Lk)("div",null,[t[41]||(t[41]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"å°ˆæ¡ˆåç¨± *",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.newProject.name=e),placeholder:"è«‹è¼¸å…¥å°ˆæ¡ˆåç¨±",class:"macos-input w-full"},null,512),[[a.Jo,r.newProject.name]])]),(0,o.Lk)("div",null,[t[42]||(t[42]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"ä¸»è¦ææ¡ˆå–®ä½ *",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>r.newProject.proposalUnit=e),placeholder:"ä¾‹å¦‚ï¼šæŠ€è¡“éƒ¨",class:"macos-input w-full"},null,512),[[a.Jo,r.newProject.proposalUnit]])]),(0,o.Lk)("div",null,[t[43]||(t[43]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"ææ¡ˆè¯çµ¡äºº *",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>r.newProject.proposalContact=e),placeholder:"å§“å/é›»è©±/Email",class:"macos-input w-full"},null,512),[[a.Jo,r.newProject.proposalContact]])]),(0,o.Lk)("div",null,[t[44]||(t[44]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"è² è²¬éƒ¨é–€",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>r.newProject.department=e),placeholder:"è² è²¬åŸ·è¡Œçš„éƒ¨é–€",class:"macos-input w-full"},null,512),[[a.Jo,r.newProject.department]])]),(0,o.Lk)("div",null,[t[45]||(t[45]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"è² è²¬äºº",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>r.newProject.owner=e),placeholder:"å°ˆæ¡ˆè² è²¬äºº",class:"macos-input w-full"},null,512),[[a.Jo,r.newProject.owner]])]),(0,o.Lk)("div",null,[t[46]||(t[46]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"ç›¸é—œå–®ä½ï¼ˆå¤šå€‹ç”¨é€—è™Ÿåˆ†éš”ï¼‰",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>r.relatedUnitsInput=e),placeholder:"ä¾‹å¦‚ï¼šè¡ŒéŠ·éƒ¨,å®¢æœéƒ¨",class:"macos-input w-full"},null,512),[[a.Jo,r.relatedUnitsInput]])]),(0,o.Lk)("div",null,[t[47]||(t[47]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"é–‹å§‹æ™‚é–“",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>r.newProject.startTime=e),type:"date",class:"macos-input w-full"},null,512),[[a.Jo,r.newProject.startTime]])]),(0,o.Lk)("div",null,[t[48]||(t[48]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"æˆªæ­¢æ—¥æœŸ",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>r.newProject.dueDate=e),type:"date",class:"macos-input w-full"},null,512),[[a.Jo,r.newProject.dueDate]])]),(0,o.Lk)("div",null,[t[50]||(t[50]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"å„ªå…ˆç´š",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[10]||(t[10]=e=>r.newProject.priority=e),class:"macos-input w-full"},[...t[49]||(t[49]=[(0,o.Lk)("option",null,"é«˜",-1),(0,o.Lk)("option",null,"ä¸­",-1),(0,o.Lk)("option",null,"ä½",-1)])],512),[[a.u1,r.newProject.priority]])]),(0,o.Lk)("div",null,[t[52]||(t[52]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"ç‹€æ…‹",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[11]||(t[11]=e=>r.newProject.status=e),class:"macos-input w-full"},[...t[51]||(t[51]=[(0,o.Lk)("option",null,"å¾…å¯©æ ¸",-1),(0,o.Lk)("option",null,"é€²è¡Œä¸­",-1),(0,o.Lk)("option",null,"å·²å®Œæˆ",-1),(0,o.Lk)("option",null,"å»¶é²",-1)])],512),[[a.u1,r.newProject.status]])])])],512),[[a.aG,1===r.currentStep]]),(0,o.bo)((0,o.Lk)("div",Ve,[(0,o.Lk)("div",null,[t[53]||(t[53]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"ç‚ºä»€éº¼éœ€è¦é€™å€‹å°ˆæ¡ˆï¼Ÿ *",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[12]||(t[12]=e=>r.newProject.projectReason=e),rows:"3",placeholder:"è«‹èªªæ˜æ­¤å°ˆæ¡ˆçš„é‡è¦æ€§ï¼Œä»¥åŠå®ƒå¦‚ä½•å½±éŸ¿æ•´é«”ç›®æ¨™",class:"macos-textarea w-full"},null,512),[[a.Jo,r.newProject.projectReason]])]),(0,o.Lk)("div",null,[t[54]||(t[54]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"ç¾æ³æè¿°",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[13]||(t[13]=e=>r.newProject.currentSituation=e),rows:"3",placeholder:"ç›®å‰æ˜¯èª° (Who)ã€ç”¨ä»€éº¼æ–¹æ³• (How)ã€åœ¨åšä»€éº¼äº‹ (What)ï¼Ÿ",class:"macos-textarea w-full"},null,512),[[a.Jo,r.newProject.currentSituation]])]),(0,o.Lk)("div",null,[t[55]||(t[55]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"å›°é›£é»",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[14]||(t[14]=e=>r.newProject.difficulties=e),rows:"3",placeholder:"ç›®å‰é‡åˆ°ä»€éº¼å•é¡Œæˆ–ç“¶é ¸ï¼Ÿç‚ºä»€éº¼ç¾æœ‰æ–¹æ³•ä¸å¤ å¥½ï¼Ÿ",class:"macos-textarea w-full"},null,512),[[a.Jo,r.newProject.difficulties]])]),(0,o.Lk)("div",null,[t[56]||(t[56]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"è·¨å–®ä½å•é¡Œï¼ˆå¦‚é©ç”¨ï¼‰",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[15]||(t[15]=e=>r.newProject.crossUnitIssues=e),rows:"2",placeholder:"è‹¥æ¶‰åŠè·¨å–®ä½ï¼Œé€™å€‹å•é¡Œå¦‚ä½•åœ¨å„å–®ä½ä¹‹é–“ç™¼ç”Ÿï¼Ÿ",class:"macos-textarea w-full"},null,512),[[a.Jo,r.newProject.crossUnitIssues]])]),(0,o.Lk)("div",null,[t[57]||(t[57]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"å˜—è©¦éçš„è§£æ±ºæ–¹æ¡ˆ",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[16]||(t[16]=e=>r.newProject.attemptedSolutions=e),rows:"2",placeholder:"æ˜¯å¦å·²ç¶“å˜—è©¦éå…¶ä»–æ–¹æ³•ï¼Ÿçµæœå¦‚ä½•ï¼Ÿ",class:"macos-textarea w-full"},null,512),[[a.Jo,r.newProject.attemptedSolutions]])])],512),[[a.aG,2===r.currentStep]]),(0,o.bo)((0,o.Lk)("div",Xe,[(0,o.Lk)("div",null,[t[58]||(t[58]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"å°ˆæ¡ˆç›®æ¨™ *",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[17]||(t[17]=e=>r.newProject.projectGoals=e),rows:"3",placeholder:"å¸Œæœ›é”åˆ°ä»€éº¼å…·é«”ç›®æ¨™ï¼Ÿä¾‹å¦‚ï¼šæ¸›å°‘ A æµç¨‹æ™‚é–“å¾ 3 å¤©ç¸®çŸ­åˆ° 1 å¤©",class:"macos-textarea w-full"},null,512),[[a.Jo,r.newProject.projectGoals]])]),(0,o.Lk)("div",null,[t[59]||(t[59]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"æœŸæœ›åŠŸèƒ½æˆ–ç†æƒ³æµç¨‹",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[18]||(t[18]=e=>r.newProject.expectedFeatures=e),rows:"3",placeholder:"å¸Œæœ›ç³»çµ±èƒ½åšä»€éº¼ï¼Ÿç†æƒ³çš„æ“ä½œæµç¨‹æ˜¯ä»€éº¼ï¼Ÿ",class:"macos-textarea w-full"},null,512),[[a.Jo,r.newProject.expectedFeatures]])]),(0,o.Lk)("div",null,[t[60]||(t[60]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"ä¸»è¦ä½¿ç”¨è€…æ˜¯èª°ï¼Ÿ",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[19]||(t[19]=e=>r.newProject.targetUsers=e),rows:"2",placeholder:"èª°æœƒç”¨é€™å€‹ç³»çµ±æˆ–æµç¨‹ï¼Ÿè«‹åˆ—å‡ºæ‰€æœ‰æœƒæ¥è§¸åˆ°çš„ã€Œå–®ä½ã€æˆ–ã€Œè§’è‰²ã€",class:"macos-textarea w-full"},null,512),[[a.Jo,r.newProject.targetUsers]])]),(0,o.Lk)("div",null,[t[61]||(t[61]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"é æœŸæå‡æ•ˆç›Š",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[20]||(t[20]=e=>r.newProject.expectedBenefits=e),rows:"3",placeholder:"å¯é‡åŒ–ï¼šæ¸›å°‘å·¥æ™‚ 50%ã€ç¯€çœæˆæœ¬ 8 å°æ™‚/é€±\\nä¸å¯é‡åŒ–ï¼šæå‡å®¢æˆ¶æ»¿æ„åº¦ã€ç¬¦åˆæ³•è¦",class:"macos-textarea w-full"},null,512),[[a.Jo,r.newProject.expectedBenefits]])]),(0,o.Lk)("div",null,[t[62]||(t[62]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"é ä¼°æ™‚ç¨‹",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[21]||(t[21]=e=>r.newProject.estimatedTimeline=e),placeholder:"ä¾‹å¦‚ï¼šé è¨ˆå°ˆæ¡ˆå¾å•Ÿå‹•åˆ°å®Œæˆç´„ 3 å€‹æœˆ",class:"macos-input w-full"},null,512),[[a.Jo,r.newProject.estimatedTimeline]])])],512),[[a.aG,3===r.currentStep]]),(0,o.bo)((0,o.Lk)("div",_e,[(0,o.Lk)("div",null,[t[63]||(t[63]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"é—œéµæˆåŠŸæŒ‡æ¨™",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[22]||(t[22]=e=>r.newProject.successMetrics=e),rows:"3",placeholder:"å¦‚ä½•è¡¡é‡é€™å€‹å°ˆæ¡ˆæ˜¯å¦æˆåŠŸï¼Ÿä¾‹å¦‚ï¼šä¸Šç·šå¾Œå®¢æˆ¶æ»¿æ„åº¦æå‡è‡³ 90%ã€ç³»çµ±ä¸Šç·šç„¡é‡å¤§éŒ¯èª¤",class:"macos-textarea w-full"},null,512),[[a.Jo,r.newProject.successMetrics]])]),(0,o.Lk)("div",null,[t[64]||(t[64]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"æ‰€éœ€è³‡æº",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[23]||(t[23]=e=>r.newProject.requiredResources=e),rows:"3",placeholder:"åŸ·è¡Œæ­¤å°ˆæ¡ˆéœ€è¦å“ªäº›è³‡æºï¼Ÿä¾‹å¦‚ï¼šç‰¹å®šäººå“¡æŠ•å…¥ã€é ç®—ã€ç¡¬é«”è¨­å‚™ã€å¤–éƒ¨å» å•†æ”¯æ´",class:"macos-textarea w-full"},null,512),[[a.Jo,r.newProject.requiredResources]])]),(0,o.Lk)("div",null,[t[65]||(t[65]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"æ½›åœ¨é¢¨éšªè©•ä¼°",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[24]||(t[24]=e=>r.newProject.riskAssessment=e),rows:"3",placeholder:"åŸ·è¡Œæ­¤å°ˆæ¡ˆå¯èƒ½é‡åˆ°ä»€éº¼é¢¨éšªï¼Ÿä¾‹å¦‚ï¼šèˆŠç³»çµ±è³‡æ–™ç„¡æ³•è½‰ç§»ã€äººå“¡ä¸è¶³",class:"macos-textarea w-full"},null,512),[[a.Jo,r.newProject.riskAssessment]])]),(0,o.Lk)("div",null,[t[66]||(t[66]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"é€²åº¦ï¼ˆ%ï¼‰",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[25]||(t[25]=e=>r.newProject.progress=e),type:"number",min:"0",max:"100",placeholder:"0-100",class:"macos-input w-full"},null,512),[[a.Jo,r.newProject.progress,void 0,{number:!0}]])]),(0,o.Lk)("div",null,[t[67]||(t[67]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"å…¶ä»–è£œå……èªªæ˜",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[26]||(t[26]=e=>r.newProject.description=e),rows:"2",placeholder:"å…¶ä»–éœ€è¦è£œå……çš„è³‡è¨Š",class:"macos-textarea w-full"},null,512),[[a.Jo,r.newProject.description]])])],512),[[a.aG,4===r.currentStep]]),(0,o.Lk)("div",ze,[r.currentStep>1?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t[27]||(t[27]=e=>r.currentStep--),class:"macos-button-secondary"}," ä¸Šä¸€æ­¥ ")):((0,o.uX)(),(0,o.CE)("div",Je)),(0,o.Lk)("div",Ae,[r.currentStep<4?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t[28]||(t[28]=e=>r.currentStep++),class:"macos-button-primary"}," ä¸‹ä¸€æ­¥ ")):((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:t[29]||(t[29]=(...e)=>n.addProject&&n.addProject(...e)),disabled:r.isLoading||!n.canSubmit,class:"macos-button-primary disabled:opacity-50 disabled:cursor-not-allowed"},[r.isLoading?((0,o.uX)(),(0,o.CE)("span",De,"æäº¤ä¸­...")):((0,o.uX)(),(0,o.CE)("span",Be,"æäº¤å°ˆæ¡ˆ"))],8,Se))])])]),(0,o.Lk)("div",Qe,[(0,o.Lk)("div",We,[t[68]||(t[68]=(0,o.Lk)("h3",{class:"text-xl font-bold text-gray-800"},"å°ˆæ¡ˆåˆ—è¡¨",-1)),(0,o.Lk)("span",He,"å…± "+(0,E.v_)(n.filteredProjects.length)+" å€‹å°ˆæ¡ˆ",1)]),(0,o.Lk)("div",Oe,[(0,o.Lk)("div",Te,[t[69]||(t[69]=(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[30]||(t[30]=e=>r.searchQuery=e),placeholder:"æœå°‹å°ˆæ¡ˆ...",class:"macos-input w-full pl-10"},null,512),[[a.Jo,r.searchQuery]])]),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[31]||(t[31]=e=>r.statusFilter=e),class:"macos-input w-full md:w-48"},[...t[70]||(t[70]=[(0,o.Fv)('<option value="">æ‰€æœ‰ç‹€æ…‹</option><option value="å¾…å¯©æ ¸">å¾…å¯©æ ¸</option><option value="é€²è¡Œä¸­">é€²è¡Œä¸­</option><option value="å·²å®Œæˆ">å·²å®Œæˆ</option><option value="å»¶é²">å»¶é²</option>',5)])],512),[[a.u1,r.statusFilter]])]),r.isLoading?((0,o.uX)(),(0,o.CE)("div",Ge,[...t[71]||(t[71]=[(0,o.Lk)("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-[#007AFF]"},null,-1),(0,o.Lk)("p",{class:"text-gray-500 mt-3"},"è¼‰å…¥ä¸­...",-1)])])):n.filteredProjects.length>0?((0,o.uX)(),(0,o.CE)("div",Re,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.filteredProjects,e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"macos-card p-5 cursor-pointer hover:shadow-macos-hover transition-all group",onClick:t=>n.openDetail(e)},[(0,o.Lk)("div",Ke,[(0,o.Lk)("h4",$e,(0,E.v_)(e.name),1),(0,o.Lk)("button",{onClick:(0,a.D$)(t=>n.deleteProject(e.id),["stop"]),class:"opacity-0 group-hover:opacity-100 ml-2 p-1 hover:bg-red-50 rounded transition-all"},[...t[72]||(t[72]=[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Ne)]),(0,o.Lk)("div",Ze,[(0,o.Lk)("span",{class:(0,E.C4)({"status-pending":"å¾…å¯©æ ¸"===e.status,"status-active":"é€²è¡Œä¸­"===e.status,"status-completed":"å·²å®Œæˆ"===e.status,"status-delayed":"å»¶é²"===e.status})},(0,E.v_)(e.status||"é€²è¡Œä¸­"),3),(0,o.Lk)("span",{class:(0,E.C4)([{"bg-red-50 text-red-600":"é«˜"===e.priority,"bg-yellow-50 text-yellow-600":"ä¸­"===e.priority,"bg-green-50 text-green-600":"ä½"===e.priority},"px-2 py-1 rounded-md text-xs font-medium"])},(0,E.v_)(e.priority||"ä¸­"),3)]),(0,o.Lk)("div",Ye,[e.proposalUnit?((0,o.uX)(),(0,o.CE)("div",et,"ğŸ“ "+(0,E.v_)(e.proposalUnit),1)):(0,o.Q3)("",!0),e.owner?((0,o.uX)(),(0,o.CE)("div",tt,"ğŸ‘¤ "+(0,E.v_)(e.owner),1)):(0,o.Q3)("",!0),e.dueDate?((0,o.uX)(),(0,o.CE)("div",st,"ğŸ“… "+(0,E.v_)(e.dueDate),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",at,[(0,o.Lk)("div",ot,[t[73]||(t[73]=(0,o.Lk)("span",null,"é€²åº¦",-1)),(0,o.Lk)("span",lt,(0,E.v_)(e.progress||0)+"%",1)]),(0,o.Lk)("div",rt,[(0,o.Lk)("div",{class:"bg-gradient-to-r from-blue-500 to-blue-600 h-1.5 rounded-full transition-all",style:(0,E.Tr)({width:(e.progress||0)+"%"})},null,4)])])],8,qe))),128))])):((0,o.uX)(),(0,o.CE)("div",nt,[...t[74]||(t[74]=[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 mx-auto text-gray-300 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1),(0,o.Lk)("p",{class:"text-gray-500"},"å°šç„¡å°ˆæ¡ˆï¼Œè«‹æ–°å¢ç¬¬ä¸€å€‹å°ˆæ¡ˆ",-1)])]))]),(0,o.bF)(i,{project:r.selectedProject,isOpen:r.isModalOpen,onClose:n.closeDetail},null,8,["project","isOpen","onClose"])])}s(7588);const ct={class:"w-full max-w-4xl max-h-[90vh] overflow-hidden macos-card modal-shadow animate-modal-slide"},dt={class:"sticky top-0 bg-white border-b border-gray-100 px-6 py-4 flex items-center justify-between z-10"},ut={class:"flex items-center space-x-3"},mt={class:"text-xl font-bold text-gray-800"},pt={class:"overflow-y-auto max-h-[calc(90vh-80px)] px-6 py-6 space-y-6"},kt={class:"flex items-center gap-3"},gt={class:"text-sm text-gray-500"},ht={class:"font-bold text-blue-600"},xt={class:"w-full bg-gray-100 rounded-full h-2"},wt={class:"bg-gray-50 rounded-xl p-5 space-y-4"},bt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},vt={key:0},ft={class:"text-sm text-gray-800 mt-1"},yt={key:1},Lt={class:"text-sm text-gray-800 mt-1"},Ct={key:2},jt={class:"text-sm text-gray-800 mt-1"},It={key:3},Et={class:"text-sm text-gray-800 mt-1"},Mt={key:4},Pt={class:"text-sm text-gray-800 mt-1"},Ft={key:5},Ut={class:"text-sm text-gray-800 mt-1"},Vt={key:0},Xt={class:"flex flex-wrap gap-2 mt-2"},_t={class:"bg-gray-50 rounded-xl p-5 space-y-4"},zt={key:0,class:"space-y-2"},Jt={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},At={key:1,class:"space-y-2"},St={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},Dt={key:2,class:"space-y-2"},Bt={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},Qt={key:3,class:"space-y-2"},Wt={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},Ht={key:4,class:"space-y-2"},Ot={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},Tt={class:"bg-gray-50 rounded-xl p-5 space-y-4"},Gt={key:0,class:"space-y-2"},Rt={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},qt={key:1,class:"space-y-2"},Kt={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},$t={key:2,class:"space-y-2"},Nt={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},Zt={key:3,class:"space-y-2"},Yt={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},es={key:4,class:"space-y-2"},ts={class:"text-sm text-gray-700 leading-relaxed"},ss={class:"bg-gray-50 rounded-xl p-5 space-y-4"},as={key:0,class:"space-y-2"},os={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},ls={key:1,class:"space-y-2"},rs={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},ns={key:2,class:"space-y-2"},is={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},cs={key:0,class:"bg-gray-50 rounded-xl p-5 space-y-2"},ds={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"};function us(e,t,s,l,r,n){return(0,o.uX)(),(0,o.Wv)(a.eB,{name:"modal-fade"},{default:(0,o.k6)(()=>[s.isOpen?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-40 backdrop-blur-sm",onClick:t[1]||(t[1]=(0,a.D$)((...e)=>n.close&&n.close(...e),["self"]))},[(0,o.Lk)("div",ct,[(0,o.Lk)("div",dt,[(0,o.Lk)("div",ut,[t[3]||(t[3]=(0,o.Lk)("div",{class:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center"},[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),(0,o.Lk)("div",null,[(0,o.Lk)("h2",mt,(0,E.v_)(s.project.name),1),t[2]||(t[2]=(0,o.Lk)("p",{class:"text-sm text-gray-500"},"å°ˆæ¡ˆè©³ç´°è³‡è¨Š",-1))])]),(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.close&&n.close(...e)),class:"w-8 h-8 rounded-lg hover:bg-gray-100 flex items-center justify-center transition-colors"},[...t[4]||(t[4]=[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),(0,o.Lk)("div",pt,[(0,o.Lk)("div",kt,[(0,o.Lk)("span",{class:(0,E.C4)({"status-pending":"å¾…å¯©æ ¸"===s.project.status,"status-active":"é€²è¡Œä¸­"===s.project.status,"status-completed":"å·²å®Œæˆ"===s.project.status,"status-delayed":"å»¶é²"===s.project.status})},(0,E.v_)(s.project.status||"é€²è¡Œä¸­"),3),(0,o.Lk)("span",{class:(0,E.C4)([{"bg-red-50 text-red-600":"é«˜"===s.project.priority,"bg-yellow-50 text-yellow-600":"ä¸­"===s.project.priority,"bg-green-50 text-green-600":"ä½"===s.project.priority},"px-2 py-1 rounded-md text-xs font-medium"])}," å„ªå…ˆç´šï¼š"+(0,E.v_)(s.project.priority||"ä¸­"),3),t[6]||(t[6]=(0,o.Lk)("div",{class:"flex-1"},null,-1)),(0,o.Lk)("div",gt,[t[5]||(t[5]=(0,o.eW)(" é€²åº¦ï¼š",-1)),(0,o.Lk)("span",ht,(0,E.v_)(s.project.progress||0)+"%",1)])]),(0,o.Lk)("div",xt,[(0,o.Lk)("div",{class:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full transition-all duration-500",style:(0,E.Tr)({width:(s.project.progress||0)+"%"})},null,4)]),(0,o.Lk)("section",wt,[t[14]||(t[14]=(0,o.Lk)("h3",{class:"text-lg font-bold text-gray-800 flex items-center"},[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),(0,o.eW)(" åŸºæœ¬è³‡è¨Š ")],-1)),(0,o.Lk)("div",bt,[s.project.proposalUnit?((0,o.uX)(),(0,o.CE)("div",vt,[t[7]||(t[7]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"ä¸»è¦ææ¡ˆå–®ä½",-1)),(0,o.Lk)("p",ft,(0,E.v_)(s.project.proposalUnit),1)])):(0,o.Q3)("",!0),s.project.proposalContact?((0,o.uX)(),(0,o.CE)("div",yt,[t[8]||(t[8]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"ææ¡ˆè¯çµ¡äºº",-1)),(0,o.Lk)("p",Lt,(0,E.v_)(s.project.proposalContact),1)])):(0,o.Q3)("",!0),s.project.department?((0,o.uX)(),(0,o.CE)("div",Ct,[t[9]||(t[9]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"è² è²¬éƒ¨é–€",-1)),(0,o.Lk)("p",jt,(0,E.v_)(s.project.department),1)])):(0,o.Q3)("",!0),s.project.owner?((0,o.uX)(),(0,o.CE)("div",It,[t[10]||(t[10]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"è² è²¬äºº",-1)),(0,o.Lk)("p",Et,(0,E.v_)(s.project.owner),1)])):(0,o.Q3)("",!0),s.project.startTime?((0,o.uX)(),(0,o.CE)("div",Mt,[t[11]||(t[11]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"é–‹å§‹æ™‚é–“",-1)),(0,o.Lk)("p",Pt,(0,E.v_)(s.project.startTime),1)])):(0,o.Q3)("",!0),s.project.dueDate?((0,o.uX)(),(0,o.CE)("div",Ft,[t[12]||(t[12]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"æˆªæ­¢æ—¥æœŸ",-1)),(0,o.Lk)("p",Ut,(0,E.v_)(s.project.dueDate),1)])):(0,o.Q3)("",!0)]),s.project.relatedUnits&&s.project.relatedUnits.length>0?((0,o.uX)(),(0,o.CE)("div",Vt,[t[13]||(t[13]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"ç›¸é—œå–®ä½",-1)),(0,o.Lk)("div",Xt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.project.relatedUnits,(e,t)=>((0,o.uX)(),(0,o.CE)("span",{key:t,class:"px-2 py-1 bg-blue-50 text-blue-600 rounded text-xs"},(0,E.v_)(e),1))),128))])])):(0,o.Q3)("",!0)]),(0,o.Lk)("section",_t,[t[20]||(t[20]=(0,o.Lk)("h3",{class:"text-lg font-bold text-gray-800 flex items-center"},[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),(0,o.eW)(" å°ˆæ¡ˆèƒŒæ™¯ ")],-1)),s.project.projectReason?((0,o.uX)(),(0,o.CE)("div",zt,[t[15]||(t[15]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"ç‚ºä»€éº¼éœ€è¦é€™å€‹å°ˆæ¡ˆ",-1)),(0,o.Lk)("p",Jt,(0,E.v_)(s.project.projectReason),1)])):(0,o.Q3)("",!0),s.project.currentSituation?((0,o.uX)(),(0,o.CE)("div",At,[t[16]||(t[16]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"ç¾æ³æè¿°",-1)),(0,o.Lk)("p",St,(0,E.v_)(s.project.currentSituation),1)])):(0,o.Q3)("",!0),s.project.difficulties?((0,o.uX)(),(0,o.CE)("div",Dt,[t[17]||(t[17]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"å›°é›£é»",-1)),(0,o.Lk)("p",Bt,(0,E.v_)(s.project.difficulties),1)])):(0,o.Q3)("",!0),s.project.crossUnitIssues?((0,o.uX)(),(0,o.CE)("div",Qt,[t[18]||(t[18]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"è·¨å–®ä½å•é¡Œ",-1)),(0,o.Lk)("p",Wt,(0,E.v_)(s.project.crossUnitIssues),1)])):(0,o.Q3)("",!0),s.project.attemptedSolutions?((0,o.uX)(),(0,o.CE)("div",Ht,[t[19]||(t[19]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"å˜—è©¦éçš„è§£æ±ºæ–¹æ¡ˆ",-1)),(0,o.Lk)("p",Ot,(0,E.v_)(s.project.attemptedSolutions),1)])):(0,o.Q3)("",!0)]),(0,o.Lk)("section",Tt,[t[26]||(t[26]=(0,o.Lk)("h3",{class:"text-lg font-bold text-gray-800 flex items-center"},[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 00 2-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})]),(0,o.eW)(" æœŸæœ›ç›®æ¨™èˆ‡æ•ˆç›Š ")],-1)),s.project.projectGoals?((0,o.uX)(),(0,o.CE)("div",Gt,[t[21]||(t[21]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"å°ˆæ¡ˆç›®æ¨™",-1)),(0,o.Lk)("p",Rt,(0,E.v_)(s.project.projectGoals),1)])):(0,o.Q3)("",!0),s.project.expectedFeatures?((0,o.uX)(),(0,o.CE)("div",qt,[t[22]||(t[22]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"æœŸæœ›åŠŸèƒ½æˆ–æµç¨‹",-1)),(0,o.Lk)("p",Kt,(0,E.v_)(s.project.expectedFeatures),1)])):(0,o.Q3)("",!0),s.project.targetUsers?((0,o.uX)(),(0,o.CE)("div",$t,[t[23]||(t[23]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"ä¸»è¦ä½¿ç”¨è€…",-1)),(0,o.Lk)("p",Nt,(0,E.v_)(s.project.targetUsers),1)])):(0,o.Q3)("",!0),s.project.expectedBenefits?((0,o.uX)(),(0,o.CE)("div",Zt,[t[24]||(t[24]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"é æœŸæå‡æ•ˆç›Š",-1)),(0,o.Lk)("p",Yt,(0,E.v_)(s.project.expectedBenefits),1)])):(0,o.Q3)("",!0),s.project.estimatedTimeline?((0,o.uX)(),(0,o.CE)("div",es,[t[25]||(t[25]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"é ä¼°æ™‚ç¨‹",-1)),(0,o.Lk)("p",ts,(0,E.v_)(s.project.estimatedTimeline),1)])):(0,o.Q3)("",!0)]),(0,o.Lk)("section",ss,[t[30]||(t[30]=(0,o.Lk)("h3",{class:"text-lg font-bold text-gray-800 flex items-center"},[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),(0,o.eW)(" è³‡æºèˆ‡é¢¨éšªè©•ä¼° ")],-1)),s.project.successMetrics?((0,o.uX)(),(0,o.CE)("div",as,[t[27]||(t[27]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"é—œéµæˆåŠŸæŒ‡æ¨™",-1)),(0,o.Lk)("p",os,(0,E.v_)(s.project.successMetrics),1)])):(0,o.Q3)("",!0),s.project.requiredResources?((0,o.uX)(),(0,o.CE)("div",ls,[t[28]||(t[28]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"æ‰€éœ€è³‡æº",-1)),(0,o.Lk)("p",rs,(0,E.v_)(s.project.requiredResources),1)])):(0,o.Q3)("",!0),s.project.riskAssessment?((0,o.uX)(),(0,o.CE)("div",ns,[t[29]||(t[29]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"æ½›åœ¨é¢¨éšª",-1)),(0,o.Lk)("p",is,(0,E.v_)(s.project.riskAssessment),1)])):(0,o.Q3)("",!0)]),s.project.description?((0,o.uX)(),(0,o.CE)("section",cs,[t[31]||(t[31]=(0,o.Lk)("h3",{class:"text-lg font-bold text-gray-800"},"å…¶ä»–èªªæ˜",-1)),(0,o.Lk)("p",ds,(0,E.v_)(s.project.description),1)])):(0,o.Q3)("",!0)])])])):(0,o.Q3)("",!0)]),_:1})}var ms={name:"ProjectDetailModal",props:{project:{type:Object,required:!0},isOpen:{type:Boolean,default:!1}},methods:{close(){this.$emit("close")}},watch:{isOpen(e){document.body.style.overflow=e?"hidden":""}},beforeUnmount(){document.body.style.overflow=""}};const ps=(0,i.A)(ms,[["render",us],["__scopeId","data-v-48a7396c"]]);var ks=ps,gs=s(1195),hs={name:"AdminProjectList",components:{ProjectDetailModal:ks},data(){return{currentStep:1,projects:[],newProject:this.getEmptyProject(),relatedUnitsInput:"",isLoading:!1,searchQuery:"",statusFilter:"",selectedProject:{},isModalOpen:!1,selectedFileName:"",isImporting:!1,importError:"",importSuccess:!1,importedFieldsCount:0}},computed:{canSubmit(){return this.newProject.name&&this.newProject.proposalUnit&&this.newProject.proposalContact},filteredProjects(){return this.projects.filter(e=>{const t=e.name&&e.name.toLowerCase().includes(this.searchQuery.toLowerCase())||e.owner&&e.owner.toLowerCase().includes(this.searchQuery.toLowerCase())||e.proposalUnit&&e.proposalUnit.toLowerCase().includes(this.searchQuery.toLowerCase()),s=!this.statusFilter||e.status===this.statusFilter;return t&&s})}},async mounted(){await this.fetchProjects()},methods:{getEmptyProject(){return{name:"",proposalUnit:"",proposalContact:"",department:"",owner:"",startTime:"",dueDate:"",priority:"ä¸­",progress:0,status:"å¾…å¯©æ ¸",projectReason:"",currentSituation:"",difficulties:"",crossUnitIssues:"",attemptedSolutions:"",projectGoals:"",expectedFeatures:"",targetUsers:"",expectedBenefits:"",estimatedTimeline:"",successMetrics:"",requiredResources:"",riskAssessment:"",description:"",relatedUnits:[]}},async fetchProjects(){this.isLoading=!0;try{const e=await(0,ce.GG)((0,ce.rJ)(pe,"projects"));this.projects=e.docs.map(e=>({id:e.id,...e.data()}))}finally{this.isLoading=!1}},async addProject(){if(!this.canSubmit)return alert("è«‹å¡«å¯«å¿…å¡«æ¬„ä½ï¼šå°ˆæ¡ˆåç¨±ã€ææ¡ˆå–®ä½ã€è¯çµ¡äºº");this.isLoading=!0;try{this.relatedUnitsInput.trim()&&(this.newProject.relatedUnits=this.relatedUnitsInput.split(",").map(e=>e.trim()).filter(e=>e)),await(0,ce.gS)((0,ce.rJ)(pe,"projects"),this.newProject),this.newProject=this.getEmptyProject(),this.relatedUnitsInput="",this.currentStep=1,await this.fetchProjects(),alert("å°ˆæ¡ˆæ–°å¢æˆåŠŸï¼")}catch(e){console.error(e),alert("æ–°å¢å¤±æ•—: "+e.message)}finally{this.isLoading=!1}},async deleteProject(e){if(confirm("ç¢ºå®šè¦åˆªé™¤é€™å€‹å°ˆæ¡ˆå—ï¼Ÿæ­¤æ“ä½œç„¡æ³•é‚„åŸã€‚")){this.isLoading=!0;try{await(0,ce.kd)((0,ce.H9)(pe,"projects",e)),await this.fetchProjects()}catch(t){console.error(t),alert("åˆªé™¤å¤±æ•—")}finally{this.isLoading=!1}}},openDetail(e){this.selectedProject=e,this.isModalOpen=!0},closeDetail(){this.isModalOpen=!1},async handleFileUpload(e){const t=e.target.files[0];if(t)if(this.importError="",this.importSuccess=!1,this.importedFieldsCount=0,t.name.endsWith(".docx"))if(t.size>10485760)this.importError="æ–‡ä»¶å¤§å°è¶…é 10MBï¼Œè«‹é¸æ“‡è¼ƒå°çš„æ–‡ä»¶";else{this.selectedFileName=t.name,this.isImporting=!0;try{const e=await this.parseDocument(t);this.newProject={...this.newProject,...e.fields},this.relatedUnitsInput=e.relatedUnitsText||"",this.importedFieldsCount=e.count,this.importSuccess=!0,this.currentStep=1}catch(s){console.error("Document parsing error:",s),this.importError=s.message||"æ–‡ä»¶è§£æå¤±æ•—ï¼Œè«‹ç¢ºèªæ–‡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¢º"}finally{this.isImporting=!1,e.target.value=""}}else this.importError="è«‹ä¸Šå‚³ .docx æ ¼å¼çš„ Word æ–‡ä»¶"},async parseDocument(e){try{const t=await e.arrayBuffer(),s=await gs.convertToHtml({arrayBuffer:t}),a=s.value;if(!a||0===a.trim().length)throw new Error("æ–‡ä»¶å…§å®¹ç‚ºç©º");const o=new DOMParser,l=o.parseFromString(a,"text/html"),r=l.querySelectorAll("tr");if(0===r.length)throw new Error("æ–‡ä»¶ä¸­æ²’æœ‰æ‰¾åˆ°è¡¨æ ¼ï¼Œè«‹ç¢ºèªä½¿ç”¨æ­£ç¢ºçš„æ–‡ä»¶æ ¼å¼");const n={};r.forEach(e=>{const t=e.querySelectorAll("td, th");if(t.length>=2){const e=t[0].textContent.trim(),s=t[1].textContent.trim(),a=s.replace(/\(è«‹å¡«å¯«\)/g,"").replace(/^\?+$/,"").replace(/^[ï¼š:\s]+/,"").trim();a&&a.length>0&&"?"!==a&&(n[e]=a)}});const i={};let c=0;const d={name:["å°ˆæ¡ˆåç¨±"],proposalUnit:["ä¸»è¦ææ¡ˆå–®ä½","ææ¡ˆå–®ä½"],proposalContact:["è¯çµ¡äºº","ææ¡ˆè¯çµ¡äºº","ä¸»è¦ææ¡ˆå–®ä½/è¯çµ¡äºº","ä¸»è¦ææ¡ˆå–®ä½ / è¯çµ¡äºº"],department:["è² è²¬éƒ¨é–€","åŸ·è¡Œéƒ¨é–€"],owner:["è² è²¬äºº","å°ˆæ¡ˆè² è²¬äºº"],projectReason:["ç‚ºä»€éº¼éœ€è¦é€™å€‹å°ˆæ¡ˆ","ç‚ºä»€éº¼éœ€è¦","ç‚ºä»€éº¼éœ€è¦é€™å€‹å°ˆæ¡ˆï¼Ÿ"],currentSituation:["ç¾æ³","å•é¡Œæƒ…å¢ƒæè¿°","(1) ç¾æ³"],difficulties:["å›°é›£é»","é‡åˆ°å›°é›£","(2) å›°é›£é»"],crossUnitIssues:["è·¨å–®ä½","å„å–®ä½","(3) (è‹¥æ¶‰åŠè·¨å–®ä½)","(è‹¥æ¶‰åŠè·¨å–®ä½)"],attemptedSolutions:["å˜—è©¦éå…¶ä»–è§£æ±ºæ–¹æ¡ˆ","è§£æ±ºæ–¹æ¡ˆ","æœ‰æ²’æœ‰å˜—è©¦","æœ‰æ²’æœ‰å˜—è©¦éå…¶ä»–è§£æ±ºæ–¹æ¡ˆ"],projectGoals:["å°ˆæ¡ˆç›®æ¨™","ç›®æ¨™"],expectedFeatures:["æœŸæœ›åŠŸèƒ½","æƒ³è¦æœ‰ä»€éº¼åŠŸèƒ½","ç†æƒ³çš„æµç¨‹","æƒ³è¦æœ‰ä»€éº¼åŠŸèƒ½æˆ–ç†æƒ³çš„æµç¨‹"],targetUsers:["ä¸»è¦ä½¿ç”¨è€…","ä½¿ç”¨è€…æ˜¯èª°","ä½¿ç”¨è€…","ä¸»è¦ä½¿ç”¨è€…æ˜¯èª°"],expectedBenefits:["é æœŸæå‡æ•ˆç›Š","é æœŸæ•ˆç›Š","æå‡æ•ˆç›Š"],estimatedTimeline:["é ä¼°æ™‚ç¨‹","æ™‚ç¨‹"],successMetrics:["é—œéµæˆåŠŸæŒ‡æ¨™","æˆåŠŸæŒ‡æ¨™"],requiredResources:["ç›¸é—œè³‡æº","æ‰€éœ€è³‡æº"],riskAssessment:["æ½›åœ¨é¢¨éšªè©•ä¼°","æ½›åœ¨é¢¨éšª","é¢¨éšªè©•ä¼°"]};let u="";const m=["ç›¸é—œå–®ä½","ç›¸é—œå–®ä½/è¯çµ¡äºº","ç›¸é—œå–®ä½ / è¯çµ¡äºº"];for(const e of m)if(n[e]){u=n[e];break}for(const[e,k]of Object.entries(d))for(const t of k){if(n[t]){i[e]=n[t],c++;break}for(const[s,a]of Object.entries(n))if(s.includes(t)||t.includes(s)){i[e]=a,c++;break}if(i[e])break}const p=Object.keys(n).filter(e=>e.includes("ç¾æ³")||e.includes("Who"));return p.length>0&&!i.currentSituation&&(i.currentSituation=n[p[0]],c||c++),{fields:i,relatedUnitsText:u,count:c}}catch(t){throw console.error("Parsing error:",t),new Error("ç„¡æ³•è§£ææ–‡ä»¶å…§å®¹ï¼š"+t.message)}}}};const xs=(0,i.A)(hs,[["render",it]]);var ws=xs;const bs={class:"bg-white rounded-2xl shadow-macos p-6 mb-8"},vs={class:"macos-card p-6 mb-6"},fs={class:"text-lg font-bold text-gray-700 mb-4"},ys={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},Ls={class:"mb-4"},Cs={class:"mb-4"},js={class:"flex gap-2"},Is=["disabled"],Es={class:"flex flex-col md:flex-row gap-4 mb-6"},Ms={class:"relative flex-1"},Ps={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Fs={class:"flex items-start justify-between mb-3"},Us={class:"flex-1"},Vs={class:"font-bold text-gray-800 mb-1"},Xs={class:"text-xs text-gray-500"},_s={class:"flex gap-1"},zs={class:"space-y-2 text-sm text-gray-600 mb-4"},Js={class:"flex items-center gap-2"},As={class:"flex items-center gap-2"},Ss={key:0,class:"flex items-center gap-2 text-blue-600 font-medium"},Ds={class:"flex gap-2 pt-3 border-t"},Bs=["onClick"],Qs=["onClick"];function Ws(e,t,s,l,r,n){return(0,o.uX)(),(0,o.CE)("div",bs,[t[34]||(t[34]=(0,o.Lk)("h3",{class:"text-2xl font-bold mb-6 text-gray-800 flex items-center"},[(0,o.Lk)("span",{class:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-2.5 rounded-xl mr-3"},[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})])]),(0,o.eW)(" ä¾‹è¡Œå…¬äº‹ç®¡ç† ")],-1)),(0,o.Lk)("div",vs,[(0,o.Lk)("h4",fs,(0,E.v_)(r.editingId?"ç·¨è¼¯ä¾‹è¡Œå…¬äº‹":"æ–°å¢ä¾‹è¡Œå…¬äº‹"),1),(0,o.Lk)("div",ys,[(0,o.Lk)("div",null,[t[15]||(t[15]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"ä»»å‹™åç¨± *",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.newItem.name=e),placeholder:"ä¾‹ï¼šæ¯é€±ç³»çµ±å‚™ä»½",class:"macos-input w-full"},null,512),[[a.Jo,r.newItem.name]])]),(0,o.Lk)("div",null,[t[17]||(t[17]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"åˆ†é¡",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.newItem.category=e),class:"macos-input w-full"},[...t[16]||(t[16]=[(0,o.Fv)('<option value="">è«‹é¸æ“‡</option><option value="æŠ€è¡“ç¶­é‹">æŠ€è¡“ç¶­é‹</option><option value="è¡Œæ”¿ç®¡ç†">è¡Œæ”¿ç®¡ç†</option><option value="å®¢æˆ¶æœå‹™">å®¢æˆ¶æœå‹™</option><option value="å…¶ä»–">å…¶ä»–</option>',5)])],512),[[a.u1,r.newItem.category]])]),(0,o.Lk)("div",null,[t[18]||(t[18]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"è² è²¬äºº *",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.newItem.assignee=e),placeholder:"å¼µä¸‰",class:"macos-input w-full"},null,512),[[a.Jo,r.newItem.assignee]])]),(0,o.Lk)("div",null,[t[19]||(t[19]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"é »ç‡ *",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>r.newItem.frequency=e),placeholder:"ä¾‹ï¼šæ¯é€±ä¸€",class:"macos-input w-full"},null,512),[[a.Jo,r.newItem.frequency]])]),(0,o.Lk)("div",null,[t[21]||(t[21]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"å„ªå…ˆç´š",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>r.newItem.priority=e),class:"macos-input w-full"},[...t[20]||(t[20]=[(0,o.Lk)("option",{value:"é«˜"},"é«˜",-1),(0,o.Lk)("option",{value:"ä¸­"},"ä¸­",-1),(0,o.Lk)("option",{value:"ä½"},"ä½",-1)])],512),[[a.u1,r.newItem.priority]])]),(0,o.Lk)("div",null,[t[23]||(t[23]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"ç‹€æ…‹",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>r.newItem.status=e),class:"macos-input w-full"},[...t[22]||(t[22]=[(0,o.Lk)("option",{value:"æ­£å¸¸"},"æ­£å¸¸",-1),(0,o.Lk)("option",{value:"å»¶é²"},"å»¶é²",-1),(0,o.Lk)("option",{value:"æš«åœ"},"æš«åœ",-1)])],512),[[a.u1,r.newItem.status]])]),(0,o.Lk)("div",null,[t[24]||(t[24]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"é ä¼°å·¥æ™‚",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>r.newItem.estimatedTime=e),placeholder:"30åˆ†é˜",class:"macos-input w-full"},null,512),[[a.Jo,r.newItem.estimatedTime]])]),(0,o.Lk)("div",null,[t[25]||(t[25]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"ä¸‹æ¬¡åŸ·è¡Œæ—¥æœŸ",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>r.newItem.nextDueDate=e),type:"datetime-local",class:"macos-input w-full"},null,512),[[a.Jo,r.newItem.nextDueDate]])])]),(0,o.Lk)("div",Ls,[t[26]||(t[26]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"èªªæ˜",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[8]||(t[8]=e=>r.newItem.description=e),placeholder:"è©³ç´°èªªæ˜...",rows:"2",class:"macos-input w-full"},null,512),[[a.Jo,r.newItem.description]])]),(0,o.Lk)("div",Cs,[t[27]||(t[27]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"SOP é€£çµ",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>r.newItem.sopLink=e),placeholder:"https://...",class:"macos-input w-full"},null,512),[[a.Jo,r.newItem.sopLink]])]),(0,o.Lk)("div",js,[(0,o.Lk)("button",{onClick:t[10]||(t[10]=(...e)=>n.submitForm&&n.submitForm(...e)),disabled:r.isLoading,class:"macos-button-primary"},(0,E.v_)(r.isLoading?"è™•ç†ä¸­...":r.editingId?"æ›´æ–°":"æ–°å¢"),9,Is),r.editingId?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t[11]||(t[11]=(...e)=>n.cancelEdit&&n.cancelEdit(...e)),class:"macos-button-secondary"}," å–æ¶ˆ ")):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",Es,[(0,o.Lk)("div",Ms,[t[28]||(t[28]=(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>r.searchQuery=e),type:"text",placeholder:"æœå°‹ä»»å‹™...",class:"pl-10 macos-input w-full"},null,512),[[a.Jo,r.searchQuery]])]),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[13]||(t[13]=e=>r.statusFilter=e),class:"macos-input"},[...t[29]||(t[29]=[(0,o.Lk)("option",{value:""},"æ‰€æœ‰ç‹€æ…‹",-1),(0,o.Lk)("option",{value:"æ­£å¸¸"},"æ­£å¸¸",-1),(0,o.Lk)("option",{value:"å»¶é²"},"å»¶é²",-1),(0,o.Lk)("option",{value:"æš«åœ"},"æš«åœ",-1)])],512),[[a.u1,r.statusFilter]]),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[14]||(t[14]=e=>r.categoryFilter=e),class:"macos-input"},[...t[30]||(t[30]=[(0,o.Fv)('<option value="">æ‰€æœ‰åˆ†é¡</option><option value="æŠ€è¡“ç¶­é‹">æŠ€è¡“ç¶­é‹</option><option value="è¡Œæ”¿ç®¡ç†">è¡Œæ”¿ç®¡ç†</option><option value="å®¢æˆ¶æœå‹™">å®¢æˆ¶æœå‹™</option><option value="å…¶ä»–">å…¶ä»–</option>',5)])],512),[[a.u1,r.categoryFilter]])]),(0,o.Lk)("div",Ps,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.filteredItems,e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"macos-card p-4 hover:shadow-macos-hover transition-all"},[(0,o.Lk)("div",Fs,[(0,o.Lk)("div",Us,[(0,o.Lk)("h4",Vs,(0,E.v_)(e.name||e.title),1),(0,o.Lk)("p",Xs,(0,E.v_)(e.category),1)]),(0,o.Lk)("div",_s,[e.priority?((0,o.uX)(),(0,o.CE)("span",{key:0,class:(0,E.C4)([{"bg-red-50 text-red-600":"é«˜"===e.priority,"bg-yellow-50 text-yellow-600":"ä¸­"===e.priority,"bg-green-50 text-green-600":"ä½"===e.priority},"px-2 py-0.5 rounded text-xs font-bold"])},(0,E.v_)(e.priority),3)):(0,o.Q3)("",!0),(0,o.Lk)("span",{class:(0,E.C4)({"status-active":"æ­£å¸¸"===e.status,"status-delayed":"å»¶é²"===e.status,"status-pending":"æš«åœ"===e.status})},(0,E.v_)(e.status),3)])]),(0,o.Lk)("div",zs,[(0,o.Lk)("div",Js,[t[31]||(t[31]=(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),(0,o.eW)(" "+(0,E.v_)(e.frequency),1)]),(0,o.Lk)("div",As,[t[32]||(t[32]=(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),(0,o.eW)(" "+(0,E.v_)(e.assignee),1)]),e.nextDueDate?((0,o.uX)(),(0,o.CE)("div",Ss,[t[33]||(t[33]=(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),(0,o.eW)(" "+(0,E.v_)(n.formatDate(e.nextDueDate)),1)])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Ds,[(0,o.Lk)("button",{onClick:t=>n.startEdit(e),class:"flex-1 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 text-sm font-medium"}," ğŸ“ ç·¨è¼¯ ",8,Bs),(0,o.Lk)("button",{onClick:t=>n.deleteItem(e.id),class:"px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 text-sm font-medium"}," ğŸ—‘ï¸ ",8,Qs)])]))),128))])])}var Hs={name:"AdminRoutineList",data(){return{items:[],isLoading:!1,editingId:null,newItem:this.getEmptyItem(),searchQuery:"",statusFilter:"",categoryFilter:""}},computed:{filteredItems(){return this.items.filter(e=>{const t=(e.name||e.title||"").toLowerCase().includes(this.searchQuery.toLowerCase())||(e.assignee||"").toLowerCase().includes(this.searchQuery.toLowerCase()),s=!this.statusFilter||e.status===this.statusFilter,a=!this.categoryFilter||e.category===this.categoryFilter;return t&&s&&a})}},async mounted(){await this.fetchItems()},methods:{getEmptyItem(){return{name:"",category:"",priority:"ä¸­",description:"",frequency:"",estimatedTime:"",assignee:"",status:"æ­£å¸¸",isActive:!0,completionRate:100,consecutiveSuccess:0,sopLink:"",nextDueDate:""}},async fetchItems(){try{const e=await(0,ce.GG)((0,ce.rJ)(pe,"routines"));this.items=e.docs.map(e=>({id:e.id,...e.data()}))}catch(e){console.error("Failed to fetch routines:",e),alert("è¼‰å…¥å¤±æ•—ï¼š"+e.message)}},async submitForm(){if(this.newItem.name&&this.newItem.assignee&&this.newItem.frequency){this.isLoading=!0;try{const e={...this.newItem,updatedAt:(new Date).toISOString()};this.editingId?await(0,ce.mZ)((0,ce.H9)(pe,"routines",this.editingId),e):(e.createdAt=(new Date).toISOString(),await(0,ce.gS)((0,ce.rJ)(pe,"routines"),e)),await this.fetchItems(),this.cancelEdit(),alert(this.editingId?"æ›´æ–°æˆåŠŸï¼":"æ–°å¢æˆåŠŸï¼")}catch(e){console.error("Failed to save routine:",e),alert("å„²å­˜å¤±æ•—ï¼š"+e.message)}finally{this.isLoading=!1}}else alert("è«‹å¡«å¯«å¿…å¡«æ¬„ä½")},async deleteItem(e){if(confirm("ç¢ºå®šè¦åˆªé™¤æ­¤ä»»å‹™å—ï¼Ÿ"))try{await(0,ce.kd)((0,ce.H9)(pe,"routines",e)),await this.fetchItems(),alert("åˆªé™¤æˆåŠŸï¼")}catch(t){console.error("Failed to delete routine:",t),alert("åˆªé™¤å¤±æ•—ï¼š"+t.message)}},startEdit(e){this.editingId=e.id,this.newItem={...e},window.scrollTo({top:0,behavior:"smooth"})},cancelEdit(){this.newItem=this.getEmptyItem(),this.editingId=null},formatDate(e){if(!e)return"";const t=new Date(e);return t.toLocaleDateString("zh-TW")}}};const Os=(0,i.A)(Hs,[["render",Ws]]);var Ts=Os;const Gs={class:"bg-white rounded-2xl shadow-macos p-6 mb-8"},Rs={class:"macos-card p-6 mb-6"},qs={class:"text-lg font-bold text-gray-700 mb-4"},Ks={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},$s={class:"mb-4"},Ns={class:"mb-4"},Zs={class:"flex gap-2"},Ys=["disabled"],ea={class:"mb-6"},ta={class:"relative"},sa={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},aa={class:"flex items-start justify-between mb-3"},oa={class:"flex-1"},la={class:"text-xs text-green-600 font-bold mb-1"},ra={class:"font-bold text-gray-800"},na={class:"space-y-2 text-sm text-gray-600 mb-4"},ia={class:"flex items-center gap-2"},ca={key:0,class:"flex items-center gap-2"},da={key:1,class:"flex items-center gap-2 text-green-600 font-medium"},ua={class:"flex gap-2 pt-3 border-t"},ma=["onClick"],pa=["onClick"];function ka(e,t,s,l,r,n){return(0,o.uX)(),(0,o.CE)("div",Gs,[t[29]||(t[29]=(0,o.Lk)("h3",{class:"text-2xl font-bold mb-6 text-gray-800 flex items-center"},[(0,o.Lk)("span",{class:"bg-gradient-to-br from-green-500 to-green-600 text-white p-2.5 rounded-xl mr-3"},[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})])]),(0,o.eW)(" è«–å£‡/åˆ†äº«æœƒç®¡ç† ")],-1)),(0,o.Lk)("div",Rs,[(0,o.Lk)("h4",qs,(0,E.v_)(r.editingId?"ç·¨è¼¯åˆ†äº«æœƒ":"æ–°å¢åˆ†äº«æœƒ"),1),(0,o.Lk)("div",Ks,[(0,o.Lk)("div",null,[t[13]||(t[13]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"ä¸»é¡Œ *",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.newItem.topic=e),placeholder:"ä¾‹ï¼šå¾®æœå‹™æ¶æ§‹å¯¦æˆ°",class:"macos-input w-full"},null,512),[[a.Jo,r.newItem.topic]])]),(0,o.Lk)("div",null,[t[15]||(t[15]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"é¡å‹",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.newItem.type=e),class:"macos-input w-full"},[...t[14]||(t[14]=[(0,o.Lk)("option",{value:"è«–å£‡"},"è«–å£‡",-1),(0,o.Lk)("option",{value:"åˆ†äº«æœƒ"},"åˆ†äº«æœƒ",-1),(0,o.Lk)("option",{value:"å·¥ä½œåŠ"},"å·¥ä½œåŠ",-1),(0,o.Lk)("option",{value:"è®€æ›¸æœƒ"},"è®€æ›¸æœƒ",-1)])],512),[[a.u1,r.newItem.type]])]),(0,o.Lk)("div",null,[t[16]||(t[16]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"æ—¥æœŸ *",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.newItem.date=e),type:"date",class:"macos-input w-full"},null,512),[[a.Jo,r.newItem.date]])]),(0,o.Lk)("div",null,[t[17]||(t[17]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"è¬›è€…",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>r.newItem.speaker=e),placeholder:"ç‹å·¥ç¨‹å¸«",class:"macos-input w-full"},null,512),[[a.Jo,r.newItem.speaker]])]),(0,o.Lk)("div",null,[t[18]||(t[18]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"è§’è‰²",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>r.newItem.role=e),placeholder:"è³‡æ·±æ¶æ§‹å¸«",class:"macos-input w-full"},null,512),[[a.Jo,r.newItem.role]])]),(0,o.Lk)("div",null,[t[20]||(t[20]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"ç‹€æ…‹",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>r.newItem.status=e),class:"macos-input w-full"},[...t[19]||(t[19]=[(0,o.Lk)("option",{value:"å ±åä¸­"},"å ±åä¸­",-1),(0,o.Lk)("option",{value:"å·²é¡æ»¿"},"å·²é¡æ»¿",-1),(0,o.Lk)("option",{value:"å·²çµæŸ"},"å·²çµæŸ",-1)])],512),[[a.u1,r.newItem.status]])]),(0,o.Lk)("div",null,[t[21]||(t[21]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"åƒèˆ‡äººæ•¸",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>r.newItem.currentParticipants=e),type:"number",placeholder:"0",class:"macos-input w-full"},null,512),[[a.Jo,r.newItem.currentParticipants,void 0,{number:!0}]])]),(0,o.Lk)("div",null,[t[22]||(t[22]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"äººæ•¸ä¸Šé™",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>r.newItem.maxParticipants=e),type:"number",placeholder:"30",class:"macos-input w-full"},null,512),[[a.Jo,r.newItem.maxParticipants,void 0,{number:!0}]])])]),(0,o.Lk)("div",$s,[t[23]||(t[23]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"èªªæ˜",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[8]||(t[8]=e=>r.newItem.description=e),placeholder:"æ´»å‹•ç°¡ä»‹...",rows:"2",class:"macos-input w-full"},null,512),[[a.Jo,r.newItem.description]])]),(0,o.Lk)("div",Ns,[t[24]||(t[24]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"é€£çµ",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>r.newItem.link=e),placeholder:"https://...",class:"macos-input w-full"},null,512),[[a.Jo,r.newItem.link]])]),(0,o.Lk)("div",Zs,[(0,o.Lk)("button",{onClick:t[10]||(t[10]=(...e)=>n.submitForm&&n.submitForm(...e)),disabled:r.isLoading,class:"macos-button-primary"},(0,E.v_)(r.isLoading?"è™•ç†ä¸­...":r.editingId?"æ›´æ–°":"æ–°å¢"),9,Ys),r.editingId?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t[11]||(t[11]=(...e)=>n.cancelEdit&&n.cancelEdit(...e)),class:"macos-button-secondary"}," å–æ¶ˆ ")):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",ea,[(0,o.Lk)("div",ta,[t[25]||(t[25]=(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>r.searchQuery=e),type:"text",placeholder:"æœå°‹...",class:"pl-10 macos-input w-full"},null,512),[[a.Jo,r.searchQuery]])])]),(0,o.Lk)("div",sa,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.filteredItems,e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"macos-card p-4 hover:shadow-macos-hover transition-all"},[(0,o.Lk)("div",aa,[(0,o.Lk)("div",oa,[(0,o.Lk)("div",la,(0,E.v_)(e.type),1),(0,o.Lk)("h4",ra,(0,E.v_)(e.name||e.topic),1)]),e.status?((0,o.uX)(),(0,o.CE)("span",{key:0,class:(0,E.C4)([{"status-active":"å ±åä¸­"===e.status,"status-delayed":"å·²é¡æ»¿"===e.status,"bg-gray-100 text-gray-600":"å·²çµæŸ"===e.status},"ml-2"])},(0,E.v_)(e.status),3)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",na,[(0,o.Lk)("div",ia,[t[26]||(t[26]=(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),(0,o.eW)(" "+(0,E.v_)(e.date),1)]),e.speaker?((0,o.uX)(),(0,o.CE)("div",ca,[t[27]||(t[27]=(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),(0,o.eW)(" "+(0,E.v_)(e.speaker),1)])):(0,o.Q3)("",!0),e.currentParticipants?((0,o.uX)(),(0,o.CE)("div",da,[t[28]||(t[28]=(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),(0,o.eW)(" "+(0,E.v_)(e.currentParticipants)+(0,E.v_)(e.maxParticipants?"/"+e.maxParticipants:"")+" äºº ",1)])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",ua,[(0,o.Lk)("button",{onClick:t=>n.startEdit(e),class:"flex-1 py-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 text-sm font-medium"}," ğŸ“ ç·¨è¼¯ ",8,ma),(0,o.Lk)("button",{onClick:t=>n.deleteItem(e.id),class:"px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 text-sm font-medium"}," ğŸ—‘ï¸ ",8,pa)])]))),128))])])}var ga={name:"AdminForumList",data(){return{items:[],isLoading:!1,editingId:null,newItem:this.getEmptyItem(),searchQuery:""}},computed:{filteredItems(){return this.items.filter(e=>{const t=(e.name||e.topic||"").toLowerCase().includes(this.searchQuery.toLowerCase())||(e.speaker||"").toLowerCase().includes(this.searchQuery.toLowerCase());return t})}},async mounted(){await this.fetchItems()},methods:{getEmptyItem(){return{topic:"",type:"åˆ†äº«æœƒ",date:"",speaker:"",role:"",status:"å ±åä¸­",currentParticipants:0,maxParticipants:30,description:"",link:""}},async fetchItems(){try{const e=await(0,ce.GG)((0,ce.rJ)(pe,"forums"));this.items=e.docs.map(e=>({id:e.id,...e.data()}))}catch(e){console.error("Failed to fetch forums:",e),alert("è¼‰å…¥å¤±æ•—ï¼š"+e.message)}},async submitForm(){if(this.newItem.topic&&this.newItem.date){this.isLoading=!0;try{const e={...this.newItem,name:this.newItem.topic,updatedAt:(new Date).toISOString()};this.editingId?await(0,ce.mZ)((0,ce.H9)(pe,"forums",this.editingId),e):(e.createdAt=(new Date).toISOString(),await(0,ce.gS)((0,ce.rJ)(pe,"forums"),e)),await this.fetchItems(),this.cancelEdit(),alert(this.editingId?"æ›´æ–°æˆåŠŸï¼":"æ–°å¢æˆåŠŸï¼")}catch(e){console.error("Failed to save forum:",e),alert("å„²å­˜å¤±æ•—ï¼š"+e.message)}finally{this.isLoading=!1}}else alert("è«‹å¡«å¯«å¿…å¡«æ¬„ä½")},async deleteItem(e){if(confirm("ç¢ºå®šè¦åˆªé™¤å—ï¼Ÿ"))try{await(0,ce.kd)((0,ce.H9)(pe,"forums",e)),await this.fetchItems(),alert("åˆªé™¤æˆåŠŸï¼")}catch(t){console.error("Failed to delete forum:",t),alert("åˆªé™¤å¤±æ•—ï¼š"+t.message)}},startEdit(e){this.editingId=e.id,this.newItem={...e,topic:e.topic||e.name},window.scrollTo({top:0,behavior:"smooth"})},cancelEdit(){this.newItem=this.getEmptyItem(),this.editingId=null}}};const ha=(0,i.A)(ga,[["render",ka]]);var xa=ha;const wa={class:"bg-white rounded-2xl shadow-macos p-6 mb-8"},ba={class:"macos-card p-6 mb-6"},va={class:"text-lg font-bold text-gray-700 mb-4"},fa={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},ya={class:"mb-4"},La={class:"flex gap-2"},Ca=["disabled"],ja={class:"mb-6"},Ia={class:"relative"},Ea={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ma={class:"flex"},Pa={class:"bg-red-100 text-red-600 p-4 flex flex-col items-center justify-center min-w-[90px]"},Fa={class:"text-lg font-bold mt-1"},Ua={class:"p-4 flex-grow"},Va={class:"flex items-start justify-between mb-2"},Xa={class:"font-bold text-gray-800 flex-1"},_a={class:"space-y-1 text-sm text-gray-600"},za={key:0,class:"flex items-center gap-2"},Ja={key:1,class:"flex items-center gap-2"},Aa={key:2,class:"flex items-center gap-2 text-red-600 font-medium"},Sa={class:"flex gap-2 px-4 pb-4"},Da=["onClick"],Ba=["onClick"];function Qa(e,t,s,l,r,n){return(0,o.uX)(),(0,o.CE)("div",wa,[t[27]||(t[27]=(0,o.Lk)("h3",{class:"text-2xl font-bold mb-6 text-gray-800 flex items-center"},[(0,o.Lk)("span",{class:"bg-gradient-to-br from-red-500 to-red-600 text-white p-2.5 rounded-xl mr-3"},[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"})])]),(0,o.eW)(" æ´»å‹•åƒèˆ‡ç®¡ç† ")],-1)),(0,o.Lk)("div",ba,[(0,o.Lk)("h4",va,(0,E.v_)(r.editingId?"ç·¨è¼¯æ´»å‹•":"æ–°å¢æ´»å‹•"),1),(0,o.Lk)("div",fa,[(0,o.Lk)("div",null,[t[12]||(t[12]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"æ´»å‹•åç¨± *",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.newItem.name=e),placeholder:"ä¾‹ï¼šå…¬å¸å°¾ç‰™",class:"macos-input w-full"},null,512),[[a.Jo,r.newItem.name]])]),(0,o.Lk)("div",null,[t[14]||(t[14]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"é¡å‹",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.newItem.type=e),class:"macos-input w-full"},[...t[13]||(t[13]=[(0,o.Lk)("option",{value:"å…¬å¸æ´»å‹•"},"å…¬å¸æ´»å‹•",-1),(0,o.Lk)("option",{value:"å¤–éƒ¨ç ”è¨æœƒ"},"å¤–éƒ¨ç ”è¨æœƒ",-1),(0,o.Lk)("option",{value:"åŸ¹è¨“èª²ç¨‹"},"åŸ¹è¨“èª²ç¨‹",-1),(0,o.Lk)("option",{value:"å¿—å·¥æœå‹™"},"å¿—å·¥æœå‹™",-1)])],512),[[a.u1,r.newItem.type]])]),(0,o.Lk)("div",null,[t[15]||(t[15]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"æ—¥æœŸ *",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.newItem.date=e),type:"date",class:"macos-input w-full"},null,512),[[a.Jo,r.newItem.date]])]),(0,o.Lk)("div",null,[t[16]||(t[16]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"åœ°é»",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>r.newItem.location=e),placeholder:"å°åŒ—åœ‹éš›æœƒè­°ä¸­å¿ƒ",class:"macos-input w-full"},null,512),[[a.Jo,r.newItem.location]])]),(0,o.Lk)("div",null,[t[17]||(t[17]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"ä¸»è¾¦å–®ä½",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>r.newItem.organizer=e),placeholder:"äººè³‡éƒ¨",class:"macos-input w-full"},null,512),[[a.Jo,r.newItem.organizer]])]),(0,o.Lk)("div",null,[t[19]||(t[19]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"ç‹€æ…‹",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>r.newItem.status=e),class:"macos-input w-full"},[...t[18]||(t[18]=[(0,o.Lk)("option",{value:"å ±åä¸­"},"å ±åä¸­",-1),(0,o.Lk)("option",{value:"å·²é¡æ»¿"},"å·²é¡æ»¿",-1),(0,o.Lk)("option",{value:"å·²çµæŸ"},"å·²çµæŸ",-1)])],512),[[a.u1,r.newItem.status]])]),(0,o.Lk)("div",null,[t[20]||(t[20]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"åƒèˆ‡äººæ•¸",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>r.newItem.currentParticipants=e),type:"number",placeholder:"0",class:"macos-input w-full"},null,512),[[a.Jo,r.newItem.currentParticipants,void 0,{number:!0}]])]),(0,o.Lk)("div",null,[t[21]||(t[21]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"äººæ•¸ä¸Šé™",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>r.newItem.maxParticipants=e),type:"number",placeholder:"200",class:"macos-input w-full"},null,512),[[a.Jo,r.newItem.maxParticipants,void 0,{number:!0}]])])]),(0,o.Lk)("div",ya,[t[22]||(t[22]=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"èªªæ˜",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[8]||(t[8]=e=>r.newItem.description=e),placeholder:"æ´»å‹•ç°¡ä»‹...",rows:"2",class:"macos-input w-full"},null,512),[[a.Jo,r.newItem.description]])]),(0,o.Lk)("div",La,[(0,o.Lk)("button",{onClick:t[9]||(t[9]=(...e)=>n.submitForm&&n.submitForm(...e)),disabled:r.isLoading,class:"macos-button-primary"},(0,E.v_)(r.isLoading?"è™•ç†ä¸­...":r.editingId?"æ›´æ–°":"æ–°å¢"),9,Ca),r.editingId?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t[10]||(t[10]=(...e)=>n.cancelEdit&&n.cancelEdit(...e)),class:"macos-button-secondary"}," å–æ¶ˆ ")):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",ja,[(0,o.Lk)("div",Ia,[t[23]||(t[23]=(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>r.searchQuery=e),type:"text",placeholder:"æœå°‹...",class:"pl-10 macos-input w-full"},null,512),[[a.Jo,r.searchQuery]])])]),(0,o.Lk)("div",Ea,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.filteredItems,e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"macos-card overflow-hidden hover:shadow-macos-hover transition-all"},[(0,o.Lk)("div",Ma,[(0,o.Lk)("div",Pa,[t[24]||(t[24]=(0,o.Lk)("span",{class:"text-xs font-bold"},"Date",-1)),(0,o.Lk)("span",Fa,(0,E.v_)(n.formatDate(e.date)),1)]),(0,o.Lk)("div",Ua,[(0,o.Lk)("div",Va,[(0,o.Lk)("h4",Xa,(0,E.v_)(e.name),1),e.status?((0,o.uX)(),(0,o.CE)("span",{key:0,class:(0,E.C4)([{"status-active":"å ±åä¸­"===e.status,"status-delayed":"å·²é¡æ»¿"===e.status,"bg-gray-100 text-gray-600":"å·²çµæŸ"===e.status},"ml-2"])},(0,E.v_)(e.status),3)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",_a,[e.location?((0,o.uX)(),(0,o.CE)("div",za,[t[25]||(t[25]=(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),(0,o.eW)(" "+(0,E.v_)(e.location),1)])):(0,o.Q3)("",!0),e.organizer?((0,o.uX)(),(0,o.CE)("div",Ja,[t[26]||(t[26]=(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1)),(0,o.eW)(" "+(0,E.v_)(e.organizer),1)])):(0,o.Q3)("",!0),e.currentParticipants?((0,o.uX)(),(0,o.CE)("div",Aa," ğŸ‘¥ "+(0,E.v_)(e.currentParticipants)+(0,E.v_)(e.maxParticipants?"/"+e.maxParticipants:"")+" äºº ",1)):(0,o.Q3)("",!0)])])]),(0,o.Lk)("div",Sa,[(0,o.Lk)("button",{onClick:t=>n.startEdit(e),class:"flex-1 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 text-sm font-medium"}," ğŸ“ ç·¨è¼¯ ",8,Da),(0,o.Lk)("button",{onClick:t=>n.deleteItem(e.id),class:"px-4 py-2 bg-gray-50 text-gray-600 rounded-lg hover:bg-gray-100 text-sm font-medium"}," ğŸ—‘ï¸ ",8,Ba)])]))),128))])])}var Wa={name:"AdminEventList",data(){return{items:[],isLoading:!1,editingId:null,newItem:this.getEmptyItem(),searchQuery:""}},computed:{filteredItems(){return this.items.filter(e=>{const t=(e.name||"").toLowerCase().includes(this.searchQuery.toLowerCase())||(e.organizer||"").toLowerCase().includes(this.searchQuery.toLowerCase());return t})}},async mounted(){await this.fetchItems()},methods:{getEmptyItem(){return{name:"",type:"å…¬å¸æ´»å‹•",date:"",location:"",organizer:"",status:"å ±åä¸­",currentParticipants:0,maxParticipants:200,description:""}},async fetchItems(){try{const e=await(0,ce.GG)((0,ce.rJ)(pe,"events"));this.items=e.docs.map(e=>({id:e.id,...e.data()}))}catch(e){console.error("Failed to fetch events:",e),alert("è¼‰å…¥å¤±æ•—ï¼š"+e.message)}},async submitForm(){if(this.newItem.name&&this.newItem.date){this.isLoading=!0;try{const e={...this.newItem,updatedAt:(new Date).toISOString()};this.editingId?await(0,ce.mZ)((0,ce.H9)(pe,"events",this.editingId),e):(e.createdAt=(new Date).toISOString(),await(0,ce.gS)((0,ce.rJ)(pe,"events"),e)),await this.fetchItems(),this.cancelEdit(),alert(this.editingId?"æ›´æ–°æˆåŠŸï¼":"æ–°å¢æˆåŠŸï¼")}catch(e){console.error("Failed to save event:",e),alert("å„²å­˜å¤±æ•—ï¼š"+e.message)}finally{this.isLoading=!1}}else alert("è«‹å¡«å¯«å¿…å¡«æ¬„ä½")},async deleteItem(e){if(confirm("ç¢ºå®šè¦åˆªé™¤å—ï¼Ÿ"))try{await(0,ce.kd)((0,ce.H9)(pe,"events",e)),await this.fetchItems(),alert("åˆªé™¤æˆåŠŸï¼")}catch(t){console.error("Failed to delete event:",t),alert("åˆªé™¤å¤±æ•—ï¼š"+t.message)}},startEdit(e){this.editingId=e.id,this.newItem={...e},window.scrollTo({top:0,behavior:"smooth"})},cancelEdit(){this.newItem=this.getEmptyItem(),this.editingId=null},formatDate(e){if(!e)return"";const t=new Date(e);return t.toLocaleDateString("zh-TW",{month:"2-digit",day:"2-digit"})}}};const Ha=(0,i.A)(Wa,[["render",Qa]]);var Oa=Ha;const Ta={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 mb-8"},Ga={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 bg-gray-50 p-6 rounded-xl border border-gray-100"},Ra=["disabled"],qa={key:0},Ka={key:1},$a={class:"overflow-x-auto rounded-lg border border-gray-100"},Na={class:"w-full text-left border-collapse"},Za={class:"text-gray-600 text-sm"},Ya={class:"py-4 px-6"},eo={class:"py-4 px-6"},to={class:"py-4 px-6"},so={class:"py-4 px-6 text-center"},ao=["onClick"],oo={class:"py-4 px-6 font-bold text-gray-800"},lo={class:"py-4 px-6"},ro={class:"py-4 px-6"},no={class:"py-4 px-6 text-center"},io=["onClick"],co=["onClick"];function uo(e,t,s,l,r,n){return(0,o.uX)(),(0,o.CE)("div",Ta,[t[11]||(t[11]=(0,o.Lk)("h3",{class:"text-xl font-bold mb-4 text-gray-800 flex items-center"},[(0,o.Lk)("span",{class:"w-2 h-8 bg-accent-yellow rounded-full mr-3"}),(0,o.eW)(" æ´»å‹•æ¥æ´½ç®¡ç† ")],-1)),(0,o.Lk)("div",Ga,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.newItem.name=e),placeholder:"æ´»å‹•/å–®ä½åç¨±",class:"border-gray-200 border p-2 rounded-lg focus:ring-2 focus:ring-accent-yellow focus:border-accent-yellow outline-none transition"},null,512),[[a.Jo,r.newItem.name]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.newItem.contact=e),placeholder:"è¯çµ¡äºº",class:"border-gray-200 border p-2 rounded-lg focus:ring-2 focus:ring-accent-yellow focus:border-accent-yellow outline-none transition"},null,512),[[a.Jo,r.newItem.contact]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.newItem.status=e),placeholder:"æ¥æ´½ç‹€æ…‹",class:"border-gray-200 border p-2 rounded-lg focus:ring-2 focus:ring-accent-yellow focus:border-accent-yellow outline-none transition"},null,512),[[a.Jo,r.newItem.status]]),(0,o.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>n.addItem&&n.addItem(...e)),disabled:r.isLoading,class:"bg-accent-yellow text-white px-4 py-2 rounded-lg hover:bg-yellow-600 disabled:opacity-50 transition flex items-center justify-center font-medium shadow-sm hover:shadow"},[r.isLoading?((0,o.uX)(),(0,o.CE)("span",qa,"è™•ç†ä¸­...")):((0,o.uX)(),(0,o.CE)("span",Ka,"æ–°å¢æ¥æ´½"))],8,Ra)]),(0,o.Lk)("div",$a,[(0,o.Lk)("table",Na,[t[10]||(t[10]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",{class:"bg-gray-50 text-gray-600 uppercase text-xs font-semibold tracking-wider"},[(0,o.Lk)("th",{class:"py-4 px-6"},"æ´»å‹•/å–®ä½åç¨±"),(0,o.Lk)("th",{class:"py-4 px-6"},"è¯çµ¡äºº"),(0,o.Lk)("th",{class:"py-4 px-6"},"ç‹€æ…‹"),(0,o.Lk)("th",{class:"py-4 px-6 text-center"},"æ“ä½œ")])],-1)),(0,o.Lk)("tbody",Za,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.items,e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.id,class:"border-b border-gray-100 hover:bg-yellow-50 transition duration-150"},[r.editingId===e.id?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.Lk)("td",Ya,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>r.editForm.name=e),class:"border p-2 rounded w-full focus:ring-2 focus:ring-accent-yellow outline-none"},null,512),[[a.Jo,r.editForm.name]])]),(0,o.Lk)("td",eo,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>r.editForm.contact=e),class:"border p-2 rounded w-full focus:ring-2 focus:ring-accent-yellow outline-none"},null,512),[[a.Jo,r.editForm.contact]])]),(0,o.Lk)("td",to,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>r.editForm.status=e),class:"border p-2 rounded w-full focus:ring-2 focus:ring-accent-yellow outline-none"},null,512),[[a.Jo,r.editForm.status]])]),(0,o.Lk)("td",so,[(0,o.Lk)("button",{onClick:t=>n.updateItem(e.id),class:"bg-green-500 text-white px-3 py-1 rounded mr-2 hover:bg-green-600 transition"},"å„²å­˜",8,ao),(0,o.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>n.cancelEdit&&n.cancelEdit(...e)),class:"bg-gray-400 text-white px-3 py-1 rounded hover:bg-gray-500 transition"},"å–æ¶ˆ")])],64)):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.Lk)("td",oo,(0,E.v_)(e.name),1),(0,o.Lk)("td",lo,(0,E.v_)(e.contact),1),(0,o.Lk)("td",ro,[(0,o.Lk)("span",{class:(0,E.C4)([{"bg-green-100 text-green-700":"å·²å®Œæˆ"===e.status,"bg-yellow-100 text-yellow-700":"æ¥æ´½ä¸­"===e.status,"bg-red-100 text-red-700":"å¤±æ•—"===e.status},"py-1 px-3 rounded-full text-xs font-bold"])},(0,E.v_)(e.status),3)]),(0,o.Lk)("td",no,[(0,o.Lk)("button",{onClick:t=>n.startEdit(e),class:"text-accent-yellow hover:text-yellow-700 mr-3 transition"},[...t[8]||(t[8]=[(0,o.Lk)("i",{class:"fas fa-edit"},null,-1),(0,o.eW)(" ç·¨è¼¯",-1)])],8,io),(0,o.Lk)("button",{onClick:t=>n.deleteItem(e.id),class:"text-red-500 hover:text-red-700 transition"},[...t[9]||(t[9]=[(0,o.Lk)("i",{class:"fas fa-trash"},null,-1),(0,o.eW)(" åˆªé™¤",-1)])],8,co)])],64))]))),128))])])])])}var mo={data(){return{items:[],isLoading:!1,editingId:null,editForm:{},newItem:{name:"",contact:"",status:"æ¥æ´½ä¸­"}}},async mounted(){await this.fetchItems()},methods:{async fetchItems(){this.isLoading=!0;try{const e=await(0,ce.GG)((0,ce.rJ)(pe,"coordination"));this.items=e.docs.map(e=>({id:e.id,...e.data()}))}finally{this.isLoading=!1}},async addItem(){if(!this.newItem.name)return alert("è«‹è¼¸å…¥åç¨±");this.isLoading=!0;try{await(0,ce.gS)((0,ce.rJ)(pe,"coordination"),this.newItem),this.newItem={name:"",contact:"",status:"æ¥æ´½ä¸­"},await this.fetchItems()}finally{this.isLoading=!1}},async deleteItem(e){if(confirm("ç¢ºå®šè¦åˆªé™¤å—ï¼Ÿ")){this.isLoading=!0;try{await(0,ce.kd)((0,ce.H9)(pe,"coordination",e)),await this.fetchItems()}finally{this.isLoading=!1}}},startEdit(e){this.editingId=e.id,this.editForm={...e}},cancelEdit(){this.editingId=null,this.editForm={}},async updateItem(e){this.isLoading=!0;try{await(0,ce.mZ)((0,ce.H9)(pe,"coordination",e),this.editForm),this.editingId=null,await this.fetchItems()}finally{this.isLoading=!1}}}};const po=(0,i.A)(mo,[["render",uo]]);var ko=po;const go={class:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden"},ho={class:"p-6"},xo={class:"flex gap-3 mb-8"},wo=["disabled"],bo={key:0,class:"mr-2"},vo={key:0,class:"text-center py-8 text-gray-500"},fo={key:1,class:"text-center py-8 text-gray-500 bg-gray-50 rounded-xl"},yo={key:2,class:"overflow-x-auto"},Lo={class:"w-full text-left border-collapse"},Co={class:"text-gray-600"},jo={class:"py-3 pl-4 font-medium text-gray-800"},Io={class:"py-3 text-sm"},Eo={class:"py-3 text-right pr-4"},Mo=["onClick"];function Po(e,t,s,l,r,n){return(0,o.uX)(),(0,o.CE)("div",go,[t[6]||(t[6]=(0,o.Lk)("div",{class:"p-6 border-b border-gray-100 flex justify-between items-center"},[(0,o.Lk)("h3",{class:"text-lg font-bold text-gray-800"},"å…è¨±åå–®ç®¡ç†"),(0,o.Lk)("span",{class:"text-sm text-gray-500"},"åƒ…åˆ—å‡ºçš„ Email å¯ç™»å…¥å¾Œå°")],-1)),(0,o.Lk)("div",ho,[(0,o.Lk)("div",xo,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.newEmail=e),type:"email",placeholder:"è¼¸å…¥ Gmail åœ°å€ (ä¾‹å¦‚: user@gmail.com)",class:"flex-1 px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",onKeyup:t[1]||(t[1]=(0,a.jR)((...e)=>n.addEmail&&n.addEmail(...e),["enter"]))},null,544),[[a.Jo,r.newEmail]]),(0,o.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>n.addEmail&&n.addEmail(...e)),disabled:!n.isValidEmail||r.loading,class:"px-6 py-2 bg-primary-600 text-white font-medium rounded-xl hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center"},[r.loading?((0,o.uX)(),(0,o.CE)("span",bo,[...t[3]||(t[3]=[(0,o.Lk)("svg",{class:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[(0,o.Lk)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),(0,o.Lk)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):(0,o.Q3)("",!0),t[4]||(t[4]=(0,o.eW)(" æ–°å¢ ",-1))],8,wo)]),r.isLoadingList?((0,o.uX)(),(0,o.CE)("div",vo," è¼‰å…¥ä¸­... ")):0===r.whitelist.length?((0,o.uX)(),(0,o.CE)("div",fo," ç›®å‰æ²’æœ‰å…è¨±åå–®ï¼Œè«‹æ–°å¢æ‚¨çš„ Email ä»¥ç¢ºä¿ä¸‹æ¬¡èƒ½ç™»å…¥ã€‚ ")):((0,o.uX)(),(0,o.CE)("div",yo,[(0,o.Lk)("table",Lo,[t[5]||(t[5]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",{class:"text-gray-400 text-sm border-b border-gray-100"},[(0,o.Lk)("th",{class:"py-3 font-medium pl-4"},"Email"),(0,o.Lk)("th",{class:"py-3 font-medium"},"åŠ å…¥æ™‚é–“"),(0,o.Lk)("th",{class:"py-3 font-medium text-right pr-4"},"æ“ä½œ")])],-1)),(0,o.Lk)("tbody",Co,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.whitelist,e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.id,class:"border-b border-gray-50 hover:bg-gray-50 transition-colors"},[(0,o.Lk)("td",jo,(0,E.v_)(e.email),1),(0,o.Lk)("td",Io,(0,E.v_)(n.formatDate(e.createdAt)),1),(0,o.Lk)("td",Eo,[(0,o.Lk)("button",{onClick:t=>n.removeEmail(e.id,e.email),class:"text-red-400 hover:text-red-600 transition-colors text-sm font-medium"}," ç§»é™¤ ",8,Mo)])]))),128))])])]))])])}var Fo={name:"AdminWhitelist",data(){return{newEmail:"",whitelist:[],loading:!1,isLoadingList:!0}},computed:{isValidEmail(){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.newEmail)}},async mounted(){await this.fetchWhitelist()},methods:{formatDate(e){return e?new Date(1e3*e.seconds).toLocaleDateString("zh-TW"):"-"},async fetchWhitelist(){this.isLoadingList=!0;try{const e=(0,ce.P)((0,ce.rJ)(pe,"whitelisted_users"),(0,ce.My)("createdAt","desc")),t=await(0,ce.GG)(e);this.whitelist=t.docs.map(e=>({id:e.id,...e.data()}))}catch(e){console.error("Error fetching whitelist: ",e)}finally{this.isLoadingList=!1}},async addEmail(){if(this.isValidEmail){this.loading=!0;try{const e=this.whitelist.some(e=>e.email.toLowerCase()===this.newEmail.toLowerCase());if(e)return alert("æ­¤ Email å·²ç¶“åœ¨åå–®ä¸­"),void(this.loading=!1);await(0,ce.gS)((0,ce.rJ)(pe,"whitelisted_users"),{email:this.newEmail.toLowerCase(),createdAt:(0,ce.O5)()}),this.newEmail="",await this.fetchWhitelist(),alert("æ–°å¢æˆåŠŸï¼")}catch(e){console.error("Error adding email: ",e),alert("æ–°å¢å¤±æ•—: "+e.message)}finally{this.loading=!1}}},async removeEmail(e,t){if(confirm(`ç¢ºå®šè¦ç§»é™¤ ${t} å—ï¼Ÿæ­¤ç”¨æˆ¶å°‡ç„¡æ³•å†ç™»å…¥å¾Œå°ã€‚`))try{await(0,ce.kd)((0,ce.H9)(pe,"whitelisted_users",e)),await this.fetchWhitelist()}catch(s){console.error("Error removing email: ",s),alert("ç§»é™¤å¤±æ•—")}}}};const Uo=(0,i.A)(Fo,[["render",Po]]);var Vo=Uo,Xo={name:"AdminView",components:{AdminDashboardHome:xe,AdminProjectList:ws,AdminRoutineList:Ts,AdminForumList:xa,AdminEventList:Oa,AdminCoordinationList:ko,AdminWhitelist:Vo},data(){return{activeTab:"dashboard",mobileMenuOpen:!1,tabs:[{id:"dashboard",name:"å„€è¡¨æ¿ç¸½è¦½",component:"AdminDashboardHome",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" /></svg>'},{id:"projects",name:"å°ˆæ¡ˆé€²åº¦",component:"AdminProjectList",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" /></svg>'},{id:"routines",name:"ä¾‹è¡Œå…¬äº‹",component:"AdminRoutineList",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>'},{id:"forums",name:"è«–å£‡/åˆ†äº«æœƒ",component:"AdminForumList",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" /></svg>'},{id:"events",name:"æ´»å‹•åƒèˆ‡",component:"AdminEventList",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z" /></svg>'},{id:"coordination",name:"æ´»å‹•æ¥æ´½",component:"AdminCoordinationList",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" /></svg>'},{id:"whitelist",name:"æ¬Šé™ç®¡ç†",component:"AdminWhitelist",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" /></svg>'}]}},methods:{async logout(){try{await(0,de.CI)(ke),this.$router.push("/login")}catch(e){console.error("Error signing out: ",e),alert("ç™»å‡ºå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦")}},async testConnection(){try{const e=await(0,ce.GG)((0,ce.rJ)(pe,"projects"));if(alert(`é€£ç·šæˆåŠŸï¼æ‰¾åˆ° ${e.size} ç­†å°ˆæ¡ˆè³‡æ–™ã€‚`),0===e.size){const e=confirm("è³‡æ–™åº«æ˜¯ç©ºçš„ã€‚æ˜¯å¦è¦åŠ å…¥ä¸€ç­†æ¸¬è©¦è³‡æ–™ï¼Ÿ");e&&(await(0,ce.gS)((0,ce.rJ)(pe,"projects"),{name:"æ¸¬è©¦å°ˆæ¡ˆ",description:"é€™æ˜¯ä¸€ç­†æ¸¬è©¦è³‡æ–™",status:"é€²è¡Œä¸­",progress:50,deadline:(new Date).toISOString().split("T")[0],createdAt:new Date}),alert("æ¸¬è©¦è³‡æ–™å·²åŠ å…¥ï¼è«‹é‡æ–°æ•´ç†é é¢ã€‚"),window.location.reload())}}catch(e){console.error("Connection failed: ",e),alert(`é€£ç·šå¤±æ•—ï¼éŒ¯èª¤è¨Šæ¯: ${e.message}\nè«‹æª¢æŸ¥ Firestore å®‰å…¨è¦å‰‡ã€‚`)}}},computed:{activeComponent(){const e=this.tabs.find(e=>e.id===this.activeTab);return e?e.component:null},currentTabName(){const e=this.tabs.find(e=>e.id===this.activeTab);return e?e.name:""},currentDate(){return(new Date).toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric"})}}};const _o=(0,i.A)(Xo,[["render",G],["__scopeId","data-v-035e6dcd"]]);var zo=_o;const Jo={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},Ao={class:"max-w-md w-full space-y-8"},So={class:"mt-8 space-y-6"},Do=["disabled"],Bo={key:0},Qo={key:1},Wo={class:"rounded-md shadow-sm -space-y-px"},Ho=["disabled"],Oo={key:0},To={key:1},Go={key:0,class:"text-red-500 text-center text-sm"};function Ro(e,t,s,l,r,n){return(0,o.uX)(),(0,o.CE)("div",Jo,[(0,o.Lk)("div",Ao,[t[8]||(t[8]=(0,o.Lk)("div",null,[(0,o.Lk)("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," ç®¡ç†å“¡ç™»å…¥ ")],-1)),(0,o.Lk)("div",So,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.loginWithGoogle&&n.loginWithGoogle(...e)),disabled:r.isLoading,class:"w-full flex justify-center items-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},[t[4]||(t[4]=(0,o.Lk)("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",class:"w-5 h-5 mr-2"},null,-1)),r.isLoading?((0,o.uX)(),(0,o.CE)("span",Bo,"ç™»å…¥ä¸­...")):((0,o.uX)(),(0,o.CE)("span",Qo,"ä½¿ç”¨ Google å¸³è™Ÿç™»å…¥"))],8,Do),t[7]||(t[7]=(0,o.Fv)('<div class="relative"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-300"></div></div><div class="relative flex justify-center text-sm"><span class="px-2 bg-gray-50 text-gray-500">æˆ–ä½¿ç”¨ Email ç™»å…¥</span></div></div>',1)),(0,o.Lk)("form",{class:"space-y-6",onSubmit:t[3]||(t[3]=(0,a.D$)((...e)=>n.login&&n.login(...e),["prevent"]))},[(0,o.Lk)("div",Wo,[(0,o.Lk)("div",null,[t[5]||(t[5]=(0,o.Lk)("label",{for:"email-address",class:"sr-only"},"Email address",-1)),(0,o.bo)((0,o.Lk)("input",{id:"email-address",name:"email",type:"email",autocomplete:"email",required:"","onUpdate:modelValue":t[1]||(t[1]=e=>r.email=e),class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address"},null,512),[[a.Jo,r.email]])]),(0,o.Lk)("div",null,[t[6]||(t[6]=(0,o.Lk)("label",{for:"password",class:"sr-only"},"Password",-1)),(0,o.bo)((0,o.Lk)("input",{id:"password",name:"password",type:"password",autocomplete:"current-password",required:"","onUpdate:modelValue":t[2]||(t[2]=e=>r.password=e),class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password"},null,512),[[a.Jo,r.password]])])]),(0,o.Lk)("div",null,[(0,o.Lk)("button",{type:"submit",disabled:r.isLoading,class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},[r.isLoading?((0,o.uX)(),(0,o.CE)("span",Oo,"ç™»å…¥ä¸­...")):((0,o.uX)(),(0,o.CE)("span",To,"ç™»å…¥"))],8,Ho)]),r.error?((0,o.uX)(),(0,o.CE)("div",Go,(0,E.v_)(r.error),1)):(0,o.Q3)("",!0)],32)])])])}var qo={name:"LoginView",data(){return{email:"",password:"",isLoading:!1,error:""}},methods:{async login(){this.isLoading=!0,this.error="";try{await(0,de.x9)(ke,this.email,this.password),this.$router.push("/admin")}catch(e){console.error(e),this.error="ç™»å…¥å¤±æ•—ï¼Œè«‹æª¢æŸ¥ Email å’Œå¯†ç¢¼ã€‚"}finally{this.isLoading=!1}},async loginWithGoogle(){this.isLoading=!0,this.error="";const e=new de.HF;try{const t=await(0,de.df)(ke,e),s=t.user,a=(0,ce.P)((0,ce.rJ)(pe,"whitelisted_users"),(0,ce._M)("email","==",s.email.toLowerCase())),o=await(0,ce.GG)(a);if(o.empty)return await(0,de.CI)(ke),this.error="æ‚¨æ²’æœ‰æ¬Šé™ç™»å…¥æ­¤å¾Œå°ã€‚è«‹è¯ç¹«ç®¡ç†å“¡å–å¾—æˆæ¬Šã€‚",void(this.isLoading=!1);this.$router.push("/admin")}catch(t){console.error(t),this.error="Google ç™»å…¥å¤±æ•—: "+t.message}finally{this.isLoading=!1}}}};const Ko=(0,i.A)(qo,[["render",Ro]]);var $o=Ko;const No=[{path:"/",name:"Home",component:I},{path:"/login",name:"Login",component:$o},{path:"/admin",name:"Admin",component:zo,meta:{requiresAuth:!0}}],Zo=(0,u.aE)({history:(0,u.LA)("/project_update/"),routes:No});Zo.beforeEach((e,t,s)=>{const a=e.matched.some(e=>e.meta.requiresAuth),o=ke.currentUser;a&&!o?s("/login"):s()});var Yo=Zo;let el;(0,de.hg)(ke,()=>{el||(el=(0,a.Ef)(d).use(Yo).mount("#app"))})}},t={};function s(a){var o=t[a];if(void 0!==o)return o.exports;var l=t[a]={exports:{}};return e[a].call(l.exports,l,l.exports,s),l.exports}s.m=e,function(){var e=[];s.O=function(t,a,o,l){if(!a){var r=1/0;for(d=0;d<e.length;d++){a=e[d][0],o=e[d][1],l=e[d][2];for(var n=!0,i=0;i<a.length;i++)(!1&l||r>=l)&&Object.keys(s.O).every(function(e){return s.O[e](a[i])})?a.splice(i--,1):(n=!1,l<r&&(r=l));if(n){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[a,o,l]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,l,r=a[0],n=a[1],i=a[2],c=0;if(r.some(function(t){return 0!==e[t]})){for(o in n)s.o(n,o)&&(s.m[o]=n[o]);if(i)var d=i(s)}for(t&&t(a);c<r.length;c++)l=r[c],s.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return s.O(d)},a=self["webpackChunkproject_update"]=self["webpackChunkproject_update"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],function(){return s(3182)});a=s.O(a)})();
//# sourceMappingURL=app.6f5d2f30.js.map
(function(){"use strict";var e={7795:function(e,t,s){var o=s(5130),a=s(6768);const r={id:"app",class:"font-sans text-gray-900 antialiased bg-gray-100 min-h-screen"};function l(e,t,s,o,l,n){const i=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",r,[(0,a.bF)(i)])}var n={name:"App"},i=s(1241);const d=(0,i.A)(n,[["render",l]]);var c=d,u=(s(8111),s(3579),s(8512));const p={class:"min-h-screen bg-gray-100 font-sans pb-12"},m={class:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg mb-8"},g={class:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8 text-center"},k={class:"mt-6"},h={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},x={class:"mb-8 transform transition hover:scale-[1.01] duration-300"},b={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},w={class:"transform transition hover:scale-[1.02] duration-300"},y={class:"transform transition hover:scale-[1.02] duration-300"},f={class:"transform transition hover:scale-[1.02] duration-300"},L={class:"transform transition hover:scale-[1.02] duration-300"};function v(e,t,s,o,r,l){const n=(0,a.g2)("router-link"),i=(0,a.g2)("ProjectTable"),d=(0,a.g2)("RoutineList"),c=(0,a.g2)("ForumList"),u=(0,a.g2)("EventList"),v=(0,a.g2)("CoordinationList");return(0,a.uX)(),(0,a.CE)("div",p,[(0,a.Lk)("header",m,[(0,a.Lk)("div",g,[t[1]||(t[1]=(0,a.Lk)("h1",{class:"text-4xl font-extrabold tracking-tight sm:text-5xl mb-2"}," å…¬å¸å°ˆæ¡ˆå‹•æ…‹å„€è¡¨æ¿ ",-1)),t[2]||(t[2]=(0,a.Lk)("p",{class:"text-lg text-indigo-100 max-w-2xl mx-auto"}," å³æ™‚æŒæ¡å°ˆæ¡ˆé€²åº¦ã€æ´»å‹•èˆ‡åœ˜éšŠå‹•æ…‹ ",-1)),(0,a.Lk)("div",k,[(0,a.bF)(n,{to:"/admin",class:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-full text-indigo-700 bg-white hover:bg-indigo-50 transition duration-150 ease-in-out shadow-md hover:shadow-lg transform hover:-translate-y-1"},{default:(0,a.k6)(()=>[...t[0]||(t[0]=[(0,a.eW)(" é€²å…¥ç®¡ç†å¾Œå° ",-1)])]),_:1})])])]),(0,a.Lk)("main",h,[(0,a.Lk)("div",x,[(0,a.bF)(i)]),(0,a.Lk)("div",b,[(0,a.Lk)("div",w,[(0,a.bF)(d)]),(0,a.Lk)("div",y,[(0,a.bF)(c)]),(0,a.Lk)("div",f,[(0,a.bF)(u)]),(0,a.Lk)("div",L,[(0,a.bF)(v)])])])])}var C={name:"HomeView"};const j=(0,i.A)(C,[["render",v]]);var E=j,I=s(4232);const F={class:"min-h-screen bg-gray-50 font-sans flex"},U={class:"w-64 bg-white shadow-lg fixed h-full z-10 hidden md:flex flex-col transition-all duration-300"},X={class:"flex-grow p-4 space-y-2 overflow-y-auto"},P=["onClick"],M=["innerHTML"],V={class:"p-4 border-t border-gray-100"},_={class:"md:hidden fixed w-full bg-white z-20 shadow-sm px-4 py-3 flex justify-between items-center"},J={class:"p-6 border-b border-gray-100 flex justify-between items-center"},A={class:"p-4 space-y-2"},z=["onClick"],S=["innerHTML"],B={class:"border-t border-gray-100 my-2 pt-2"},W={class:"flex-1 md:ml-64 p-6 pt-20 md:pt-6 transition-all duration-300"},Q={class:"max-w-5xl mx-auto"},H={class:"mb-8 flex justify-between items-end"},D={class:"text-3xl font-bold text-gray-800"},O={class:"text-gray-500 mt-1"},G={class:"hidden md:block text-sm text-gray-400"};function T(e,t,s,r,l,n){const i=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",F,[(0,a.Lk)("aside",U,[t[9]||(t[9]=(0,a.Fv)('<div class="p-6 border-b border-gray-100 flex items-center justify-center" data-v-035e6dcd><h1 class="text-2xl font-bold text-primary-600 flex items-center" data-v-035e6dcd><span class="bg-primary-100 p-2 rounded-lg mr-2" data-v-035e6dcd><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-035e6dcd><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" data-v-035e6dcd></path></svg></span> Admin </h1></div>',1)),(0,a.Lk)("nav",X,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.tabs,e=>((0,a.uX)(),(0,a.CE)("button",{key:e.id,onClick:t=>l.activeTab=e.id,class:(0,I.C4)(["w-full flex items-center px-4 py-3 rounded-xl transition-all duration-200 font-medium",l.activeTab===e.id?"bg-primary-50 text-primary-600 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"])},[(0,a.Lk)("span",{class:"mr-3",innerHTML:e.icon},null,8,M),(0,a.eW)(" "+(0,I.v_)(e.name),1)],10,P))),128))]),(0,a.Lk)("div",V,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.testConnection&&n.testConnection(...e)),class:"w-full flex items-center px-4 py-3 text-blue-600 hover:bg-blue-50 hover:text-blue-700 rounded-xl transition-colors mb-2"},[...t[6]||(t[6]=[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1),(0,a.eW)(" æ¸¬è©¦é€£ç·š ",-1)])]),(0,a.bF)(i,{to:"/",class:"flex items-center px-4 py-3 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-xl transition-colors mb-2"},{default:(0,a.k6)(()=>[...t[7]||(t[7]=[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),(0,a.eW)(" è¿”å›é¦–é  ",-1)])]),_:1}),(0,a.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>n.logout&&n.logout(...e)),class:"w-full flex items-center px-4 py-3 text-red-500 hover:bg-red-50 hover:text-red-700 rounded-xl transition-colors"},[...t[8]||(t[8]=[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),(0,a.eW)(" ç™»å‡º ",-1)])])])]),(0,a.Lk)("div",_,[t[11]||(t[11]=(0,a.Lk)("h1",{class:"text-lg font-bold text-gray-800"},"ç®¡ç†å¾Œå°",-1)),(0,a.Lk)("button",{onClick:t[2]||(t[2]=e=>l.mobileMenuOpen=!l.mobileMenuOpen),class:"text-gray-600 focus:outline-none"},[...t[10]||(t[10]=[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16m-7 6h7"})],-1)])])]),l.mobileMenuOpen?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"fixed inset-0 z-30 bg-black bg-opacity-50 md:hidden",onClick:t[3]||(t[3]=e=>l.mobileMenuOpen=!1)})):(0,a.Q3)("",!0),(0,a.Lk)("div",{class:(0,I.C4)(["fixed inset-y-0 left-0 z-40 w-64 bg-white shadow-xl transform transition-transform duration-300 ease-in-out md:hidden",l.mobileMenuOpen?"translate-x-0":"-translate-x-full"])},[(0,a.Lk)("div",J,[t[13]||(t[13]=(0,a.Lk)("h1",{class:"text-xl font-bold text-primary-600"},"Admin",-1)),(0,a.Lk)("button",{onClick:t[4]||(t[4]=e=>l.mobileMenuOpen=!1),class:"text-gray-500"},[...t[12]||(t[12]=[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),(0,a.Lk)("nav",A,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.tabs,e=>((0,a.uX)(),(0,a.CE)("button",{key:e.id,onClick:t=>{l.activeTab=e.id,l.mobileMenuOpen=!1},class:(0,I.C4)(["w-full flex items-center px-4 py-3 rounded-xl transition-all duration-200 font-medium",l.activeTab===e.id?"bg-primary-50 text-primary-600":"text-gray-600 hover:bg-gray-50"])},[(0,a.Lk)("span",{class:"mr-3",innerHTML:e.icon},null,8,S),(0,a.eW)(" "+(0,I.v_)(e.name),1)],10,z))),128)),(0,a.Lk)("div",B,[(0,a.bF)(i,{to:"/",class:"flex items-center px-4 py-3 text-gray-600 hover:bg-gray-50 rounded-xl"},{default:(0,a.k6)(()=>[...t[14]||(t[14]=[(0,a.eW)("è¿”å›é¦–é ",-1)])]),_:1}),(0,a.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>n.logout&&n.logout(...e)),class:"w-full flex items-center px-4 py-3 text-red-500 hover:bg-red-50 rounded-xl"},"ç™»å‡º")])])],2),(0,a.Lk)("main",W,[(0,a.Lk)("div",Q,[(0,a.Lk)("div",H,[(0,a.Lk)("div",null,[(0,a.Lk)("h2",D,(0,I.v_)(n.currentTabName),1),(0,a.Lk)("p",O,"ç®¡ç†æ‚¨çš„"+(0,I.v_)(n.currentTabName)+"è³‡æ–™",1)]),(0,a.Lk)("div",G,(0,I.v_)(n.currentDate),1)]),(0,a.bF)(o.eB,{name:"fade",mode:"out-in"},{default:(0,a.k6)(()=>[((0,a.uX)(),(0,a.Wv)((0,a.$y)(n.activeComponent)))]),_:1})])])])}s(4114),s(116);const K={class:"space-y-6"},q={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},R=["innerHTML"],$={class:"text-sm text-gray-500 font-medium"},N={class:"text-2xl font-bold text-gray-800"},Z={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Y={class:"bg-white rounded-xl shadow-sm p-6"},ee={class:"h-64 relative"},te={key:1,class:"flex items-center justify-center h-full text-gray-400"},se={class:"bg-white rounded-xl shadow-sm p-6"},oe={class:"h-64 relative"},ae={key:1,class:"flex items-center justify-center h-full text-gray-400"};function re(e,t,s,o,r,l){const n=(0,a.g2)("Pie"),i=(0,a.g2)("Bar");return(0,a.uX)(),(0,a.CE)("div",K,[(0,a.Lk)("div",q,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.stats,(e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:(0,I.C4)(["bg-white rounded-xl shadow-sm p-6 flex items-center space-x-4 border-l-4",e.borderColor])},[(0,a.Lk)("div",{class:(0,I.C4)(["p-3 rounded-lg",e.iconBg])},[(0,a.Lk)("span",{class:"text-2xl",innerHTML:e.icon},null,8,R)],2),(0,a.Lk)("div",null,[(0,a.Lk)("p",$,(0,I.v_)(e.label),1),(0,a.Lk)("p",N,(0,I.v_)(e.value),1)])],2))),128))]),(0,a.Lk)("div",Z,[(0,a.Lk)("div",Y,[t[0]||(t[0]=(0,a.Lk)("h3",{class:"text-lg font-bold text-gray-800 mb-4"},"å°ˆæ¡ˆç‹€æ…‹åˆ†ä½ˆ",-1)),(0,a.Lk)("div",ee,[r.projectChartData?((0,a.uX)(),(0,a.Wv)(n,{key:0,data:r.projectChartData,options:r.chartOptions},null,8,["data","options"])):((0,a.uX)(),(0,a.CE)("div",te,"Loading..."))])]),(0,a.Lk)("div",se,[t[1]||(t[1]=(0,a.Lk)("h3",{class:"text-lg font-bold text-gray-800 mb-4"},"å„é …äº‹å‹™çµ±è¨ˆ",-1)),(0,a.Lk)("div",oe,[r.overviewChartData?((0,a.uX)(),(0,a.Wv)(i,{key:0,data:r.overviewChartData,options:r.chartOptions},null,8,["data","options"])):((0,a.uX)(),(0,a.CE)("div",ae,"Loading..."))])])])])}s(2489),s(1701);var le=s(9064),ne=s(1010),ie=s(6400),de=s(2832),ce=s(4388);const ue={apiKey:"AIzaSyBlOglfZtVNC3wkH8FzxPRWpZjbioOisKA",authDomain:"project-update-ab874.firebaseapp.com",projectId:"project-update-ab874",storageBucket:"project-update-ab874.firebasestorage.app",messagingSenderId:"149051930119",appId:"1:149051930119:web:fa2be596b9c047fdb4dca2"},pe=(0,ie.Wp)(ue),me=(0,de.aU)(pe),ge=(0,ce.xI)(pe);le.t1.register(le.Bs,le.m_,le.s$,le.E8,le.PP,le.kc);var ke={name:"AdminDashboardHome",components:{Pie:ne.Fq,Bar:ne.yP},data(){return{stats:[{label:"ç¸½å°ˆæ¡ˆæ•¸",value:0,icon:"ğŸ“Š",borderColor:"border-blue-500",iconBg:"bg-blue-100"},{label:"ä¾‹è¡Œå…¬äº‹",value:0,icon:"ğŸ“",borderColor:"border-orange-500",iconBg:"bg-orange-100"},{label:"è«–å£‡æ–‡ç« ",value:0,icon:"ğŸ’¬",borderColor:"border-purple-500",iconBg:"bg-purple-100"},{label:"æ´»å‹•åƒèˆ‡",value:0,icon:"ğŸ“…",borderColor:"border-pink-500",iconBg:"bg-pink-100"}],projectChartData:null,overviewChartData:null,chartOptions:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}}},async created(){await this.fetchData()},methods:{async fetchData(){try{const e=await(0,de.GG)((0,de.rJ)(me,"projects")),t=e.docs.map(e=>e.data()),s=t.filter(e=>100===e.progress).length,o=t.length-s,a=await(0,de.GG)((0,de.rJ)(me,"routines")),r=await(0,de.GG)((0,de.rJ)(me,"forums")),l=await(0,de.GG)((0,de.rJ)(me,"events"));this.stats[0].value=t.length,this.stats[1].value=a.size,this.stats[2].value=r.size,this.stats[3].value=l.size,this.projectChartData={labels:["é€²è¡Œä¸­","å·²å®Œæˆ"],datasets:[{backgroundColor:["#3B82F6","#10B981"],data:[o,s]}]},this.overviewChartData={labels:["å°ˆæ¡ˆ","ä¾‹è¡Œ","è«–å£‡","æ´»å‹•"],datasets:[{label:"æ•¸é‡",backgroundColor:["#3B82F6","#F97316","#8B5CF6","#EC4899"],data:[t.length,a.size,r.size,l.size]}]}}catch(e){console.error("Error fetching dashboard data:",e)}}}};const he=(0,i.A)(ke,[["render",re]]);var xe=he;const be={class:"space-y-6"},we={class:"macos-card p-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-100"},ye={class:"flex flex-col md:flex-row items-start md:items-center gap-3"},fe=["disabled"],Le={key:0,class:"flex items-center text-sm text-gray-700 bg-white px-3 py-2 rounded-lg"},ve={key:1,class:"flex items-center text-sm text-blue-600"},Ce={key:0,class:"mt-4 text-sm text-red-700 bg-red-50 border border-red-200 p-3 rounded-lg flex items-start"},je={key:1,class:"mt-4 text-sm text-green-700 bg-green-50 border border-green-200 p-3 rounded-lg flex items-start"},Ee={class:"macos-card p-6"},Ie={class:"flex items-center justify-between mb-6"},Fe={class:"text-sm text-gray-500"},Ue={class:"flex items-center mb-8"},Xe={class:"space-y-4"},Pe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Me={class:"space-y-4"},Ve={class:"space-y-4"},_e={class:"space-y-4"},Je={class:"flex justify-between mt-6 pt-6 border-t border-gray-100"},Ae={key:1},ze={class:"flex gap-3"},Se=["disabled"],Be={key:0},We={key:1},Qe={class:"macos-card p-6"},He={class:"flex items-center justify-between mb-6"},De={class:"text-sm text-gray-500"},Oe={class:"flex flex-col md:flex-row gap-3 mb-6"},Ge={class:"flex-1 relative"},Te={key:0,class:"text-center py-12"},Ke={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},qe=["onClick"],Re={class:"flex items-start justify-between mb-3"},$e={class:"font-bold text-gray-800 text-base group-hover:text-[#007AFF] transition-colors line-clamp-2 flex-1"},Ne=["onClick"],Ze={class:"flex flex-wrap items-center gap-2 mb-3"},Ye={class:"text-xs text-gray-600 space-y-1 mb-3"},et={key:0},tt={key:1},st={key:2},ot={class:"mb-2"},at={class:"flex justify-between text-xs text-gray-500 mb-1"},rt={class:"font-bold text-[#007AFF]"},lt={class:"w-full bg-gray-100 rounded-full h-1.5"},nt={key:2,class:"text-center py-12"};function it(e,t,s,r,l,n){const i=(0,a.g2)("ProjectDetailModal");return(0,a.uX)(),(0,a.CE)("div",be,[(0,a.Lk)("div",we,[t[39]||(t[39]=(0,a.Fv)('<div class="flex items-center justify-between mb-4"><div class="flex items-center"><div class="w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center mr-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg></div><div><h3 class="text-lg font-bold text-gray-800">ğŸ“„ å¿«é€ŸåŒ¯å…¥</h3><p class="text-sm text-gray-600">ä¸Šå‚³éœ€æ±‚ææ¡ˆå–® 2.0 (.docx) è‡ªå‹•å¡«å¯«è¡¨å–®</p></div></div></div>',1)),(0,a.Lk)("div",ye,[(0,a.Lk)("input",{type:"file",accept:".docx",onChange:t[0]||(t[0]=(...e)=>n.handleFileUpload&&n.handleFileUpload(...e)),ref:"fileInput",class:"hidden"},null,544),(0,a.Lk)("button",{onClick:t[1]||(t[1]=t=>e.$refs.fileInput.click()),disabled:l.isImporting,class:"macos-button-primary disabled:opacity-50 disabled:cursor-not-allowed"},[...t[32]||(t[32]=[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1),(0,a.eW)(" é¸æ“‡ Word æ–‡ä»¶ ",-1)])],8,fe),l.selectedFileName?((0,a.uX)(),(0,a.CE)("div",Le,[t[33]||(t[33]=(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),(0,a.eW)(" "+(0,I.v_)(l.selectedFileName),1)])):(0,a.Q3)("",!0),l.isImporting?((0,a.uX)(),(0,a.CE)("div",ve,[...t[34]||(t[34]=[(0,a.Lk)("svg",{class:"animate-spin h-4 w-4 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[(0,a.Lk)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),(0,a.Lk)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),(0,a.eW)(" è§£ææ–‡ä»¶ä¸­... ",-1)])])):(0,a.Q3)("",!0)]),l.importError?((0,a.uX)(),(0,a.CE)("div",Ce,[t[36]||(t[36]=(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),(0,a.Lk)("div",null,[t[35]||(t[35]=(0,a.Lk)("strong",null,"åŒ¯å…¥å¤±æ•—ï¼š",-1)),(0,a.eW)((0,I.v_)(l.importError),1)])])):(0,a.Q3)("",!0),l.importSuccess?((0,a.uX)(),(0,a.CE)("div",je,[t[38]||(t[38]=(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),(0,a.Lk)("div",null,[t[37]||(t[37]=(0,a.Lk)("strong",null,"åŒ¯å…¥æˆåŠŸï¼",-1)),(0,a.eW)("å·²è‡ªå‹•å¡«å…¥ "+(0,I.v_)(l.importedFieldsCount)+" å€‹æ¬„ä½ï¼Œè«‹ç¢ºèªè³‡æ–™ç„¡èª¤å¾Œæäº¤ã€‚ ",1)])])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",Ee,[(0,a.Lk)("div",Ie,[t[40]||(t[40]=(0,a.Lk)("h3",{class:"text-xl font-bold text-gray-800"},"æ–°å¢å°ˆæ¡ˆææ¡ˆ",-1)),(0,a.Lk)("span",Fe,"æ­¥é©Ÿ "+(0,I.v_)(l.currentStep)+"/4",1)]),(0,a.Lk)("div",Ue,[((0,a.uX)(),(0,a.CE)(a.FK,null,(0,a.pI)(4,e=>(0,a.Lk)("div",{key:e,class:"flex items-center flex-1"},[(0,a.Lk)("div",{class:(0,I.C4)(["flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium transition-all",l.currentStep>=e?"bg-[#007AFF] text-white":"bg-gray-200 text-gray-500"])},(0,I.v_)(e),3),e<4?((0,a.uX)(),(0,a.CE)("div",{key:0,class:(0,I.C4)(["flex-1 h-1 mx-2 rounded",l.currentStep>e?"bg-[#007AFF]":"bg-gray-200"])},null,2)):(0,a.Q3)("",!0)])),64))]),(0,a.bo)((0,a.Lk)("div",Xe,[(0,a.Lk)("div",Pe,[(0,a.Lk)("div",null,[t[41]||(t[41]=(0,a.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"å°ˆæ¡ˆåç¨± *",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.newProject.name=e),placeholder:"è«‹è¼¸å…¥å°ˆæ¡ˆåç¨±",class:"macos-input w-full"},null,512),[[o.Jo,l.newProject.name]])]),(0,a.Lk)("div",null,[t[42]||(t[42]=(0,a.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"ä¸»è¦ææ¡ˆå–®ä½ *",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.newProject.proposalUnit=e),placeholder:"ä¾‹å¦‚ï¼šæŠ€è¡“éƒ¨",class:"macos-input w-full"},null,512),[[o.Jo,l.newProject.proposalUnit]])]),(0,a.Lk)("div",null,[t[43]||(t[43]=(0,a.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"ææ¡ˆè¯çµ¡äºº *",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.newProject.proposalContact=e),placeholder:"å§“å/é›»è©±/Email",class:"macos-input w-full"},null,512),[[o.Jo,l.newProject.proposalContact]])]),(0,a.Lk)("div",null,[t[44]||(t[44]=(0,a.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"è² è²¬éƒ¨é–€",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>l.newProject.department=e),placeholder:"è² è²¬åŸ·è¡Œçš„éƒ¨é–€",class:"macos-input w-full"},null,512),[[o.Jo,l.newProject.department]])]),(0,a.Lk)("div",null,[t[45]||(t[45]=(0,a.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"è² è²¬äºº",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.newProject.owner=e),placeholder:"å°ˆæ¡ˆè² è²¬äºº",class:"macos-input w-full"},null,512),[[o.Jo,l.newProject.owner]])]),(0,a.Lk)("div",null,[t[46]||(t[46]=(0,a.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"ç›¸é—œå–®ä½ï¼ˆå¤šå€‹ç”¨é€—è™Ÿåˆ†éš”ï¼‰",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>l.relatedUnitsInput=e),placeholder:"ä¾‹å¦‚ï¼šè¡ŒéŠ·éƒ¨,å®¢æœéƒ¨",class:"macos-input w-full"},null,512),[[o.Jo,l.relatedUnitsInput]])]),(0,a.Lk)("div",null,[t[47]||(t[47]=(0,a.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"é–‹å§‹æ™‚é–“",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>l.newProject.startTime=e),type:"date",class:"macos-input w-full"},null,512),[[o.Jo,l.newProject.startTime]])]),(0,a.Lk)("div",null,[t[48]||(t[48]=(0,a.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"æˆªæ­¢æ—¥æœŸ",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>l.newProject.dueDate=e),type:"date",class:"macos-input w-full"},null,512),[[o.Jo,l.newProject.dueDate]])]),(0,a.Lk)("div",null,[t[50]||(t[50]=(0,a.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"å„ªå…ˆç´š",-1)),(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":t[10]||(t[10]=e=>l.newProject.priority=e),class:"macos-input w-full"},[...t[49]||(t[49]=[(0,a.Lk)("option",null,"é«˜",-1),(0,a.Lk)("option",null,"ä¸­",-1),(0,a.Lk)("option",null,"ä½",-1)])],512),[[o.u1,l.newProject.priority]])]),(0,a.Lk)("div",null,[t[52]||(t[52]=(0,a.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"ç‹€æ…‹",-1)),(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":t[11]||(t[11]=e=>l.newProject.status=e),class:"macos-input w-full"},[...t[51]||(t[51]=[(0,a.Lk)("option",null,"å¾…å¯©æ ¸",-1),(0,a.Lk)("option",null,"é€²è¡Œä¸­",-1),(0,a.Lk)("option",null,"å·²å®Œæˆ",-1),(0,a.Lk)("option",null,"å»¶é²",-1)])],512),[[o.u1,l.newProject.status]])])])],512),[[o.aG,1===l.currentStep]]),(0,a.bo)((0,a.Lk)("div",Me,[(0,a.Lk)("div",null,[t[53]||(t[53]=(0,a.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"ç‚ºä»€éº¼éœ€è¦é€™å€‹å°ˆæ¡ˆï¼Ÿ *",-1)),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[12]||(t[12]=e=>l.newProject.projectReason=e),rows:"3",placeholder:"è«‹èªªæ˜æ­¤å°ˆæ¡ˆçš„é‡è¦æ€§ï¼Œä»¥åŠå®ƒå¦‚ä½•å½±éŸ¿æ•´é«”ç›®æ¨™",class:"macos-textarea w-full"},null,512),[[o.Jo,l.newProject.projectReason]])]),(0,a.Lk)("div",null,[t[54]||(t[54]=(0,a.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"ç¾æ³æè¿°",-1)),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[13]||(t[13]=e=>l.newProject.currentSituation=e),rows:"3",placeholder:"ç›®å‰æ˜¯èª° (Who)ã€ç”¨ä»€éº¼æ–¹æ³• (How)ã€åœ¨åšä»€éº¼äº‹ (What)ï¼Ÿ",class:"macos-textarea w-full"},null,512),[[o.Jo,l.newProject.currentSituation]])]),(0,a.Lk)("div",null,[t[55]||(t[55]=(0,a.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"å›°é›£é»",-1)),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[14]||(t[14]=e=>l.newProject.difficulties=e),rows:"3",placeholder:"ç›®å‰é‡åˆ°ä»€éº¼å•é¡Œæˆ–ç“¶é ¸ï¼Ÿç‚ºä»€éº¼ç¾æœ‰æ–¹æ³•ä¸å¤ å¥½ï¼Ÿ",class:"macos-textarea w-full"},null,512),[[o.Jo,l.newProject.difficulties]])]),(0,a.Lk)("div",null,[t[56]||(t[56]=(0,a.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"è·¨å–®ä½å•é¡Œï¼ˆå¦‚é©ç”¨ï¼‰",-1)),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[15]||(t[15]=e=>l.newProject.crossUnitIssues=e),rows:"2",placeholder:"è‹¥æ¶‰åŠè·¨å–®ä½ï¼Œé€™å€‹å•é¡Œå¦‚ä½•åœ¨å„å–®ä½ä¹‹é–“ç™¼ç”Ÿï¼Ÿ",class:"macos-textarea w-full"},null,512),[[o.Jo,l.newProject.crossUnitIssues]])]),(0,a.Lk)("div",null,[t[57]||(t[57]=(0,a.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"å˜—è©¦éçš„è§£æ±ºæ–¹æ¡ˆ",-1)),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[16]||(t[16]=e=>l.newProject.attemptedSolutions=e),rows:"2",placeholder:"æ˜¯å¦å·²ç¶“å˜—è©¦éå…¶ä»–æ–¹æ³•ï¼Ÿçµæœå¦‚ä½•ï¼Ÿ",class:"macos-textarea w-full"},null,512),[[o.Jo,l.newProject.attemptedSolutions]])])],512),[[o.aG,2===l.currentStep]]),(0,a.bo)((0,a.Lk)("div",Ve,[(0,a.Lk)("div",null,[t[58]||(t[58]=(0,a.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"å°ˆæ¡ˆç›®æ¨™ *",-1)),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[17]||(t[17]=e=>l.newProject.projectGoals=e),rows:"3",placeholder:"å¸Œæœ›é”åˆ°ä»€éº¼å…·é«”ç›®æ¨™ï¼Ÿä¾‹å¦‚ï¼šæ¸›å°‘ A æµç¨‹æ™‚é–“å¾ 3 å¤©ç¸®çŸ­åˆ° 1 å¤©",class:"macos-textarea w-full"},null,512),[[o.Jo,l.newProject.projectGoals]])]),(0,a.Lk)("div",null,[t[59]||(t[59]=(0,a.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"æœŸæœ›åŠŸèƒ½æˆ–ç†æƒ³æµç¨‹",-1)),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[18]||(t[18]=e=>l.newProject.expectedFeatures=e),rows:"3",placeholder:"å¸Œæœ›ç³»çµ±èƒ½åšä»€éº¼ï¼Ÿç†æƒ³çš„æ“ä½œæµç¨‹æ˜¯ä»€éº¼ï¼Ÿ",class:"macos-textarea w-full"},null,512),[[o.Jo,l.newProject.expectedFeatures]])]),(0,a.Lk)("div",null,[t[60]||(t[60]=(0,a.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"ä¸»è¦ä½¿ç”¨è€…æ˜¯èª°ï¼Ÿ",-1)),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[19]||(t[19]=e=>l.newProject.targetUsers=e),rows:"2",placeholder:"èª°æœƒç”¨é€™å€‹ç³»çµ±æˆ–æµç¨‹ï¼Ÿè«‹åˆ—å‡ºæ‰€æœ‰æœƒæ¥è§¸åˆ°çš„ã€Œå–®ä½ã€æˆ–ã€Œè§’è‰²ã€",class:"macos-textarea w-full"},null,512),[[o.Jo,l.newProject.targetUsers]])]),(0,a.Lk)("div",null,[t[61]||(t[61]=(0,a.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"é æœŸæå‡æ•ˆç›Š",-1)),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[20]||(t[20]=e=>l.newProject.expectedBenefits=e),rows:"3",placeholder:"å¯é‡åŒ–ï¼šæ¸›å°‘å·¥æ™‚ 50%ã€ç¯€çœæˆæœ¬ 8 å°æ™‚/é€±\\nä¸å¯é‡åŒ–ï¼šæå‡å®¢æˆ¶æ»¿æ„åº¦ã€ç¬¦åˆæ³•è¦",class:"macos-textarea w-full"},null,512),[[o.Jo,l.newProject.expectedBenefits]])]),(0,a.Lk)("div",null,[t[62]||(t[62]=(0,a.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"é ä¼°æ™‚ç¨‹",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[21]||(t[21]=e=>l.newProject.estimatedTimeline=e),placeholder:"ä¾‹å¦‚ï¼šé è¨ˆå°ˆæ¡ˆå¾å•Ÿå‹•åˆ°å®Œæˆç´„ 3 å€‹æœˆ",class:"macos-input w-full"},null,512),[[o.Jo,l.newProject.estimatedTimeline]])])],512),[[o.aG,3===l.currentStep]]),(0,a.bo)((0,a.Lk)("div",_e,[(0,a.Lk)("div",null,[t[63]||(t[63]=(0,a.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"é—œéµæˆåŠŸæŒ‡æ¨™",-1)),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[22]||(t[22]=e=>l.newProject.successMetrics=e),rows:"3",placeholder:"å¦‚ä½•è¡¡é‡é€™å€‹å°ˆæ¡ˆæ˜¯å¦æˆåŠŸï¼Ÿä¾‹å¦‚ï¼šä¸Šç·šå¾Œå®¢æˆ¶æ»¿æ„åº¦æå‡è‡³ 90%ã€ç³»çµ±ä¸Šç·šç„¡é‡å¤§éŒ¯èª¤",class:"macos-textarea w-full"},null,512),[[o.Jo,l.newProject.successMetrics]])]),(0,a.Lk)("div",null,[t[64]||(t[64]=(0,a.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"æ‰€éœ€è³‡æº",-1)),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[23]||(t[23]=e=>l.newProject.requiredResources=e),rows:"3",placeholder:"åŸ·è¡Œæ­¤å°ˆæ¡ˆéœ€è¦å“ªäº›è³‡æºï¼Ÿä¾‹å¦‚ï¼šç‰¹å®šäººå“¡æŠ•å…¥ã€é ç®—ã€ç¡¬é«”è¨­å‚™ã€å¤–éƒ¨å» å•†æ”¯æ´",class:"macos-textarea w-full"},null,512),[[o.Jo,l.newProject.requiredResources]])]),(0,a.Lk)("div",null,[t[65]||(t[65]=(0,a.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"æ½›åœ¨é¢¨éšªè©•ä¼°",-1)),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[24]||(t[24]=e=>l.newProject.riskAssessment=e),rows:"3",placeholder:"åŸ·è¡Œæ­¤å°ˆæ¡ˆå¯èƒ½é‡åˆ°ä»€éº¼é¢¨éšªï¼Ÿä¾‹å¦‚ï¼šèˆŠç³»çµ±è³‡æ–™ç„¡æ³•è½‰ç§»ã€äººå“¡ä¸è¶³",class:"macos-textarea w-full"},null,512),[[o.Jo,l.newProject.riskAssessment]])]),(0,a.Lk)("div",null,[t[66]||(t[66]=(0,a.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"é€²åº¦ï¼ˆ%ï¼‰",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[25]||(t[25]=e=>l.newProject.progress=e),type:"number",min:"0",max:"100",placeholder:"0-100",class:"macos-input w-full"},null,512),[[o.Jo,l.newProject.progress,void 0,{number:!0}]])]),(0,a.Lk)("div",null,[t[67]||(t[67]=(0,a.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"å…¶ä»–è£œå……èªªæ˜",-1)),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[26]||(t[26]=e=>l.newProject.description=e),rows:"2",placeholder:"å…¶ä»–éœ€è¦è£œå……çš„è³‡è¨Š",class:"macos-textarea w-full"},null,512),[[o.Jo,l.newProject.description]])])],512),[[o.aG,4===l.currentStep]]),(0,a.Lk)("div",Je,[l.currentStep>1?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:t[27]||(t[27]=e=>l.currentStep--),class:"macos-button-secondary"}," ä¸Šä¸€æ­¥ ")):((0,a.uX)(),(0,a.CE)("div",Ae)),(0,a.Lk)("div",ze,[l.currentStep<4?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:t[28]||(t[28]=e=>l.currentStep++),class:"macos-button-primary"}," ä¸‹ä¸€æ­¥ ")):((0,a.uX)(),(0,a.CE)("button",{key:1,onClick:t[29]||(t[29]=(...e)=>n.addProject&&n.addProject(...e)),disabled:l.isLoading||!n.canSubmit,class:"macos-button-primary disabled:opacity-50 disabled:cursor-not-allowed"},[l.isLoading?((0,a.uX)(),(0,a.CE)("span",Be,"æäº¤ä¸­...")):((0,a.uX)(),(0,a.CE)("span",We,"æäº¤å°ˆæ¡ˆ"))],8,Se))])])]),(0,a.Lk)("div",Qe,[(0,a.Lk)("div",He,[t[68]||(t[68]=(0,a.Lk)("h3",{class:"text-xl font-bold text-gray-800"},"å°ˆæ¡ˆåˆ—è¡¨",-1)),(0,a.Lk)("span",De,"å…± "+(0,I.v_)(n.filteredProjects.length)+" å€‹å°ˆæ¡ˆ",1)]),(0,a.Lk)("div",Oe,[(0,a.Lk)("div",Ge,[t[69]||(t[69]=(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[30]||(t[30]=e=>l.searchQuery=e),placeholder:"æœå°‹å°ˆæ¡ˆ...",class:"macos-input w-full pl-10"},null,512),[[o.Jo,l.searchQuery]])]),(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":t[31]||(t[31]=e=>l.statusFilter=e),class:"macos-input w-full md:w-48"},[...t[70]||(t[70]=[(0,a.Fv)('<option value="">æ‰€æœ‰ç‹€æ…‹</option><option value="å¾…å¯©æ ¸">å¾…å¯©æ ¸</option><option value="é€²è¡Œä¸­">é€²è¡Œä¸­</option><option value="å·²å®Œæˆ">å·²å®Œæˆ</option><option value="å»¶é²">å»¶é²</option>',5)])],512),[[o.u1,l.statusFilter]])]),l.isLoading?((0,a.uX)(),(0,a.CE)("div",Te,[...t[71]||(t[71]=[(0,a.Lk)("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-[#007AFF]"},null,-1),(0,a.Lk)("p",{class:"text-gray-500 mt-3"},"è¼‰å…¥ä¸­...",-1)])])):n.filteredProjects.length>0?((0,a.uX)(),(0,a.CE)("div",Ke,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.filteredProjects,e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"macos-card p-5 cursor-pointer hover:shadow-macos-hover transition-all group",onClick:t=>n.openDetail(e)},[(0,a.Lk)("div",Re,[(0,a.Lk)("h4",$e,(0,I.v_)(e.name),1),(0,a.Lk)("button",{onClick:(0,o.D$)(t=>n.deleteProject(e.id),["stop"]),class:"opacity-0 group-hover:opacity-100 ml-2 p-1 hover:bg-red-50 rounded transition-all"},[...t[72]||(t[72]=[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Ne)]),(0,a.Lk)("div",Ze,[(0,a.Lk)("span",{class:(0,I.C4)({"status-pending":"å¾…å¯©æ ¸"===e.status,"status-active":"é€²è¡Œä¸­"===e.status,"status-completed":"å·²å®Œæˆ"===e.status,"status-delayed":"å»¶é²"===e.status})},(0,I.v_)(e.status||"é€²è¡Œä¸­"),3),(0,a.Lk)("span",{class:(0,I.C4)([{"bg-red-50 text-red-600":"é«˜"===e.priority,"bg-yellow-50 text-yellow-600":"ä¸­"===e.priority,"bg-green-50 text-green-600":"ä½"===e.priority},"px-2 py-1 rounded-md text-xs font-medium"])},(0,I.v_)(e.priority||"ä¸­"),3)]),(0,a.Lk)("div",Ye,[e.proposalUnit?((0,a.uX)(),(0,a.CE)("div",et,"ğŸ“ "+(0,I.v_)(e.proposalUnit),1)):(0,a.Q3)("",!0),e.owner?((0,a.uX)(),(0,a.CE)("div",tt,"ğŸ‘¤ "+(0,I.v_)(e.owner),1)):(0,a.Q3)("",!0),e.dueDate?((0,a.uX)(),(0,a.CE)("div",st,"ğŸ“… "+(0,I.v_)(e.dueDate),1)):(0,a.Q3)("",!0)]),(0,a.Lk)("div",ot,[(0,a.Lk)("div",at,[t[73]||(t[73]=(0,a.Lk)("span",null,"é€²åº¦",-1)),(0,a.Lk)("span",rt,(0,I.v_)(e.progress||0)+"%",1)]),(0,a.Lk)("div",lt,[(0,a.Lk)("div",{class:"bg-gradient-to-r from-blue-500 to-blue-600 h-1.5 rounded-full transition-all",style:(0,I.Tr)({width:(e.progress||0)+"%"})},null,4)])])],8,qe))),128))])):((0,a.uX)(),(0,a.CE)("div",nt,[...t[74]||(t[74]=[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 mx-auto text-gray-300 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1),(0,a.Lk)("p",{class:"text-gray-500"},"å°šç„¡å°ˆæ¡ˆï¼Œè«‹æ–°å¢ç¬¬ä¸€å€‹å°ˆæ¡ˆ",-1)])]))]),(0,a.bF)(i,{project:l.selectedProject,isOpen:l.isModalOpen,onClose:n.closeDetail},null,8,["project","isOpen","onClose"])])}s(7588);const dt={class:"w-full max-w-4xl max-h-[90vh] overflow-hidden macos-card modal-shadow animate-modal-slide"},ct={class:"sticky top-0 bg-white border-b border-gray-100 px-6 py-4 flex items-center justify-between z-10"},ut={class:"flex items-center space-x-3"},pt={class:"text-xl font-bold text-gray-800"},mt={class:"overflow-y-auto max-h-[calc(90vh-80px)] px-6 py-6 space-y-6"},gt={class:"flex items-center gap-3"},kt={class:"text-sm text-gray-500"},ht={class:"font-bold text-blue-600"},xt={class:"w-full bg-gray-100 rounded-full h-2"},bt={class:"bg-gray-50 rounded-xl p-5 space-y-4"},wt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},yt={key:0},ft={class:"text-sm text-gray-800 mt-1"},Lt={key:1},vt={class:"text-sm text-gray-800 mt-1"},Ct={key:2},jt={class:"text-sm text-gray-800 mt-1"},Et={key:3},It={class:"text-sm text-gray-800 mt-1"},Ft={key:4},Ut={class:"text-sm text-gray-800 mt-1"},Xt={key:5},Pt={class:"text-sm text-gray-800 mt-1"},Mt={key:0},Vt={class:"flex flex-wrap gap-2 mt-2"},_t={class:"bg-gray-50 rounded-xl p-5 space-y-4"},Jt={key:0,class:"space-y-2"},At={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},zt={key:1,class:"space-y-2"},St={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},Bt={key:2,class:"space-y-2"},Wt={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},Qt={key:3,class:"space-y-2"},Ht={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},Dt={key:4,class:"space-y-2"},Ot={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},Gt={class:"bg-gray-50 rounded-xl p-5 space-y-4"},Tt={key:0,class:"space-y-2"},Kt={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},qt={key:1,class:"space-y-2"},Rt={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},$t={key:2,class:"space-y-2"},Nt={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},Zt={key:3,class:"space-y-2"},Yt={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},es={key:4,class:"space-y-2"},ts={class:"text-sm text-gray-700 leading-relaxed"},ss={class:"bg-gray-50 rounded-xl p-5 space-y-4"},os={key:0,class:"space-y-2"},as={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},rs={key:1,class:"space-y-2"},ls={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},ns={key:2,class:"space-y-2"},is={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},ds={key:0,class:"bg-gray-50 rounded-xl p-5 space-y-2"},cs={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"};function us(e,t,s,r,l,n){return(0,a.uX)(),(0,a.Wv)(o.eB,{name:"modal-fade"},{default:(0,a.k6)(()=>[s.isOpen?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-40 backdrop-blur-sm",onClick:t[1]||(t[1]=(0,o.D$)((...e)=>n.close&&n.close(...e),["self"]))},[(0,a.Lk)("div",dt,[(0,a.Lk)("div",ct,[(0,a.Lk)("div",ut,[t[3]||(t[3]=(0,a.Lk)("div",{class:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center"},[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),(0,a.Lk)("div",null,[(0,a.Lk)("h2",pt,(0,I.v_)(s.project.name),1),t[2]||(t[2]=(0,a.Lk)("p",{class:"text-sm text-gray-500"},"å°ˆæ¡ˆè©³ç´°è³‡è¨Š",-1))])]),(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.close&&n.close(...e)),class:"w-8 h-8 rounded-lg hover:bg-gray-100 flex items-center justify-center transition-colors"},[...t[4]||(t[4]=[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),(0,a.Lk)("div",mt,[(0,a.Lk)("div",gt,[(0,a.Lk)("span",{class:(0,I.C4)({"status-pending":"å¾…å¯©æ ¸"===s.project.status,"status-active":"é€²è¡Œä¸­"===s.project.status,"status-completed":"å·²å®Œæˆ"===s.project.status,"status-delayed":"å»¶é²"===s.project.status})},(0,I.v_)(s.project.status||"é€²è¡Œä¸­"),3),(0,a.Lk)("span",{class:(0,I.C4)([{"bg-red-50 text-red-600":"é«˜"===s.project.priority,"bg-yellow-50 text-yellow-600":"ä¸­"===s.project.priority,"bg-green-50 text-green-600":"ä½"===s.project.priority},"px-2 py-1 rounded-md text-xs font-medium"])}," å„ªå…ˆç´šï¼š"+(0,I.v_)(s.project.priority||"ä¸­"),3),t[6]||(t[6]=(0,a.Lk)("div",{class:"flex-1"},null,-1)),(0,a.Lk)("div",kt,[t[5]||(t[5]=(0,a.eW)(" é€²åº¦ï¼š",-1)),(0,a.Lk)("span",ht,(0,I.v_)(s.project.progress||0)+"%",1)])]),(0,a.Lk)("div",xt,[(0,a.Lk)("div",{class:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full transition-all duration-500",style:(0,I.Tr)({width:(s.project.progress||0)+"%"})},null,4)]),(0,a.Lk)("section",bt,[t[14]||(t[14]=(0,a.Lk)("h3",{class:"text-lg font-bold text-gray-800 flex items-center"},[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),(0,a.eW)(" åŸºæœ¬è³‡è¨Š ")],-1)),(0,a.Lk)("div",wt,[s.project.proposalUnit?((0,a.uX)(),(0,a.CE)("div",yt,[t[7]||(t[7]=(0,a.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"ä¸»è¦ææ¡ˆå–®ä½",-1)),(0,a.Lk)("p",ft,(0,I.v_)(s.project.proposalUnit),1)])):(0,a.Q3)("",!0),s.project.proposalContact?((0,a.uX)(),(0,a.CE)("div",Lt,[t[8]||(t[8]=(0,a.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"ææ¡ˆè¯çµ¡äºº",-1)),(0,a.Lk)("p",vt,(0,I.v_)(s.project.proposalContact),1)])):(0,a.Q3)("",!0),s.project.department?((0,a.uX)(),(0,a.CE)("div",Ct,[t[9]||(t[9]=(0,a.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"è² è²¬éƒ¨é–€",-1)),(0,a.Lk)("p",jt,(0,I.v_)(s.project.department),1)])):(0,a.Q3)("",!0),s.project.owner?((0,a.uX)(),(0,a.CE)("div",Et,[t[10]||(t[10]=(0,a.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"è² è²¬äºº",-1)),(0,a.Lk)("p",It,(0,I.v_)(s.project.owner),1)])):(0,a.Q3)("",!0),s.project.startTime?((0,a.uX)(),(0,a.CE)("div",Ft,[t[11]||(t[11]=(0,a.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"é–‹å§‹æ™‚é–“",-1)),(0,a.Lk)("p",Ut,(0,I.v_)(s.project.startTime),1)])):(0,a.Q3)("",!0),s.project.dueDate?((0,a.uX)(),(0,a.CE)("div",Xt,[t[12]||(t[12]=(0,a.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"æˆªæ­¢æ—¥æœŸ",-1)),(0,a.Lk)("p",Pt,(0,I.v_)(s.project.dueDate),1)])):(0,a.Q3)("",!0)]),s.project.relatedUnits&&s.project.relatedUnits.length>0?((0,a.uX)(),(0,a.CE)("div",Mt,[t[13]||(t[13]=(0,a.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"ç›¸é—œå–®ä½",-1)),(0,a.Lk)("div",Vt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.project.relatedUnits,(e,t)=>((0,a.uX)(),(0,a.CE)("span",{key:t,class:"px-2 py-1 bg-blue-50 text-blue-600 rounded text-xs"},(0,I.v_)(e),1))),128))])])):(0,a.Q3)("",!0)]),(0,a.Lk)("section",_t,[t[20]||(t[20]=(0,a.Lk)("h3",{class:"text-lg font-bold text-gray-800 flex items-center"},[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),(0,a.eW)(" å°ˆæ¡ˆèƒŒæ™¯ ")],-1)),s.project.projectReason?((0,a.uX)(),(0,a.CE)("div",Jt,[t[15]||(t[15]=(0,a.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"ç‚ºä»€éº¼éœ€è¦é€™å€‹å°ˆæ¡ˆ",-1)),(0,a.Lk)("p",At,(0,I.v_)(s.project.projectReason),1)])):(0,a.Q3)("",!0),s.project.currentSituation?((0,a.uX)(),(0,a.CE)("div",zt,[t[16]||(t[16]=(0,a.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"ç¾æ³æè¿°",-1)),(0,a.Lk)("p",St,(0,I.v_)(s.project.currentSituation),1)])):(0,a.Q3)("",!0),s.project.difficulties?((0,a.uX)(),(0,a.CE)("div",Bt,[t[17]||(t[17]=(0,a.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"å›°é›£é»",-1)),(0,a.Lk)("p",Wt,(0,I.v_)(s.project.difficulties),1)])):(0,a.Q3)("",!0),s.project.crossUnitIssues?((0,a.uX)(),(0,a.CE)("div",Qt,[t[18]||(t[18]=(0,a.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"è·¨å–®ä½å•é¡Œ",-1)),(0,a.Lk)("p",Ht,(0,I.v_)(s.project.crossUnitIssues),1)])):(0,a.Q3)("",!0),s.project.attemptedSolutions?((0,a.uX)(),(0,a.CE)("div",Dt,[t[19]||(t[19]=(0,a.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"å˜—è©¦éçš„è§£æ±ºæ–¹æ¡ˆ",-1)),(0,a.Lk)("p",Ot,(0,I.v_)(s.project.attemptedSolutions),1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("section",Gt,[t[26]||(t[26]=(0,a.Lk)("h3",{class:"text-lg font-bold text-gray-800 flex items-center"},[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 00 2-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})]),(0,a.eW)(" æœŸæœ›ç›®æ¨™èˆ‡æ•ˆç›Š ")],-1)),s.project.projectGoals?((0,a.uX)(),(0,a.CE)("div",Tt,[t[21]||(t[21]=(0,a.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"å°ˆæ¡ˆç›®æ¨™",-1)),(0,a.Lk)("p",Kt,(0,I.v_)(s.project.projectGoals),1)])):(0,a.Q3)("",!0),s.project.expectedFeatures?((0,a.uX)(),(0,a.CE)("div",qt,[t[22]||(t[22]=(0,a.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"æœŸæœ›åŠŸèƒ½æˆ–æµç¨‹",-1)),(0,a.Lk)("p",Rt,(0,I.v_)(s.project.expectedFeatures),1)])):(0,a.Q3)("",!0),s.project.targetUsers?((0,a.uX)(),(0,a.CE)("div",$t,[t[23]||(t[23]=(0,a.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"ä¸»è¦ä½¿ç”¨è€…",-1)),(0,a.Lk)("p",Nt,(0,I.v_)(s.project.targetUsers),1)])):(0,a.Q3)("",!0),s.project.expectedBenefits?((0,a.uX)(),(0,a.CE)("div",Zt,[t[24]||(t[24]=(0,a.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"é æœŸæå‡æ•ˆç›Š",-1)),(0,a.Lk)("p",Yt,(0,I.v_)(s.project.expectedBenefits),1)])):(0,a.Q3)("",!0),s.project.estimatedTimeline?((0,a.uX)(),(0,a.CE)("div",es,[t[25]||(t[25]=(0,a.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"é ä¼°æ™‚ç¨‹",-1)),(0,a.Lk)("p",ts,(0,I.v_)(s.project.estimatedTimeline),1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("section",ss,[t[30]||(t[30]=(0,a.Lk)("h3",{class:"text-lg font-bold text-gray-800 flex items-center"},[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),(0,a.eW)(" è³‡æºèˆ‡é¢¨éšªè©•ä¼° ")],-1)),s.project.successMetrics?((0,a.uX)(),(0,a.CE)("div",os,[t[27]||(t[27]=(0,a.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"é—œéµæˆåŠŸæŒ‡æ¨™",-1)),(0,a.Lk)("p",as,(0,I.v_)(s.project.successMetrics),1)])):(0,a.Q3)("",!0),s.project.requiredResources?((0,a.uX)(),(0,a.CE)("div",rs,[t[28]||(t[28]=(0,a.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"æ‰€éœ€è³‡æº",-1)),(0,a.Lk)("p",ls,(0,I.v_)(s.project.requiredResources),1)])):(0,a.Q3)("",!0),s.project.riskAssessment?((0,a.uX)(),(0,a.CE)("div",ns,[t[29]||(t[29]=(0,a.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"æ½›åœ¨é¢¨éšª",-1)),(0,a.Lk)("p",is,(0,I.v_)(s.project.riskAssessment),1)])):(0,a.Q3)("",!0)]),s.project.description?((0,a.uX)(),(0,a.CE)("section",ds,[t[31]||(t[31]=(0,a.Lk)("h3",{class:"text-lg font-bold text-gray-800"},"å…¶ä»–èªªæ˜",-1)),(0,a.Lk)("p",cs,(0,I.v_)(s.project.description),1)])):(0,a.Q3)("",!0)])])])):(0,a.Q3)("",!0)]),_:1})}var ps={name:"ProjectDetailModal",props:{project:{type:Object,required:!0},isOpen:{type:Boolean,default:!1}},methods:{close(){this.$emit("close")}},watch:{isOpen(e){document.body.style.overflow=e?"hidden":""}},beforeUnmount(){document.body.style.overflow=""}};const ms=(0,i.A)(ps,[["render",us],["__scopeId","data-v-48a7396c"]]);var gs=ms,ks=s(1195),hs={name:"AdminProjectList",components:{ProjectDetailModal:gs},data(){return{currentStep:1,projects:[],newProject:this.getEmptyProject(),relatedUnitsInput:"",isLoading:!1,searchQuery:"",statusFilter:"",selectedProject:{},isModalOpen:!1,selectedFileName:"",isImporting:!1,importError:"",importSuccess:!1,importedFieldsCount:0}},computed:{canSubmit(){return this.newProject.name&&this.newProject.proposalUnit&&this.newProject.proposalContact},filteredProjects(){return this.projects.filter(e=>{const t=e.name&&e.name.toLowerCase().includes(this.searchQuery.toLowerCase())||e.owner&&e.owner.toLowerCase().includes(this.searchQuery.toLowerCase())||e.proposalUnit&&e.proposalUnit.toLowerCase().includes(this.searchQuery.toLowerCase()),s=!this.statusFilter||e.status===this.statusFilter;return t&&s})}},async mounted(){await this.fetchProjects()},methods:{getEmptyProject(){return{name:"",proposalUnit:"",proposalContact:"",department:"",owner:"",startTime:"",dueDate:"",priority:"ä¸­",progress:0,status:"å¾…å¯©æ ¸",projectReason:"",currentSituation:"",difficulties:"",crossUnitIssues:"",attemptedSolutions:"",projectGoals:"",expectedFeatures:"",targetUsers:"",expectedBenefits:"",estimatedTimeline:"",successMetrics:"",requiredResources:"",riskAssessment:"",description:"",relatedUnits:[]}},async fetchProjects(){this.isLoading=!0;try{const e=await(0,de.GG)((0,de.rJ)(me,"projects"));this.projects=e.docs.map(e=>({id:e.id,...e.data()}))}finally{this.isLoading=!1}},async addProject(){if(!this.canSubmit)return alert("è«‹å¡«å¯«å¿…å¡«æ¬„ä½ï¼šå°ˆæ¡ˆåç¨±ã€ææ¡ˆå–®ä½ã€è¯çµ¡äºº");this.isLoading=!0;try{this.relatedUnitsInput.trim()&&(this.newProject.relatedUnits=this.relatedUnitsInput.split(",").map(e=>e.trim()).filter(e=>e)),await(0,de.gS)((0,de.rJ)(me,"projects"),this.newProject),this.newProject=this.getEmptyProject(),this.relatedUnitsInput="",this.currentStep=1,await this.fetchProjects(),alert("å°ˆæ¡ˆæ–°å¢æˆåŠŸï¼")}catch(e){console.error(e),alert("æ–°å¢å¤±æ•—: "+e.message)}finally{this.isLoading=!1}},async deleteProject(e){if(confirm("ç¢ºå®šè¦åˆªé™¤é€™å€‹å°ˆæ¡ˆå—ï¼Ÿæ­¤æ“ä½œç„¡æ³•é‚„åŸã€‚")){this.isLoading=!0;try{await(0,de.kd)((0,de.H9)(me,"projects",e)),await this.fetchProjects()}catch(t){console.error(t),alert("åˆªé™¤å¤±æ•—")}finally{this.isLoading=!1}}},openDetail(e){this.selectedProject=e,this.isModalOpen=!0},closeDetail(){this.isModalOpen=!1},async handleFileUpload(e){const t=e.target.files[0];if(t)if(this.importError="",this.importSuccess=!1,this.importedFieldsCount=0,t.name.endsWith(".docx"))if(t.size>10485760)this.importError="æ–‡ä»¶å¤§å°è¶…é 10MBï¼Œè«‹é¸æ“‡è¼ƒå°çš„æ–‡ä»¶";else{this.selectedFileName=t.name,this.isImporting=!0;try{const e=await this.parseDocument(t);this.newProject={...this.newProject,...e.fields},this.relatedUnitsInput=e.relatedUnitsText||"",this.importedFieldsCount=e.count,this.importSuccess=!0,this.currentStep=1}catch(s){console.error("Document parsing error:",s),this.importError=s.message||"æ–‡ä»¶è§£æå¤±æ•—ï¼Œè«‹ç¢ºèªæ–‡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¢º"}finally{this.isImporting=!1,e.target.value=""}}else this.importError="è«‹ä¸Šå‚³ .docx æ ¼å¼çš„ Word æ–‡ä»¶"},async parseDocument(e){try{const t=await e.arrayBuffer(),s=await ks.convertToHtml({arrayBuffer:t}),o=s.value;if(!o||0===o.trim().length)throw new Error("æ–‡ä»¶å…§å®¹ç‚ºç©º");const a=new DOMParser,r=a.parseFromString(o,"text/html"),l=r.querySelectorAll("tr");if(0===l.length)throw new Error("æ–‡ä»¶ä¸­æ²’æœ‰æ‰¾åˆ°è¡¨æ ¼ï¼Œè«‹ç¢ºèªä½¿ç”¨æ­£ç¢ºçš„æ–‡ä»¶æ ¼å¼");const n={};l.forEach(e=>{const t=e.querySelectorAll("td, th");if(t.length>=2){const e=t[0].textContent.trim(),s=t[1].textContent.trim(),o=s.replace(/\(è«‹å¡«å¯«\)/g,"").replace(/^\?+$/,"").replace(/^[ï¼š:\s]+/,"").trim();o&&o.length>0&&"?"!==o&&(n[e]=o)}});const i={};let d=0;const c={name:["å°ˆæ¡ˆåç¨±"],proposalUnit:["ä¸»è¦ææ¡ˆå–®ä½","ææ¡ˆå–®ä½"],proposalContact:["è¯çµ¡äºº","ææ¡ˆè¯çµ¡äºº","ä¸»è¦ææ¡ˆå–®ä½/è¯çµ¡äºº","ä¸»è¦ææ¡ˆå–®ä½ / è¯çµ¡äºº"],department:["è² è²¬éƒ¨é–€","åŸ·è¡Œéƒ¨é–€"],owner:["è² è²¬äºº","å°ˆæ¡ˆè² è²¬äºº"],projectReason:["ç‚ºä»€éº¼éœ€è¦é€™å€‹å°ˆæ¡ˆ","ç‚ºä»€éº¼éœ€è¦","ç‚ºä»€éº¼éœ€è¦é€™å€‹å°ˆæ¡ˆï¼Ÿ"],currentSituation:["ç¾æ³","å•é¡Œæƒ…å¢ƒæè¿°","(1) ç¾æ³"],difficulties:["å›°é›£é»","é‡åˆ°å›°é›£","(2) å›°é›£é»"],crossUnitIssues:["è·¨å–®ä½","å„å–®ä½","(3) (è‹¥æ¶‰åŠè·¨å–®ä½)","(è‹¥æ¶‰åŠè·¨å–®ä½)"],attemptedSolutions:["å˜—è©¦éå…¶ä»–è§£æ±ºæ–¹æ¡ˆ","è§£æ±ºæ–¹æ¡ˆ","æœ‰æ²’æœ‰å˜—è©¦","æœ‰æ²’æœ‰å˜—è©¦éå…¶ä»–è§£æ±ºæ–¹æ¡ˆ"],projectGoals:["å°ˆæ¡ˆç›®æ¨™","ç›®æ¨™"],expectedFeatures:["æœŸæœ›åŠŸèƒ½","æƒ³è¦æœ‰ä»€éº¼åŠŸèƒ½","ç†æƒ³çš„æµç¨‹","æƒ³è¦æœ‰ä»€éº¼åŠŸèƒ½æˆ–ç†æƒ³çš„æµç¨‹"],targetUsers:["ä¸»è¦ä½¿ç”¨è€…","ä½¿ç”¨è€…æ˜¯èª°","ä½¿ç”¨è€…","ä¸»è¦ä½¿ç”¨è€…æ˜¯èª°"],expectedBenefits:["é æœŸæå‡æ•ˆç›Š","é æœŸæ•ˆç›Š","æå‡æ•ˆç›Š"],estimatedTimeline:["é ä¼°æ™‚ç¨‹","æ™‚ç¨‹"],successMetrics:["é—œéµæˆåŠŸæŒ‡æ¨™","æˆåŠŸæŒ‡æ¨™"],requiredResources:["ç›¸é—œè³‡æº","æ‰€éœ€è³‡æº"],riskAssessment:["æ½›åœ¨é¢¨éšªè©•ä¼°","æ½›åœ¨é¢¨éšª","é¢¨éšªè©•ä¼°"]};let u="";const p=["ç›¸é—œå–®ä½","ç›¸é—œå–®ä½/è¯çµ¡äºº","ç›¸é—œå–®ä½ / è¯çµ¡äºº"];for(const e of p)if(n[e]){u=n[e];break}for(const[e,g]of Object.entries(c))for(const t of g){if(n[t]){i[e]=n[t],d++;break}for(const[s,o]of Object.entries(n))if(s.includes(t)||t.includes(s)){i[e]=o,d++;break}if(i[e])break}const m=Object.keys(n).filter(e=>e.includes("ç¾æ³")||e.includes("Who"));return m.length>0&&!i.currentSituation&&(i.currentSituation=n[m[0]],d||d++),{fields:i,relatedUnitsText:u,count:d}}catch(t){throw console.error("Parsing error:",t),new Error("ç„¡æ³•è§£ææ–‡ä»¶å…§å®¹ï¼š"+t.message)}}}};const xs=(0,i.A)(hs,[["render",it]]);var bs=xs;const ws={class:"bg-white p-6 rounded-lg shadow-md mb-8"},ys={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 bg-gray-50 p-4 rounded-lg"},fs=["disabled"],Ls={key:0},vs={key:1},Cs={class:"flex flex-col md:flex-row justify-between items-center gap-4 mb-4"},js={class:"relative w-full md:w-64"},Es={class:"overflow-x-auto"},Is={class:"w-full text-left border-collapse"},Fs={class:"text-gray-600 text-sm font-light"},Us={class:"py-3 px-6"},Xs={class:"py-3 px-6"},Ps={class:"py-3 px-6"},Ms={class:"py-3 px-6"},Vs={class:"py-3 px-6 text-center"},_s=["onClick"],Js={class:"py-3 px-6 font-medium"},As={class:"py-3 px-6"},zs={class:"text-xs text-gray-500"},Ss={class:"py-3 px-6"},Bs={class:"py-3 px-6 text-center"},Ws=["onClick"],Qs=["onClick"];function Hs(e,t,s,r,l,n){return(0,a.uX)(),(0,a.CE)("div",ws,[t[17]||(t[17]=(0,a.Lk)("h3",{class:"text-xl font-bold mb-4 text-gray-800"},"ä¾‹è¡Œå…¬äº‹ç®¡ç†",-1)),(0,a.Lk)("div",ys,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.newItem.title=e),placeholder:"äº‹é …åç¨±",class:"border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[o.Jo,l.newItem.title]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.newItem.frequency=e),placeholder:"é »ç‡ (å¦‚: æ¯é€±)",class:"border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[o.Jo,l.newItem.frequency]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.newItem.assignee=e),placeholder:"è² è²¬äºº",class:"border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[o.Jo,l.newItem.assignee]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.newItem.status=e),placeholder:"ç‹€æ…‹",class:"border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[o.Jo,l.newItem.status]]),(0,a.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>n.addItem&&n.addItem(...e)),disabled:l.isLoading,class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-50 transition flex items-center justify-center"},[l.isLoading?((0,a.uX)(),(0,a.CE)("span",Ls,"è™•ç†ä¸­...")):((0,a.uX)(),(0,a.CE)("span",vs,"æ–°å¢äº‹é …"))],8,fs)]),(0,a.Lk)("div",Cs,[(0,a.Lk)("div",js,[t[12]||(t[12]=(0,a.Lk)("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400"},[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>l.searchQuery=e),type:"text",placeholder:"æœå°‹äº‹é …...",class:"pl-9 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none w-full"},null,512),[[o.Jo,l.searchQuery]])]),(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.statusFilter=e),class:"py-2 px-3 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none bg-white text-gray-600 w-full md:w-auto"},[...t[13]||(t[13]=[(0,a.Lk)("option",{value:""},"æ‰€æœ‰ç‹€æ…‹",-1),(0,a.Lk)("option",{value:"æ­£å¸¸"},"æ­£å¸¸",-1),(0,a.Lk)("option",{value:"ç•°å¸¸"},"ç•°å¸¸",-1)])],512),[[o.u1,l.statusFilter]])]),(0,a.Lk)("div",Es,[(0,a.Lk)("table",Is,[t[16]||(t[16]=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",{class:"bg-gray-100 text-gray-600 uppercase text-sm leading-normal"},[(0,a.Lk)("th",{class:"py-3 px-6"},"äº‹é …åç¨±"),(0,a.Lk)("th",{class:"py-3 px-6"},"é »ç‡"),(0,a.Lk)("th",{class:"py-3 px-6"},"ç‹€æ…‹"),(0,a.Lk)("th",{class:"py-3 px-6 text-center"},"æ“ä½œ")])],-1)),(0,a.Lk)("tbody",Fs,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.filteredItems,e=>((0,a.uX)(),(0,a.CE)("tr",{key:e.id,class:"border-b border-gray-200 hover:bg-gray-50"},[l.editingId===e.id?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("td",Us,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>l.editForm.title=e),class:"border p-1 rounded w-full"},null,512),[[o.Jo,l.editForm.title]])]),(0,a.Lk)("td",Xs,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>l.editForm.frequency=e),class:"border p-1 rounded w-full"},null,512),[[o.Jo,l.editForm.frequency]])]),(0,a.Lk)("td",Ps,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>l.editForm.assignee=e),class:"border p-1 rounded w-full",placeholder:"è² è²¬äºº"},null,512),[[o.Jo,l.editForm.assignee]])]),(0,a.Lk)("td",Ms,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>l.editForm.status=e),class:"border p-1 rounded w-full"},null,512),[[o.Jo,l.editForm.status]])]),(0,a.Lk)("td",Vs,[(0,a.Lk)("button",{onClick:t=>n.updateItem(e.id),class:"bg-green-500 text-white px-3 py-1 rounded mr-2 hover:bg-green-600"},"å„²å­˜",8,_s),(0,a.Lk)("button",{onClick:t[11]||(t[11]=(...e)=>n.cancelEdit&&n.cancelEdit(...e)),class:"bg-gray-400 text-white px-3 py-1 rounded hover:bg-gray-500"},"å–æ¶ˆ")])],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.Lk)("td",Js,(0,I.v_)(e.title),1),(0,a.Lk)("td",As,[(0,a.Lk)("div",null,(0,I.v_)(e.frequency),1),(0,a.Lk)("div",zs,(0,I.v_)(e.assignee),1)]),(0,a.Lk)("td",Ss,[(0,a.Lk)("span",{class:(0,I.C4)([{"bg-green-200 text-green-600":"æ­£å¸¸"===e.status,"bg-yellow-200 text-yellow-600":"æ­£å¸¸"!==e.status},"py-1 px-3 rounded-full text-xs"])},(0,I.v_)(e.status),3)]),(0,a.Lk)("td",Bs,[(0,a.Lk)("button",{onClick:t=>n.startEdit(e),class:"text-blue-500 hover:text-blue-700 mr-3"},[...t[14]||(t[14]=[(0,a.Lk)("i",{class:"fas fa-edit"},null,-1),(0,a.eW)(" ç·¨è¼¯",-1)])],8,Ws),(0,a.Lk)("button",{onClick:t=>n.deleteItem(e.id),class:"text-red-500 hover:text-red-700"},[...t[15]||(t[15]=[(0,a.Lk)("i",{class:"fas fa-trash"},null,-1),(0,a.eW)(" åˆªé™¤",-1)])],8,Qs)])],64))]))),128))])])])])}var Ds={data(){return{items:[],isLoading:!1,editingId:null,editForm:{},newItem:{title:"",frequency:"",assignee:"",status:"æ­£å¸¸"},searchQuery:"",statusFilter:""}},computed:{filteredItems(){return this.items.filter(e=>{const t=e.title.toLowerCase().includes(this.searchQuery.toLowerCase())||e.assignee&&e.assignee.toLowerCase().includes(this.searchQuery.toLowerCase()),s=!this.statusFilter||e.status===this.statusFilter;return t&&s})}},async mounted(){await this.fetchItems()},methods:{async fetchItems(){this.isLoading=!0;try{const e=await(0,de.GG)((0,de.rJ)(me,"routines"));this.items=e.docs.map(e=>({id:e.id,...e.data()}))}finally{this.isLoading=!1}},async addItem(){if(!this.newItem.title)return alert("è«‹è¼¸å…¥äº‹é …åç¨±");this.isLoading=!0;try{await(0,de.gS)((0,de.rJ)(me,"routines"),this.newItem),this.newItem={title:"",frequency:"",assignee:"",status:"æ­£å¸¸"},await this.fetchItems()}finally{this.isLoading=!1}},async deleteItem(e){if(confirm("ç¢ºå®šè¦åˆªé™¤å—ï¼Ÿ")){this.isLoading=!0;try{await(0,de.kd)((0,de.H9)(me,"routines",e)),await this.fetchItems()}finally{this.isLoading=!1}}},startEdit(e){this.editingId=e.id,this.editForm={...e}},cancelEdit(){this.editingId=null,this.editForm={}},async updateItem(e){this.isLoading=!0;try{await(0,de.mZ)((0,de.H9)(me,"routines",e),this.editForm),this.editingId=null,await this.fetchItems()}finally{this.isLoading=!1}}}};const Os=(0,i.A)(Ds,[["render",Hs]]);var Gs=Os;const Ts={class:"bg-white p-6 rounded-lg shadow-md mb-8"},Ks={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 bg-gray-50 p-4 rounded-lg"},qs=["disabled"],Rs={key:0},$s={key:1},Ns={class:"overflow-x-auto"},Zs={class:"w-full text-left border-collapse"},Ys={class:"text-gray-600 text-sm font-light"},eo={class:"py-3 px-6"},to={class:"py-3 px-6"},so={class:"py-3 px-6"},oo={class:"py-3 px-6 text-center"},ao=["onClick"],ro={class:"py-3 px-6"},lo={class:"py-3 px-6 font-medium"},no=["href"],io={class:"py-3 px-6"},co={key:0,class:"text-xs text-gray-500"},uo={class:"py-3 px-6 text-center"},po=["onClick"],mo=["onClick"];function go(e,t,s,r,l,n){return(0,a.uX)(),(0,a.CE)("div",Ts,[t[15]||(t[15]=(0,a.Lk)("h3",{class:"text-xl font-bold mb-4 text-gray-800"},"åƒèˆ‡è«–å£‡/åˆ†äº«æœƒç®¡ç†",-1)),(0,a.Lk)("div",Ks,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.newItem.name=e),placeholder:"è«–å£‡/åˆ†äº«æœƒåç¨±",class:"border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[o.Jo,l.newItem.name]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.newItem.date=e),type:"date",class:"border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[o.Jo,l.newItem.date]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.newItem.role=e),placeholder:"æ“”ä»»è§’è‰²",class:"border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[o.Jo,l.newItem.role]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.newItem.speaker=e),placeholder:"ä¸»è¬›äºº",class:"border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[o.Jo,l.newItem.speaker]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.newItem.link=e),placeholder:"ç›¸é—œé€£çµ",class:"border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none md:col-span-4"},null,512),[[o.Jo,l.newItem.link]]),(0,a.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>n.addItem&&n.addItem(...e)),disabled:l.isLoading,class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-50 transition flex items-center justify-center"},[l.isLoading?((0,a.uX)(),(0,a.CE)("span",Rs,"è™•ç†ä¸­...")):((0,a.uX)(),(0,a.CE)("span",$s,"æ–°å¢ç´€éŒ„"))],8,qs)]),(0,a.Lk)("div",Ns,[(0,a.Lk)("table",Zs,[t[14]||(t[14]=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",{class:"bg-gray-100 text-gray-600 uppercase text-sm leading-normal"},[(0,a.Lk)("th",{class:"py-3 px-6"},"æ—¥æœŸ"),(0,a.Lk)("th",{class:"py-3 px-6"},"åç¨±"),(0,a.Lk)("th",{class:"py-3 px-6"},"è§’è‰²"),(0,a.Lk)("th",{class:"py-3 px-6 text-center"},"æ“ä½œ")])],-1)),(0,a.Lk)("tbody",Ys,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.items,e=>((0,a.uX)(),(0,a.CE)("tr",{key:e.id,class:"border-b border-gray-200 hover:bg-gray-50"},[l.editingId===e.id?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("td",eo,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.editForm.date=e),type:"date",class:"border p-1 rounded w-full"},null,512),[[o.Jo,l.editForm.date]])]),(0,a.Lk)("td",to,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>l.editForm.name=e),class:"border p-1 rounded w-full mb-1",placeholder:"åç¨±"},null,512),[[o.Jo,l.editForm.name]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>l.editForm.link=e),class:"border p-1 rounded w-full text-xs",placeholder:"é€£çµ"},null,512),[[o.Jo,l.editForm.link]])]),(0,a.Lk)("td",so,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>l.editForm.role=e),class:"border p-1 rounded w-full mb-1",placeholder:"è§’è‰²"},null,512),[[o.Jo,l.editForm.role]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>l.editForm.speaker=e),class:"border p-1 rounded w-full text-xs",placeholder:"ä¸»è¬›äºº"},null,512),[[o.Jo,l.editForm.speaker]])]),(0,a.Lk)("td",oo,[(0,a.Lk)("button",{onClick:t=>n.updateItem(e.id),class:"bg-green-500 text-white px-3 py-1 rounded mr-2 hover:bg-green-600"},"å„²å­˜",8,ao),(0,a.Lk)("button",{onClick:t[11]||(t[11]=(...e)=>n.cancelEdit&&n.cancelEdit(...e)),class:"bg-gray-400 text-white px-3 py-1 rounded hover:bg-gray-500"},"å–æ¶ˆ")])],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.Lk)("td",ro,(0,I.v_)(e.date),1),(0,a.Lk)("td",lo,[(0,a.eW)((0,I.v_)(e.name)+" ",1),e.link?((0,a.uX)(),(0,a.CE)("a",{key:0,href:e.link,target:"_blank",class:"text-blue-500 hover:underline text-xs block truncate max-w-[150px]"},(0,I.v_)(e.link),9,no)):(0,a.Q3)("",!0)]),(0,a.Lk)("td",io,[(0,a.Lk)("div",null,(0,I.v_)(e.role),1),e.speaker?((0,a.uX)(),(0,a.CE)("div",co,"è¬›è€…: "+(0,I.v_)(e.speaker),1)):(0,a.Q3)("",!0)]),(0,a.Lk)("td",uo,[(0,a.Lk)("button",{onClick:t=>n.startEdit(e),class:"text-blue-500 hover:text-blue-700 mr-3"},[...t[12]||(t[12]=[(0,a.Lk)("i",{class:"fas fa-edit"},null,-1),(0,a.eW)(" ç·¨è¼¯",-1)])],8,po),(0,a.Lk)("button",{onClick:t=>n.deleteItem(e.id),class:"text-red-500 hover:text-red-700"},[...t[13]||(t[13]=[(0,a.Lk)("i",{class:"fas fa-trash"},null,-1),(0,a.eW)(" åˆªé™¤",-1)])],8,mo)])],64))]))),128))])])])])}var ko={data(){return{items:[],isLoading:!1,editingId:null,editForm:{},newItem:{name:"",date:"",role:"",speaker:"",link:""}}},async mounted(){await this.fetchItems()},methods:{async fetchItems(){this.isLoading=!0;try{const e=await(0,de.GG)((0,de.rJ)(me,"forums"));this.items=e.docs.map(e=>({id:e.id,...e.data()}))}finally{this.isLoading=!1}},async addItem(){if(!this.newItem.name)return alert("è«‹è¼¸å…¥åç¨±");this.isLoading=!0;try{await(0,de.gS)((0,de.rJ)(me,"forums"),this.newItem),this.newItem={name:"",date:"",role:"",speaker:"",link:""},await this.fetchItems()}finally{this.isLoading=!1}},async deleteItem(e){if(confirm("ç¢ºå®šè¦åˆªé™¤å—ï¼Ÿ")){this.isLoading=!0;try{await(0,de.kd)((0,de.H9)(me,"forums",e)),await this.fetchItems()}finally{this.isLoading=!1}}},startEdit(e){this.editingId=e.id,this.editForm={...e}},cancelEdit(){this.editingId=null,this.editForm={}},async updateItem(e){this.isLoading=!0;try{await(0,de.mZ)((0,de.H9)(me,"forums",e),this.editForm),this.editingId=null,await this.fetchItems()}finally{this.isLoading=!1}}}};const ho=(0,i.A)(ko,[["render",go]]);var xo=ho;const bo={class:"bg-white p-6 rounded-lg shadow-md mb-8"},wo={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 bg-gray-50 p-4 rounded-lg"},yo=["disabled"],fo={key:0},Lo={key:1},vo={class:"overflow-x-auto"},Co={class:"w-full text-left border-collapse"},jo={class:"text-gray-600 text-sm font-light"},Eo={class:"py-3 px-6"},Io={class:"py-3 px-6"},Fo={class:"py-3 px-6"},Uo={class:"py-3 px-6 text-center"},Xo=["onClick"],Po={class:"py-3 px-6"},Mo={class:"py-3 px-6 font-medium"},Vo={key:0,class:"text-xs text-gray-500"},_o={class:"py-3 px-6"},Jo={class:"py-3 px-6 text-center"},Ao=["onClick"],zo=["onClick"];function So(e,t,s,r,l,n){return(0,a.uX)(),(0,a.CE)("div",bo,[t[13]||(t[13]=(0,a.Lk)("h3",{class:"text-xl font-bold mb-4 text-gray-800"},"æ´»å‹•åƒèˆ‡ç®¡ç†",-1)),(0,a.Lk)("div",wo,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.newItem.name=e),placeholder:"æ´»å‹•åç¨±",class:"border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[o.Jo,l.newItem.name]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.newItem.date=e),type:"date",class:"border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[o.Jo,l.newItem.date]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.newItem.location=e),placeholder:"åœ°é»",class:"border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[o.Jo,l.newItem.location]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.newItem.organizer=e),placeholder:"ä¸»è¾¦å–®ä½",class:"border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[o.Jo,l.newItem.organizer]]),(0,a.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>n.addItem&&n.addItem(...e)),disabled:l.isLoading,class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-50 transition flex items-center justify-center"},[l.isLoading?((0,a.uX)(),(0,a.CE)("span",fo,"è™•ç†ä¸­...")):((0,a.uX)(),(0,a.CE)("span",Lo,"æ–°å¢æ´»å‹•"))],8,yo)]),(0,a.Lk)("div",vo,[(0,a.Lk)("table",Co,[t[12]||(t[12]=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",{class:"bg-gray-100 text-gray-600 uppercase text-sm leading-normal"},[(0,a.Lk)("th",{class:"py-3 px-6"},"æ—¥æœŸ"),(0,a.Lk)("th",{class:"py-3 px-6"},"æ´»å‹•åç¨±"),(0,a.Lk)("th",{class:"py-3 px-6"},"åœ°é»"),(0,a.Lk)("th",{class:"py-3 px-6 text-center"},"æ“ä½œ")])],-1)),(0,a.Lk)("tbody",jo,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.items,e=>((0,a.uX)(),(0,a.CE)("tr",{key:e.id,class:"border-b border-gray-200 hover:bg-gray-50"},[l.editingId===e.id?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("td",Eo,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>l.editForm.date=e),type:"date",class:"border p-1 rounded w-full"},null,512),[[o.Jo,l.editForm.date]])]),(0,a.Lk)("td",Io,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.editForm.name=e),class:"border p-1 rounded w-full mb-1",placeholder:"åç¨±"},null,512),[[o.Jo,l.editForm.name]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>l.editForm.organizer=e),class:"border p-1 rounded w-full text-xs",placeholder:"ä¸»è¾¦å–®ä½"},null,512),[[o.Jo,l.editForm.organizer]])]),(0,a.Lk)("td",Fo,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>l.editForm.location=e),class:"border p-1 rounded w-full"},null,512),[[o.Jo,l.editForm.location]])]),(0,a.Lk)("td",Uo,[(0,a.Lk)("button",{onClick:t=>n.updateItem(e.id),class:"bg-green-500 text-white px-3 py-1 rounded mr-2 hover:bg-green-600"},"å„²å­˜",8,Xo),(0,a.Lk)("button",{onClick:t[9]||(t[9]=(...e)=>n.cancelEdit&&n.cancelEdit(...e)),class:"bg-gray-400 text-white px-3 py-1 rounded hover:bg-gray-500"},"å–æ¶ˆ")])],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.Lk)("td",Po,(0,I.v_)(e.date),1),(0,a.Lk)("td",Mo,[(0,a.eW)((0,I.v_)(e.name)+" ",1),e.organizer?((0,a.uX)(),(0,a.CE)("div",Vo,(0,I.v_)(e.organizer),1)):(0,a.Q3)("",!0)]),(0,a.Lk)("td",_o,(0,I.v_)(e.location),1),(0,a.Lk)("td",Jo,[(0,a.Lk)("button",{onClick:t=>n.startEdit(e),class:"text-blue-500 hover:text-blue-700 mr-3"},[...t[10]||(t[10]=[(0,a.Lk)("i",{class:"fas fa-edit"},null,-1),(0,a.eW)(" ç·¨è¼¯",-1)])],8,Ao),(0,a.Lk)("button",{onClick:t=>n.deleteItem(e.id),class:"text-red-500 hover:text-red-700"},[...t[11]||(t[11]=[(0,a.Lk)("i",{class:"fas fa-trash"},null,-1),(0,a.eW)(" åˆªé™¤",-1)])],8,zo)])],64))]))),128))])])])])}var Bo={data(){return{items:[],isLoading:!1,editingId:null,editForm:{},newItem:{name:"",date:"",location:"",organizer:""}}},async mounted(){await this.fetchItems()},methods:{async fetchItems(){this.isLoading=!0;try{const e=await(0,de.GG)((0,de.rJ)(me,"events"));this.items=e.docs.map(e=>({id:e.id,...e.data()}))}finally{this.isLoading=!1}},async addItem(){if(!this.newItem.name)return alert("è«‹è¼¸å…¥æ´»å‹•åç¨±");this.isLoading=!0;try{await(0,de.gS)((0,de.rJ)(me,"events"),this.newItem),this.newItem={name:"",date:"",location:"",organizer:""},await this.fetchItems()}finally{this.isLoading=!1}},async deleteItem(e){if(confirm("ç¢ºå®šè¦åˆªé™¤å—ï¼Ÿ")){this.isLoading=!0;try{await(0,de.kd)((0,de.H9)(me,"events",e)),await this.fetchItems()}finally{this.isLoading=!1}}},startEdit(e){this.editingId=e.id,this.editForm={...e}},cancelEdit(){this.editingId=null,this.editForm={}},async updateItem(e){this.isLoading=!0;try{await(0,de.mZ)((0,de.H9)(me,"events",e),this.editForm),this.editingId=null,await this.fetchItems()}finally{this.isLoading=!1}}}};const Wo=(0,i.A)(Bo,[["render",So]]);var Qo=Wo;const Ho={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 mb-8"},Do={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 bg-gray-50 p-6 rounded-xl border border-gray-100"},Oo=["disabled"],Go={key:0},To={key:1},Ko={class:"overflow-x-auto rounded-lg border border-gray-100"},qo={class:"w-full text-left border-collapse"},Ro={class:"text-gray-600 text-sm"},$o={class:"py-4 px-6"},No={class:"py-4 px-6"},Zo={class:"py-4 px-6"},Yo={class:"py-4 px-6 text-center"},ea=["onClick"],ta={class:"py-4 px-6 font-bold text-gray-800"},sa={class:"py-4 px-6"},oa={class:"py-4 px-6"},aa={class:"py-4 px-6 text-center"},ra=["onClick"],la=["onClick"];function na(e,t,s,r,l,n){return(0,a.uX)(),(0,a.CE)("div",Ho,[t[11]||(t[11]=(0,a.Lk)("h3",{class:"text-xl font-bold mb-4 text-gray-800 flex items-center"},[(0,a.Lk)("span",{class:"w-2 h-8 bg-accent-yellow rounded-full mr-3"}),(0,a.eW)(" æ´»å‹•æ¥æ´½ç®¡ç† ")],-1)),(0,a.Lk)("div",Do,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.newItem.name=e),placeholder:"æ´»å‹•/å–®ä½åç¨±",class:"border-gray-200 border p-2 rounded-lg focus:ring-2 focus:ring-accent-yellow focus:border-accent-yellow outline-none transition"},null,512),[[o.Jo,l.newItem.name]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.newItem.contact=e),placeholder:"è¯çµ¡äºº",class:"border-gray-200 border p-2 rounded-lg focus:ring-2 focus:ring-accent-yellow focus:border-accent-yellow outline-none transition"},null,512),[[o.Jo,l.newItem.contact]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.newItem.status=e),placeholder:"æ¥æ´½ç‹€æ…‹",class:"border-gray-200 border p-2 rounded-lg focus:ring-2 focus:ring-accent-yellow focus:border-accent-yellow outline-none transition"},null,512),[[o.Jo,l.newItem.status]]),(0,a.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>n.addItem&&n.addItem(...e)),disabled:l.isLoading,class:"bg-accent-yellow text-white px-4 py-2 rounded-lg hover:bg-yellow-600 disabled:opacity-50 transition flex items-center justify-center font-medium shadow-sm hover:shadow"},[l.isLoading?((0,a.uX)(),(0,a.CE)("span",Go,"è™•ç†ä¸­...")):((0,a.uX)(),(0,a.CE)("span",To,"æ–°å¢æ¥æ´½"))],8,Oo)]),(0,a.Lk)("div",Ko,[(0,a.Lk)("table",qo,[t[10]||(t[10]=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",{class:"bg-gray-50 text-gray-600 uppercase text-xs font-semibold tracking-wider"},[(0,a.Lk)("th",{class:"py-4 px-6"},"æ´»å‹•/å–®ä½åç¨±"),(0,a.Lk)("th",{class:"py-4 px-6"},"è¯çµ¡äºº"),(0,a.Lk)("th",{class:"py-4 px-6"},"ç‹€æ…‹"),(0,a.Lk)("th",{class:"py-4 px-6 text-center"},"æ“ä½œ")])],-1)),(0,a.Lk)("tbody",Ro,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.items,e=>((0,a.uX)(),(0,a.CE)("tr",{key:e.id,class:"border-b border-gray-100 hover:bg-yellow-50 transition duration-150"},[l.editingId===e.id?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("td",$o,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.editForm.name=e),class:"border p-2 rounded w-full focus:ring-2 focus:ring-accent-yellow outline-none"},null,512),[[o.Jo,l.editForm.name]])]),(0,a.Lk)("td",No,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>l.editForm.contact=e),class:"border p-2 rounded w-full focus:ring-2 focus:ring-accent-yellow outline-none"},null,512),[[o.Jo,l.editForm.contact]])]),(0,a.Lk)("td",Zo,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.editForm.status=e),class:"border p-2 rounded w-full focus:ring-2 focus:ring-accent-yellow outline-none"},null,512),[[o.Jo,l.editForm.status]])]),(0,a.Lk)("td",Yo,[(0,a.Lk)("button",{onClick:t=>n.updateItem(e.id),class:"bg-green-500 text-white px-3 py-1 rounded mr-2 hover:bg-green-600 transition"},"å„²å­˜",8,ea),(0,a.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>n.cancelEdit&&n.cancelEdit(...e)),class:"bg-gray-400 text-white px-3 py-1 rounded hover:bg-gray-500 transition"},"å–æ¶ˆ")])],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.Lk)("td",ta,(0,I.v_)(e.name),1),(0,a.Lk)("td",sa,(0,I.v_)(e.contact),1),(0,a.Lk)("td",oa,[(0,a.Lk)("span",{class:(0,I.C4)([{"bg-green-100 text-green-700":"å·²å®Œæˆ"===e.status,"bg-yellow-100 text-yellow-700":"æ¥æ´½ä¸­"===e.status,"bg-red-100 text-red-700":"å¤±æ•—"===e.status},"py-1 px-3 rounded-full text-xs font-bold"])},(0,I.v_)(e.status),3)]),(0,a.Lk)("td",aa,[(0,a.Lk)("button",{onClick:t=>n.startEdit(e),class:"text-accent-yellow hover:text-yellow-700 mr-3 transition"},[...t[8]||(t[8]=[(0,a.Lk)("i",{class:"fas fa-edit"},null,-1),(0,a.eW)(" ç·¨è¼¯",-1)])],8,ra),(0,a.Lk)("button",{onClick:t=>n.deleteItem(e.id),class:"text-red-500 hover:text-red-700 transition"},[...t[9]||(t[9]=[(0,a.Lk)("i",{class:"fas fa-trash"},null,-1),(0,a.eW)(" åˆªé™¤",-1)])],8,la)])],64))]))),128))])])])])}var ia={data(){return{items:[],isLoading:!1,editingId:null,editForm:{},newItem:{name:"",contact:"",status:"æ¥æ´½ä¸­"}}},async mounted(){await this.fetchItems()},methods:{async fetchItems(){this.isLoading=!0;try{const e=await(0,de.GG)((0,de.rJ)(me,"coordination"));this.items=e.docs.map(e=>({id:e.id,...e.data()}))}finally{this.isLoading=!1}},async addItem(){if(!this.newItem.name)return alert("è«‹è¼¸å…¥åç¨±");this.isLoading=!0;try{await(0,de.gS)((0,de.rJ)(me,"coordination"),this.newItem),this.newItem={name:"",contact:"",status:"æ¥æ´½ä¸­"},await this.fetchItems()}finally{this.isLoading=!1}},async deleteItem(e){if(confirm("ç¢ºå®šè¦åˆªé™¤å—ï¼Ÿ")){this.isLoading=!0;try{await(0,de.kd)((0,de.H9)(me,"coordination",e)),await this.fetchItems()}finally{this.isLoading=!1}}},startEdit(e){this.editingId=e.id,this.editForm={...e}},cancelEdit(){this.editingId=null,this.editForm={}},async updateItem(e){this.isLoading=!0;try{await(0,de.mZ)((0,de.H9)(me,"coordination",e),this.editForm),this.editingId=null,await this.fetchItems()}finally{this.isLoading=!1}}}};const da=(0,i.A)(ia,[["render",na]]);var ca=da;const ua={class:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden"},pa={class:"p-6"},ma={class:"flex gap-3 mb-8"},ga=["disabled"],ka={key:0,class:"mr-2"},ha={key:0,class:"text-center py-8 text-gray-500"},xa={key:1,class:"text-center py-8 text-gray-500 bg-gray-50 rounded-xl"},ba={key:2,class:"overflow-x-auto"},wa={class:"w-full text-left border-collapse"},ya={class:"text-gray-600"},fa={class:"py-3 pl-4 font-medium text-gray-800"},La={class:"py-3 text-sm"},va={class:"py-3 text-right pr-4"},Ca=["onClick"];function ja(e,t,s,r,l,n){return(0,a.uX)(),(0,a.CE)("div",ua,[t[6]||(t[6]=(0,a.Lk)("div",{class:"p-6 border-b border-gray-100 flex justify-between items-center"},[(0,a.Lk)("h3",{class:"text-lg font-bold text-gray-800"},"å…è¨±åå–®ç®¡ç†"),(0,a.Lk)("span",{class:"text-sm text-gray-500"},"åƒ…åˆ—å‡ºçš„ Email å¯ç™»å…¥å¾Œå°")],-1)),(0,a.Lk)("div",pa,[(0,a.Lk)("div",ma,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.newEmail=e),type:"email",placeholder:"è¼¸å…¥ Gmail åœ°å€ (ä¾‹å¦‚: user@gmail.com)",class:"flex-1 px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",onKeyup:t[1]||(t[1]=(0,o.jR)((...e)=>n.addEmail&&n.addEmail(...e),["enter"]))},null,544),[[o.Jo,l.newEmail]]),(0,a.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>n.addEmail&&n.addEmail(...e)),disabled:!n.isValidEmail||l.loading,class:"px-6 py-2 bg-primary-600 text-white font-medium rounded-xl hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center"},[l.loading?((0,a.uX)(),(0,a.CE)("span",ka,[...t[3]||(t[3]=[(0,a.Lk)("svg",{class:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[(0,a.Lk)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),(0,a.Lk)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):(0,a.Q3)("",!0),t[4]||(t[4]=(0,a.eW)(" æ–°å¢ ",-1))],8,ga)]),l.isLoadingList?((0,a.uX)(),(0,a.CE)("div",ha," è¼‰å…¥ä¸­... ")):0===l.whitelist.length?((0,a.uX)(),(0,a.CE)("div",xa," ç›®å‰æ²’æœ‰å…è¨±åå–®ï¼Œè«‹æ–°å¢æ‚¨çš„ Email ä»¥ç¢ºä¿ä¸‹æ¬¡èƒ½ç™»å…¥ã€‚ ")):((0,a.uX)(),(0,a.CE)("div",ba,[(0,a.Lk)("table",wa,[t[5]||(t[5]=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",{class:"text-gray-400 text-sm border-b border-gray-100"},[(0,a.Lk)("th",{class:"py-3 font-medium pl-4"},"Email"),(0,a.Lk)("th",{class:"py-3 font-medium"},"åŠ å…¥æ™‚é–“"),(0,a.Lk)("th",{class:"py-3 font-medium text-right pr-4"},"æ“ä½œ")])],-1)),(0,a.Lk)("tbody",ya,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.whitelist,e=>((0,a.uX)(),(0,a.CE)("tr",{key:e.id,class:"border-b border-gray-50 hover:bg-gray-50 transition-colors"},[(0,a.Lk)("td",fa,(0,I.v_)(e.email),1),(0,a.Lk)("td",La,(0,I.v_)(n.formatDate(e.createdAt)),1),(0,a.Lk)("td",va,[(0,a.Lk)("button",{onClick:t=>n.removeEmail(e.id,e.email),class:"text-red-400 hover:text-red-600 transition-colors text-sm font-medium"}," ç§»é™¤ ",8,Ca)])]))),128))])])]))])])}var Ea={name:"AdminWhitelist",data(){return{newEmail:"",whitelist:[],loading:!1,isLoadingList:!0}},computed:{isValidEmail(){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.newEmail)}},async mounted(){await this.fetchWhitelist()},methods:{formatDate(e){return e?new Date(1e3*e.seconds).toLocaleDateString("zh-TW"):"-"},async fetchWhitelist(){this.isLoadingList=!0;try{const e=(0,de.P)((0,de.rJ)(me,"whitelisted_users"),(0,de.My)("createdAt","desc")),t=await(0,de.GG)(e);this.whitelist=t.docs.map(e=>({id:e.id,...e.data()}))}catch(e){console.error("Error fetching whitelist: ",e)}finally{this.isLoadingList=!1}},async addEmail(){if(this.isValidEmail){this.loading=!0;try{const e=this.whitelist.some(e=>e.email.toLowerCase()===this.newEmail.toLowerCase());if(e)return alert("æ­¤ Email å·²ç¶“åœ¨åå–®ä¸­"),void(this.loading=!1);await(0,de.gS)((0,de.rJ)(me,"whitelisted_users"),{email:this.newEmail.toLowerCase(),createdAt:(0,de.O5)()}),this.newEmail="",await this.fetchWhitelist(),alert("æ–°å¢æˆåŠŸï¼")}catch(e){console.error("Error adding email: ",e),alert("æ–°å¢å¤±æ•—: "+e.message)}finally{this.loading=!1}}},async removeEmail(e,t){if(confirm(`ç¢ºå®šè¦ç§»é™¤ ${t} å—ï¼Ÿæ­¤ç”¨æˆ¶å°‡ç„¡æ³•å†ç™»å…¥å¾Œå°ã€‚`))try{await(0,de.kd)((0,de.H9)(me,"whitelisted_users",e)),await this.fetchWhitelist()}catch(s){console.error("Error removing email: ",s),alert("ç§»é™¤å¤±æ•—")}}}};const Ia=(0,i.A)(Ea,[["render",ja]]);var Fa=Ia,Ua={name:"AdminView",components:{AdminDashboardHome:xe,AdminProjectList:bs,AdminRoutineList:Gs,AdminForumList:xo,AdminEventList:Qo,AdminCoordinationList:ca,AdminWhitelist:Fa},data(){return{activeTab:"dashboard",mobileMenuOpen:!1,tabs:[{id:"dashboard",name:"å„€è¡¨æ¿ç¸½è¦½",component:"AdminDashboardHome",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" /></svg>'},{id:"projects",name:"å°ˆæ¡ˆé€²åº¦",component:"AdminProjectList",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" /></svg>'},{id:"routines",name:"ä¾‹è¡Œå…¬äº‹",component:"AdminRoutineList",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>'},{id:"forums",name:"è«–å£‡/åˆ†äº«æœƒ",component:"AdminForumList",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" /></svg>'},{id:"events",name:"æ´»å‹•åƒèˆ‡",component:"AdminEventList",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z" /></svg>'},{id:"coordination",name:"æ´»å‹•æ¥æ´½",component:"AdminCoordinationList",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" /></svg>'},{id:"whitelist",name:"æ¬Šé™ç®¡ç†",component:"AdminWhitelist",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" /></svg>'}]}},methods:{async logout(){try{await(0,ce.CI)(ge),this.$router.push("/login")}catch(e){console.error("Error signing out: ",e),alert("ç™»å‡ºå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦")}},async testConnection(){try{const e=await(0,de.GG)((0,de.rJ)(me,"projects"));if(alert(`é€£ç·šæˆåŠŸï¼æ‰¾åˆ° ${e.size} ç­†å°ˆæ¡ˆè³‡æ–™ã€‚`),0===e.size){const e=confirm("è³‡æ–™åº«æ˜¯ç©ºçš„ã€‚æ˜¯å¦è¦åŠ å…¥ä¸€ç­†æ¸¬è©¦è³‡æ–™ï¼Ÿ");e&&(await(0,de.gS)((0,de.rJ)(me,"projects"),{name:"æ¸¬è©¦å°ˆæ¡ˆ",description:"é€™æ˜¯ä¸€ç­†æ¸¬è©¦è³‡æ–™",status:"é€²è¡Œä¸­",progress:50,deadline:(new Date).toISOString().split("T")[0],createdAt:new Date}),alert("æ¸¬è©¦è³‡æ–™å·²åŠ å…¥ï¼è«‹é‡æ–°æ•´ç†é é¢ã€‚"),window.location.reload())}}catch(e){console.error("Connection failed: ",e),alert(`é€£ç·šå¤±æ•—ï¼éŒ¯èª¤è¨Šæ¯: ${e.message}\nè«‹æª¢æŸ¥ Firestore å®‰å…¨è¦å‰‡ã€‚`)}}},computed:{activeComponent(){const e=this.tabs.find(e=>e.id===this.activeTab);return e?e.component:null},currentTabName(){const e=this.tabs.find(e=>e.id===this.activeTab);return e?e.name:""},currentDate(){return(new Date).toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric"})}}};const Xa=(0,i.A)(Ua,[["render",T],["__scopeId","data-v-035e6dcd"]]);var Pa=Xa;const Ma={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},Va={class:"max-w-md w-full space-y-8"},_a={class:"mt-8 space-y-6"},Ja=["disabled"],Aa={key:0},za={key:1},Sa={class:"rounded-md shadow-sm -space-y-px"},Ba=["disabled"],Wa={key:0},Qa={key:1},Ha={key:0,class:"text-red-500 text-center text-sm"};function Da(e,t,s,r,l,n){return(0,a.uX)(),(0,a.CE)("div",Ma,[(0,a.Lk)("div",Va,[t[8]||(t[8]=(0,a.Lk)("div",null,[(0,a.Lk)("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," ç®¡ç†å“¡ç™»å…¥ ")],-1)),(0,a.Lk)("div",_a,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.loginWithGoogle&&n.loginWithGoogle(...e)),disabled:l.isLoading,class:"w-full flex justify-center items-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},[t[4]||(t[4]=(0,a.Lk)("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",class:"w-5 h-5 mr-2"},null,-1)),l.isLoading?((0,a.uX)(),(0,a.CE)("span",Aa,"ç™»å…¥ä¸­...")):((0,a.uX)(),(0,a.CE)("span",za,"ä½¿ç”¨ Google å¸³è™Ÿç™»å…¥"))],8,Ja),t[7]||(t[7]=(0,a.Fv)('<div class="relative"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-300"></div></div><div class="relative flex justify-center text-sm"><span class="px-2 bg-gray-50 text-gray-500">æˆ–ä½¿ç”¨ Email ç™»å…¥</span></div></div>',1)),(0,a.Lk)("form",{class:"space-y-6",onSubmit:t[3]||(t[3]=(0,o.D$)((...e)=>n.login&&n.login(...e),["prevent"]))},[(0,a.Lk)("div",Sa,[(0,a.Lk)("div",null,[t[5]||(t[5]=(0,a.Lk)("label",{for:"email-address",class:"sr-only"},"Email address",-1)),(0,a.bo)((0,a.Lk)("input",{id:"email-address",name:"email",type:"email",autocomplete:"email",required:"","onUpdate:modelValue":t[1]||(t[1]=e=>l.email=e),class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address"},null,512),[[o.Jo,l.email]])]),(0,a.Lk)("div",null,[t[6]||(t[6]=(0,a.Lk)("label",{for:"password",class:"sr-only"},"Password",-1)),(0,a.bo)((0,a.Lk)("input",{id:"password",name:"password",type:"password",autocomplete:"current-password",required:"","onUpdate:modelValue":t[2]||(t[2]=e=>l.password=e),class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password"},null,512),[[o.Jo,l.password]])])]),(0,a.Lk)("div",null,[(0,a.Lk)("button",{type:"submit",disabled:l.isLoading,class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},[l.isLoading?((0,a.uX)(),(0,a.CE)("span",Wa,"ç™»å…¥ä¸­...")):((0,a.uX)(),(0,a.CE)("span",Qa,"ç™»å…¥"))],8,Ba)]),l.error?((0,a.uX)(),(0,a.CE)("div",Ha,(0,I.v_)(l.error),1)):(0,a.Q3)("",!0)],32)])])])}var Oa={name:"LoginView",data(){return{email:"",password:"",isLoading:!1,error:""}},methods:{async login(){this.isLoading=!0,this.error="";try{await(0,ce.x9)(ge,this.email,this.password),this.$router.push("/admin")}catch(e){console.error(e),this.error="ç™»å…¥å¤±æ•—ï¼Œè«‹æª¢æŸ¥ Email å’Œå¯†ç¢¼ã€‚"}finally{this.isLoading=!1}},async loginWithGoogle(){this.isLoading=!0,this.error="";const e=new ce.HF;try{const t=await(0,ce.df)(ge,e),s=t.user,o=(0,de.P)((0,de.rJ)(me,"whitelisted_users"),(0,de._M)("email","==",s.email.toLowerCase())),a=await(0,de.GG)(o);if(a.empty)return await(0,ce.CI)(ge),this.error="æ‚¨æ²’æœ‰æ¬Šé™ç™»å…¥æ­¤å¾Œå°ã€‚è«‹è¯ç¹«ç®¡ç†å“¡å–å¾—æˆæ¬Šã€‚",void(this.isLoading=!1);this.$router.push("/admin")}catch(t){console.error(t),this.error="Google ç™»å…¥å¤±æ•—: "+t.message}finally{this.isLoading=!1}}}};const Ga=(0,i.A)(Oa,[["render",Da]]);var Ta=Ga;const Ka=[{path:"/",name:"Home",component:E},{path:"/login",name:"Login",component:Ta},{path:"/admin",name:"Admin",component:Pa,meta:{requiresAuth:!0}}],qa=(0,u.aE)({history:(0,u.LA)("/project_update/"),routes:Ka});qa.beforeEach((e,t,s)=>{const o=e.matched.some(e=>e.meta.requiresAuth),a=ge.currentUser;o&&!a?s("/login"):s()});var Ra=qa;let $a;(0,ce.hg)(ge,()=>{$a||($a=(0,o.Ef)(c).use(Ra).mount("#app"))})}},t={};function s(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,s),r.exports}s.m=e,function(){var e=[];s.O=function(t,o,a,r){if(!o){var l=1/0;for(c=0;c<e.length;c++){o=e[c][0],a=e[c][1],r=e[c][2];for(var n=!0,i=0;i<o.length;i++)(!1&r||l>=r)&&Object.keys(s.O).every(function(e){return s.O[e](o[i])})?o.splice(i--,1):(n=!1,r<l&&(l=r));if(n){e.splice(c--,1);var d=a();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[o,a,r]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,r,l=o[0],n=o[1],i=o[2],d=0;if(l.some(function(t){return 0!==e[t]})){for(a in n)s.o(n,a)&&(s.m[a]=n[a]);if(i)var c=i(s)}for(t&&t(o);d<l.length;d++)r=l[d],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(c)},o=self["webpackChunkproject_update"]=self["webpackChunkproject_update"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=s.O(void 0,[504],function(){return s(7795)});o=s.O(o)})();
//# sourceMappingURL=app.0462adc2.js.map
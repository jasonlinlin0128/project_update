(function(){"use strict";var e={352:function(e,t,s){var a=s(5130),o=s(6768);const l={id:"app",class:"font-sans text-gray-900 antialiased bg-gray-100 min-h-screen"};function r(e,t,s,a,r,n){const i=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",l,[(0,o.bF)(i)])}var n={name:"App"},i=s(1241);const d=(0,i.A)(n,[["render",r]]);var c=d,u=(s(8111),s(3579),s(8512));const p={class:"min-h-screen bg-gray-100 font-sans pb-12"},m={class:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg mb-8"},g={class:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8 text-center"},k={class:"mt-6"},x={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h={class:"mb-8 transform transition hover:scale-[1.01] duration-300"},b={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},y={class:"transform transition hover:scale-[1.02] duration-300"},w={class:"transform transition hover:scale-[1.02] duration-300"},f={class:"transform transition hover:scale-[1.02] duration-300"},L={class:"transform transition hover:scale-[1.02] duration-300"};function v(e,t,s,a,l,r){const n=(0,o.g2)("router-link"),i=(0,o.g2)("ProjectTable"),d=(0,o.g2)("RoutineList"),c=(0,o.g2)("ForumList"),u=(0,o.g2)("EventList"),v=(0,o.g2)("CoordinationList");return(0,o.uX)(),(0,o.CE)("div",p,[(0,o.Lk)("header",m,[(0,o.Lk)("div",g,[t[1]||(t[1]=(0,o.Lk)("h1",{class:"text-4xl font-extrabold tracking-tight sm:text-5xl mb-2"}," å…¬å¸å°ˆæ¡ˆå‹•æ…‹å„€è¡¨æ¿ ",-1)),t[2]||(t[2]=(0,o.Lk)("p",{class:"text-lg text-indigo-100 max-w-2xl mx-auto"}," å³æ™‚æŒæ¡å°ˆæ¡ˆé€²åº¦ã€æ´»å‹•èˆ‡åœ˜éšŠå‹•æ…‹ ",-1)),(0,o.Lk)("div",k,[(0,o.bF)(n,{to:"/admin",class:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-full text-indigo-700 bg-white hover:bg-indigo-50 transition duration-150 ease-in-out shadow-md hover:shadow-lg transform hover:-translate-y-1"},{default:(0,o.k6)(()=>[...t[0]||(t[0]=[(0,o.eW)(" é€²å…¥ç®¡ç†å¾Œå° ",-1)])]),_:1})])])]),(0,o.Lk)("main",x,[(0,o.Lk)("div",h,[(0,o.bF)(i)]),(0,o.Lk)("div",b,[(0,o.Lk)("div",y,[(0,o.bF)(d)]),(0,o.Lk)("div",w,[(0,o.bF)(c)]),(0,o.Lk)("div",f,[(0,o.bF)(u)]),(0,o.Lk)("div",L,[(0,o.bF)(v)])])])])}var C={name:"HomeView"};const j=(0,i.A)(C,[["render",v]]);var E=j,I=s(4232);const F={class:"min-h-screen bg-gray-50 font-sans flex"},X={class:"w-64 bg-white shadow-lg fixed h-full z-10 hidden md:flex flex-col transition-all duration-300"},U={class:"flex-grow p-4 space-y-2 overflow-y-auto"},P=["onClick"],V=["innerHTML"],_={class:"p-4 border-t border-gray-100"},M={class:"md:hidden fixed w-full bg-white z-20 shadow-sm px-4 py-3 flex justify-between items-center"},J={class:"p-6 border-b border-gray-100 flex justify-between items-center"},A={class:"p-4 space-y-2"},z=["onClick"],B=["innerHTML"],W={class:"border-t border-gray-100 my-2 pt-2"},H={class:"flex-1 md:ml-64 p-6 pt-20 md:pt-6 transition-all duration-300"},Q={class:"max-w-5xl mx-auto"},D={class:"mb-8 flex justify-between items-end"},G={class:"text-3xl font-bold text-gray-800"},S={class:"text-gray-500 mt-1"},O={class:"hidden md:block text-sm text-gray-400"};function T(e,t,s,l,r,n){const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",F,[(0,o.Lk)("aside",X,[t[9]||(t[9]=(0,o.Fv)('<div class="p-6 border-b border-gray-100 flex items-center justify-center" data-v-035e6dcd><h1 class="text-2xl font-bold text-primary-600 flex items-center" data-v-035e6dcd><span class="bg-primary-100 p-2 rounded-lg mr-2" data-v-035e6dcd><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-035e6dcd><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" data-v-035e6dcd></path></svg></span> Admin </h1></div>',1)),(0,o.Lk)("nav",U,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.tabs,e=>((0,o.uX)(),(0,o.CE)("button",{key:e.id,onClick:t=>r.activeTab=e.id,class:(0,I.C4)(["w-full flex items-center px-4 py-3 rounded-xl transition-all duration-200 font-medium",r.activeTab===e.id?"bg-primary-50 text-primary-600 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"])},[(0,o.Lk)("span",{class:"mr-3",innerHTML:e.icon},null,8,V),(0,o.eW)(" "+(0,I.v_)(e.name),1)],10,P))),128))]),(0,o.Lk)("div",_,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.testConnection&&n.testConnection(...e)),class:"w-full flex items-center px-4 py-3 text-blue-600 hover:bg-blue-50 hover:text-blue-700 rounded-xl transition-colors mb-2"},[...t[6]||(t[6]=[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1),(0,o.eW)(" æ¸¬è©¦é€£ç·š ",-1)])]),(0,o.bF)(i,{to:"/",class:"flex items-center px-4 py-3 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-xl transition-colors mb-2"},{default:(0,o.k6)(()=>[...t[7]||(t[7]=[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),(0,o.eW)(" è¿”å›é¦–é  ",-1)])]),_:1}),(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>n.logout&&n.logout(...e)),class:"w-full flex items-center px-4 py-3 text-red-500 hover:bg-red-50 hover:text-red-700 rounded-xl transition-colors"},[...t[8]||(t[8]=[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),(0,o.eW)(" ç™»å‡º ",-1)])])])]),(0,o.Lk)("div",M,[t[11]||(t[11]=(0,o.Lk)("h1",{class:"text-lg font-bold text-gray-800"},"ç®¡ç†å¾Œå°",-1)),(0,o.Lk)("button",{onClick:t[2]||(t[2]=e=>r.mobileMenuOpen=!r.mobileMenuOpen),class:"text-gray-600 focus:outline-none"},[...t[10]||(t[10]=[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16m-7 6h7"})],-1)])])]),r.mobileMenuOpen?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"fixed inset-0 z-30 bg-black bg-opacity-50 md:hidden",onClick:t[3]||(t[3]=e=>r.mobileMenuOpen=!1)})):(0,o.Q3)("",!0),(0,o.Lk)("div",{class:(0,I.C4)(["fixed inset-y-0 left-0 z-40 w-64 bg-white shadow-xl transform transition-transform duration-300 ease-in-out md:hidden",r.mobileMenuOpen?"translate-x-0":"-translate-x-full"])},[(0,o.Lk)("div",J,[t[13]||(t[13]=(0,o.Lk)("h1",{class:"text-xl font-bold text-primary-600"},"Admin",-1)),(0,o.Lk)("button",{onClick:t[4]||(t[4]=e=>r.mobileMenuOpen=!1),class:"text-gray-500"},[...t[12]||(t[12]=[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),(0,o.Lk)("nav",A,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.tabs,e=>((0,o.uX)(),(0,o.CE)("button",{key:e.id,onClick:t=>{r.activeTab=e.id,r.mobileMenuOpen=!1},class:(0,I.C4)(["w-full flex items-center px-4 py-3 rounded-xl transition-all duration-200 font-medium",r.activeTab===e.id?"bg-primary-50 text-primary-600":"text-gray-600 hover:bg-gray-50"])},[(0,o.Lk)("span",{class:"mr-3",innerHTML:e.icon},null,8,B),(0,o.eW)(" "+(0,I.v_)(e.name),1)],10,z))),128)),(0,o.Lk)("div",W,[(0,o.bF)(i,{to:"/",class:"flex items-center px-4 py-3 text-gray-600 hover:bg-gray-50 rounded-xl"},{default:(0,o.k6)(()=>[...t[14]||(t[14]=[(0,o.eW)("è¿”å›é¦–é ",-1)])]),_:1}),(0,o.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>n.logout&&n.logout(...e)),class:"w-full flex items-center px-4 py-3 text-red-500 hover:bg-red-50 rounded-xl"},"ç™»å‡º")])])],2),(0,o.Lk)("main",H,[(0,o.Lk)("div",Q,[(0,o.Lk)("div",D,[(0,o.Lk)("div",null,[(0,o.Lk)("h2",G,(0,I.v_)(n.currentTabName),1),(0,o.Lk)("p",S,"ç®¡ç†æ‚¨çš„"+(0,I.v_)(n.currentTabName)+"è³‡æ–™",1)]),(0,o.Lk)("div",O,(0,I.v_)(n.currentDate),1)]),(0,o.bF)(a.eB,{name:"fade",mode:"out-in"},{default:(0,o.k6)(()=>[((0,o.uX)(),(0,o.Wv)((0,o.$y)(n.activeComponent)))]),_:1})])])])}s(4114),s(116);const K={class:"space-y-6"},q={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},R=["innerHTML"],$={class:"text-sm text-gray-500 font-medium"},Z={class:"text-2xl font-bold text-gray-800"},N={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Y={class:"bg-white rounded-xl shadow-sm p-6"},ee={class:"h-64 relative"},te={key:1,class:"flex items-center justify-center h-full text-gray-400"},se={class:"bg-white rounded-xl shadow-sm p-6"},ae={class:"h-64 relative"},oe={key:1,class:"flex items-center justify-center h-full text-gray-400"};function le(e,t,s,a,l,r){const n=(0,o.g2)("Pie"),i=(0,o.g2)("Bar");return(0,o.uX)(),(0,o.CE)("div",K,[(0,o.Lk)("div",q,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.stats,(e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:(0,I.C4)(["bg-white rounded-xl shadow-sm p-6 flex items-center space-x-4 border-l-4",e.borderColor])},[(0,o.Lk)("div",{class:(0,I.C4)(["p-3 rounded-lg",e.iconBg])},[(0,o.Lk)("span",{class:"text-2xl",innerHTML:e.icon},null,8,R)],2),(0,o.Lk)("div",null,[(0,o.Lk)("p",$,(0,I.v_)(e.label),1),(0,o.Lk)("p",Z,(0,I.v_)(e.value),1)])],2))),128))]),(0,o.Lk)("div",N,[(0,o.Lk)("div",Y,[t[0]||(t[0]=(0,o.Lk)("h3",{class:"text-lg font-bold text-gray-800 mb-4"},"å°ˆæ¡ˆç‹€æ…‹åˆ†ä½ˆ",-1)),(0,o.Lk)("div",ee,[l.projectChartData?((0,o.uX)(),(0,o.Wv)(n,{key:0,data:l.projectChartData,options:l.chartOptions},null,8,["data","options"])):((0,o.uX)(),(0,o.CE)("div",te,"Loading..."))])]),(0,o.Lk)("div",se,[t[1]||(t[1]=(0,o.Lk)("h3",{class:"text-lg font-bold text-gray-800 mb-4"},"å„é …äº‹å‹™çµ±è¨ˆ",-1)),(0,o.Lk)("div",ae,[l.overviewChartData?((0,o.uX)(),(0,o.Wv)(i,{key:0,data:l.overviewChartData,options:l.chartOptions},null,8,["data","options"])):((0,o.uX)(),(0,o.CE)("div",oe,"Loading..."))])])])])}s(2489),s(1701);var re=s(9064),ne=s(1010),ie=s(6400),de=s(2832),ce=s(4388);const ue={apiKey:"AIzaSyBlOglfZtVNC3wkH8FzxPRWpZjbioOisKA",authDomain:"project-update-ab874.firebaseapp.com",projectId:"project-update-ab874",storageBucket:"project-update-ab874.firebasestorage.app",messagingSenderId:"149051930119",appId:"1:149051930119:web:fa2be596b9c047fdb4dca2"},pe=(0,ie.Wp)(ue),me=(0,de.aU)(pe),ge=(0,ce.xI)(pe);re.t1.register(re.Bs,re.m_,re.s$,re.E8,re.PP,re.kc);var ke={name:"AdminDashboardHome",components:{Pie:ne.Fq,Bar:ne.yP},data(){return{stats:[{label:"ç¸½å°ˆæ¡ˆæ•¸",value:0,icon:"ğŸ“Š",borderColor:"border-blue-500",iconBg:"bg-blue-100"},{label:"ä¾‹è¡Œå…¬äº‹",value:0,icon:"ğŸ“",borderColor:"border-orange-500",iconBg:"bg-orange-100"},{label:"è«–å£‡æ–‡ç« ",value:0,icon:"ğŸ’¬",borderColor:"border-purple-500",iconBg:"bg-purple-100"},{label:"æ´»å‹•åƒèˆ‡",value:0,icon:"ğŸ“…",borderColor:"border-pink-500",iconBg:"bg-pink-100"}],projectChartData:null,overviewChartData:null,chartOptions:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}}},async created(){await this.fetchData()},methods:{async fetchData(){try{const e=await(0,de.GG)((0,de.rJ)(me,"projects")),t=e.docs.map(e=>e.data()),s=t.filter(e=>100===e.progress).length,a=t.length-s,o=await(0,de.GG)((0,de.rJ)(me,"routines")),l=await(0,de.GG)((0,de.rJ)(me,"forums")),r=await(0,de.GG)((0,de.rJ)(me,"events"));this.stats[0].value=t.length,this.stats[1].value=o.size,this.stats[2].value=l.size,this.stats[3].value=r.size,this.projectChartData={labels:["é€²è¡Œä¸­","å·²å®Œæˆ"],datasets:[{backgroundColor:["#3B82F6","#10B981"],data:[a,s]}]},this.overviewChartData={labels:["å°ˆæ¡ˆ","ä¾‹è¡Œ","è«–å£‡","æ´»å‹•"],datasets:[{label:"æ•¸é‡",backgroundColor:["#3B82F6","#F97316","#8B5CF6","#EC4899"],data:[t.length,o.size,l.size,r.size]}]}}catch(e){console.error("Error fetching dashboard data:",e)}}}};const xe=(0,i.A)(ke,[["render",le]]);var he=xe;const be={class:"space-y-6"},ye={class:"macos-card p-6"},we={class:"flex items-center justify-between mb-6"},fe={class:"text-sm text-gray-500"},Le={class:"flex items-center mb-8"},ve={class:"space-y-4"},Ce={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},je={class:"space-y-4"},Ee={class:"space-y-4"},Ie={class:"space-y-4"},Fe={class:"flex justify-between mt-6 pt-6 border-t border-gray-100"},Xe={key:1},Ue={class:"flex gap-3"},Pe=["disabled"],Ve={key:0},_e={key:1},Me={class:"macos-card p-6"},Je={class:"flex items-center justify-between mb-6"},Ae={class:"text-sm text-gray-500"},ze={class:"flex flex-col md:flex-row gap-3 mb-6"},Be={class:"flex-1 relative"},We={key:0,class:"text-center py-12"},He={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Qe=["onClick"],De={class:"flex items-start justify-between mb-3"},Ge={class:"font-bold text-gray-800 text-base group-hover:text-[#007AFF] transition-colors line-clamp-2 flex-1"},Se=["onClick"],Oe={class:"flex flex-wrap items-center gap-2 mb-3"},Te={class:"text-xs text-gray-600 space-y-1 mb-3"},Ke={key:0},qe={key:1},Re={key:2},$e={class:"mb-2"},Ze={class:"flex justify-between text-xs text-gray-500 mb-1"},Ne={class:"font-bold text-[#007AFF]"},Ye={class:"w-full bg-gray-100 rounded-full h-1.5"},et={key:2,class:"text-center py-12"};function tt(e,t,s,l,r,n){const i=(0,o.g2)("ProjectDetailModal");return(0,o.uX)(),(0,o.CE)("div",be,[(0,o.Lk)("div",ye,[(0,o.Lk)("div",we,[t[30]||(t[30]=(0,o.Lk)("h3",{class:"text-xl font-bold text-gray-800"},"æ–°å¢å°ˆæ¡ˆææ¡ˆ",-1)),(0,o.Lk)("span",fe,"æ­¥é©Ÿ "+(0,I.v_)(r.currentStep)+"/4",1)]),(0,o.Lk)("div",Le,[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(4,e=>(0,o.Lk)("div",{key:e,class:"flex items-center flex-1"},[(0,o.Lk)("div",{class:(0,I.C4)(["flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium transition-all",r.currentStep>=e?"bg-[#007AFF] text-white":"bg-gray-200 text-gray-500"])},(0,I.v_)(e),3),e<4?((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,I.C4)(["flex-1 h-1 mx-2 rounded",r.currentStep>e?"bg-[#007AFF]":"bg-gray-200"])},null,2)):(0,o.Q3)("",!0)])),64))]),(0,o.bo)((0,o.Lk)("div",ve,[(0,o.Lk)("div",Ce,[(0,o.Lk)("div",null,[t[31]||(t[31]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"å°ˆæ¡ˆåç¨± *",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.newProject.name=e),placeholder:"è«‹è¼¸å…¥å°ˆæ¡ˆåç¨±",class:"macos-input w-full"},null,512),[[a.Jo,r.newProject.name]])]),(0,o.Lk)("div",null,[t[32]||(t[32]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"ä¸»è¦ææ¡ˆå–®ä½ *",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.newProject.proposalUnit=e),placeholder:"ä¾‹å¦‚ï¼šæŠ€è¡“éƒ¨",class:"macos-input w-full"},null,512),[[a.Jo,r.newProject.proposalUnit]])]),(0,o.Lk)("div",null,[t[33]||(t[33]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"ææ¡ˆè¯çµ¡äºº *",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.newProject.proposalContact=e),placeholder:"å§“å/é›»è©±/Email",class:"macos-input w-full"},null,512),[[a.Jo,r.newProject.proposalContact]])]),(0,o.Lk)("div",null,[t[34]||(t[34]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"è² è²¬éƒ¨é–€",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>r.newProject.department=e),placeholder:"è² è²¬åŸ·è¡Œçš„éƒ¨é–€",class:"macos-input w-full"},null,512),[[a.Jo,r.newProject.department]])]),(0,o.Lk)("div",null,[t[35]||(t[35]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"è² è²¬äºº",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>r.newProject.owner=e),placeholder:"å°ˆæ¡ˆè² è²¬äºº",class:"macos-input w-full"},null,512),[[a.Jo,r.newProject.owner]])]),(0,o.Lk)("div",null,[t[36]||(t[36]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"ç›¸é—œå–®ä½ï¼ˆå¤šå€‹ç”¨é€—è™Ÿåˆ†éš”ï¼‰",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>r.relatedUnitsInput=e),placeholder:"ä¾‹å¦‚ï¼šè¡ŒéŠ·éƒ¨,å®¢æœéƒ¨",class:"macos-input w-full"},null,512),[[a.Jo,r.relatedUnitsInput]])]),(0,o.Lk)("div",null,[t[37]||(t[37]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"é–‹å§‹æ™‚é–“",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>r.newProject.startTime=e),type:"date",class:"macos-input w-full"},null,512),[[a.Jo,r.newProject.startTime]])]),(0,o.Lk)("div",null,[t[38]||(t[38]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"æˆªæ­¢æ—¥æœŸ",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>r.newProject.dueDate=e),type:"date",class:"macos-input w-full"},null,512),[[a.Jo,r.newProject.dueDate]])]),(0,o.Lk)("div",null,[t[40]||(t[40]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"å„ªå…ˆç´š",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[8]||(t[8]=e=>r.newProject.priority=e),class:"macos-input w-full"},[...t[39]||(t[39]=[(0,o.Lk)("option",null,"é«˜",-1),(0,o.Lk)("option",null,"ä¸­",-1),(0,o.Lk)("option",null,"ä½",-1)])],512),[[a.u1,r.newProject.priority]])]),(0,o.Lk)("div",null,[t[42]||(t[42]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"ç‹€æ…‹",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[9]||(t[9]=e=>r.newProject.status=e),class:"macos-input w-full"},[...t[41]||(t[41]=[(0,o.Lk)("option",null,"å¾…å¯©æ ¸",-1),(0,o.Lk)("option",null,"é€²è¡Œä¸­",-1),(0,o.Lk)("option",null,"å·²å®Œæˆ",-1),(0,o.Lk)("option",null,"å»¶é²",-1)])],512),[[a.u1,r.newProject.status]])])])],512),[[a.aG,1===r.currentStep]]),(0,o.bo)((0,o.Lk)("div",je,[(0,o.Lk)("div",null,[t[43]||(t[43]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"ç‚ºä»€éº¼éœ€è¦é€™å€‹å°ˆæ¡ˆï¼Ÿ *",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[10]||(t[10]=e=>r.newProject.projectReason=e),rows:"3",placeholder:"è«‹èªªæ˜æ­¤å°ˆæ¡ˆçš„é‡è¦æ€§ï¼Œä»¥åŠå®ƒå¦‚ä½•å½±éŸ¿æ•´é«”ç›®æ¨™",class:"macos-textarea w-full"},null,512),[[a.Jo,r.newProject.projectReason]])]),(0,o.Lk)("div",null,[t[44]||(t[44]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"ç¾æ³æè¿°",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[11]||(t[11]=e=>r.newProject.currentSituation=e),rows:"3",placeholder:"ç›®å‰æ˜¯èª° (Who)ã€ç”¨ä»€éº¼æ–¹æ³• (How)ã€åœ¨åšä»€éº¼äº‹ (What)ï¼Ÿ",class:"macos-textarea w-full"},null,512),[[a.Jo,r.newProject.currentSituation]])]),(0,o.Lk)("div",null,[t[45]||(t[45]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"å›°é›£é»",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[12]||(t[12]=e=>r.newProject.difficulties=e),rows:"3",placeholder:"ç›®å‰é‡åˆ°ä»€éº¼å•é¡Œæˆ–ç“¶é ¸ï¼Ÿç‚ºä»€éº¼ç¾æœ‰æ–¹æ³•ä¸å¤ å¥½ï¼Ÿ",class:"macos-textarea w-full"},null,512),[[a.Jo,r.newProject.difficulties]])]),(0,o.Lk)("div",null,[t[46]||(t[46]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"è·¨å–®ä½å•é¡Œï¼ˆå¦‚é©ç”¨ï¼‰",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[13]||(t[13]=e=>r.newProject.crossUnitIssues=e),rows:"2",placeholder:"è‹¥æ¶‰åŠè·¨å–®ä½ï¼Œé€™å€‹å•é¡Œå¦‚ä½•åœ¨å„å–®ä½ä¹‹é–“ç™¼ç”Ÿï¼Ÿ",class:"macos-textarea w-full"},null,512),[[a.Jo,r.newProject.crossUnitIssues]])]),(0,o.Lk)("div",null,[t[47]||(t[47]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"å˜—è©¦éçš„è§£æ±ºæ–¹æ¡ˆ",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[14]||(t[14]=e=>r.newProject.attemptedSolutions=e),rows:"2",placeholder:"æ˜¯å¦å·²ç¶“å˜—è©¦éå…¶ä»–æ–¹æ³•ï¼Ÿçµæœå¦‚ä½•ï¼Ÿ",class:"macos-textarea w-full"},null,512),[[a.Jo,r.newProject.attemptedSolutions]])])],512),[[a.aG,2===r.currentStep]]),(0,o.bo)((0,o.Lk)("div",Ee,[(0,o.Lk)("div",null,[t[48]||(t[48]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"å°ˆæ¡ˆç›®æ¨™ *",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[15]||(t[15]=e=>r.newProject.projectGoals=e),rows:"3",placeholder:"å¸Œæœ›é”åˆ°ä»€éº¼å…·é«”ç›®æ¨™ï¼Ÿä¾‹å¦‚ï¼šæ¸›å°‘ A æµç¨‹æ™‚é–“å¾ 3 å¤©ç¸®çŸ­åˆ° 1 å¤©",class:"macos-textarea w-full"},null,512),[[a.Jo,r.newProject.projectGoals]])]),(0,o.Lk)("div",null,[t[49]||(t[49]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"æœŸæœ›åŠŸèƒ½æˆ–ç†æƒ³æµç¨‹",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[16]||(t[16]=e=>r.newProject.expectedFeatures=e),rows:"3",placeholder:"å¸Œæœ›ç³»çµ±èƒ½åšä»€éº¼ï¼Ÿç†æƒ³çš„æ“ä½œæµç¨‹æ˜¯ä»€éº¼ï¼Ÿ",class:"macos-textarea w-full"},null,512),[[a.Jo,r.newProject.expectedFeatures]])]),(0,o.Lk)("div",null,[t[50]||(t[50]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"ä¸»è¦ä½¿ç”¨è€…æ˜¯èª°ï¼Ÿ",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[17]||(t[17]=e=>r.newProject.targetUsers=e),rows:"2",placeholder:"èª°æœƒç”¨é€™å€‹ç³»çµ±æˆ–æµç¨‹ï¼Ÿè«‹åˆ—å‡ºæ‰€æœ‰æœƒæ¥è§¸åˆ°çš„ã€Œå–®ä½ã€æˆ–ã€Œè§’è‰²ã€",class:"macos-textarea w-full"},null,512),[[a.Jo,r.newProject.targetUsers]])]),(0,o.Lk)("div",null,[t[51]||(t[51]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"é æœŸæå‡æ•ˆç›Š",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[18]||(t[18]=e=>r.newProject.expectedBenefits=e),rows:"3",placeholder:"å¯é‡åŒ–ï¼šæ¸›å°‘å·¥æ™‚ 50%ã€ç¯€çœæˆæœ¬ 8 å°æ™‚/é€±\\nä¸å¯é‡åŒ–ï¼šæå‡å®¢æˆ¶æ»¿æ„åº¦ã€ç¬¦åˆæ³•è¦",class:"macos-textarea w-full"},null,512),[[a.Jo,r.newProject.expectedBenefits]])]),(0,o.Lk)("div",null,[t[52]||(t[52]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"é ä¼°æ™‚ç¨‹",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[19]||(t[19]=e=>r.newProject.estimatedTimeline=e),placeholder:"ä¾‹å¦‚ï¼šé è¨ˆå°ˆæ¡ˆå¾å•Ÿå‹•åˆ°å®Œæˆç´„ 3 å€‹æœˆ",class:"macos-input w-full"},null,512),[[a.Jo,r.newProject.estimatedTimeline]])])],512),[[a.aG,3===r.currentStep]]),(0,o.bo)((0,o.Lk)("div",Ie,[(0,o.Lk)("div",null,[t[53]||(t[53]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"é—œéµæˆåŠŸæŒ‡æ¨™",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[20]||(t[20]=e=>r.newProject.successMetrics=e),rows:"3",placeholder:"å¦‚ä½•è¡¡é‡é€™å€‹å°ˆæ¡ˆæ˜¯å¦æˆåŠŸï¼Ÿä¾‹å¦‚ï¼šä¸Šç·šå¾Œå®¢æˆ¶æ»¿æ„åº¦æå‡è‡³ 90%ã€ç³»çµ±ä¸Šç·šç„¡é‡å¤§éŒ¯èª¤",class:"macos-textarea w-full"},null,512),[[a.Jo,r.newProject.successMetrics]])]),(0,o.Lk)("div",null,[t[54]||(t[54]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"æ‰€éœ€è³‡æº",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[21]||(t[21]=e=>r.newProject.requiredResources=e),rows:"3",placeholder:"åŸ·è¡Œæ­¤å°ˆæ¡ˆéœ€è¦å“ªäº›è³‡æºï¼Ÿä¾‹å¦‚ï¼šç‰¹å®šäººå“¡æŠ•å…¥ã€é ç®—ã€ç¡¬é«”è¨­å‚™ã€å¤–éƒ¨å» å•†æ”¯æ´",class:"macos-textarea w-full"},null,512),[[a.Jo,r.newProject.requiredResources]])]),(0,o.Lk)("div",null,[t[55]||(t[55]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"æ½›åœ¨é¢¨éšªè©•ä¼°",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[22]||(t[22]=e=>r.newProject.riskAssessment=e),rows:"3",placeholder:"åŸ·è¡Œæ­¤å°ˆæ¡ˆå¯èƒ½é‡åˆ°ä»€éº¼é¢¨éšªï¼Ÿä¾‹å¦‚ï¼šèˆŠç³»çµ±è³‡æ–™ç„¡æ³•è½‰ç§»ã€äººå“¡ä¸è¶³",class:"macos-textarea w-full"},null,512),[[a.Jo,r.newProject.riskAssessment]])]),(0,o.Lk)("div",null,[t[56]||(t[56]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"é€²åº¦ï¼ˆ%ï¼‰",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[23]||(t[23]=e=>r.newProject.progress=e),type:"number",min:"0",max:"100",placeholder:"0-100",class:"macos-input w-full"},null,512),[[a.Jo,r.newProject.progress,void 0,{number:!0}]])]),(0,o.Lk)("div",null,[t[57]||(t[57]=(0,o.Lk)("label",{class:"text-sm font-medium text-gray-700 mb-1 block"},"å…¶ä»–è£œå……èªªæ˜",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[24]||(t[24]=e=>r.newProject.description=e),rows:"2",placeholder:"å…¶ä»–éœ€è¦è£œå……çš„è³‡è¨Š",class:"macos-textarea w-full"},null,512),[[a.Jo,r.newProject.description]])])],512),[[a.aG,4===r.currentStep]]),(0,o.Lk)("div",Fe,[r.currentStep>1?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t[25]||(t[25]=e=>r.currentStep--),class:"macos-button-secondary"}," ä¸Šä¸€æ­¥ ")):((0,o.uX)(),(0,o.CE)("div",Xe)),(0,o.Lk)("div",Ue,[r.currentStep<4?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t[26]||(t[26]=e=>r.currentStep++),class:"macos-button-primary"}," ä¸‹ä¸€æ­¥ ")):((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:t[27]||(t[27]=(...e)=>n.addProject&&n.addProject(...e)),disabled:r.isLoading||!n.canSubmit,class:"macos-button-primary disabled:opacity-50 disabled:cursor-not-allowed"},[r.isLoading?((0,o.uX)(),(0,o.CE)("span",Ve,"æäº¤ä¸­...")):((0,o.uX)(),(0,o.CE)("span",_e,"æäº¤å°ˆæ¡ˆ"))],8,Pe))])])]),(0,o.Lk)("div",Me,[(0,o.Lk)("div",Je,[t[58]||(t[58]=(0,o.Lk)("h3",{class:"text-xl font-bold text-gray-800"},"å°ˆæ¡ˆåˆ—è¡¨",-1)),(0,o.Lk)("span",Ae,"å…± "+(0,I.v_)(n.filteredProjects.length)+" å€‹å°ˆæ¡ˆ",1)]),(0,o.Lk)("div",ze,[(0,o.Lk)("div",Be,[t[59]||(t[59]=(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[28]||(t[28]=e=>r.searchQuery=e),placeholder:"æœå°‹å°ˆæ¡ˆ...",class:"macos-input w-full pl-10"},null,512),[[a.Jo,r.searchQuery]])]),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[29]||(t[29]=e=>r.statusFilter=e),class:"macos-input w-full md:w-48"},[...t[60]||(t[60]=[(0,o.Fv)('<option value="">æ‰€æœ‰ç‹€æ…‹</option><option value="å¾…å¯©æ ¸">å¾…å¯©æ ¸</option><option value="é€²è¡Œä¸­">é€²è¡Œä¸­</option><option value="å·²å®Œæˆ">å·²å®Œæˆ</option><option value="å»¶é²">å»¶é²</option>',5)])],512),[[a.u1,r.statusFilter]])]),r.isLoading?((0,o.uX)(),(0,o.CE)("div",We,[...t[61]||(t[61]=[(0,o.Lk)("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-[#007AFF]"},null,-1),(0,o.Lk)("p",{class:"text-gray-500 mt-3"},"è¼‰å…¥ä¸­...",-1)])])):n.filteredProjects.length>0?((0,o.uX)(),(0,o.CE)("div",He,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.filteredProjects,e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"macos-card p-5 cursor-pointer hover:shadow-macos-hover transition-all group",onClick:t=>n.openDetail(e)},[(0,o.Lk)("div",De,[(0,o.Lk)("h4",Ge,(0,I.v_)(e.name),1),(0,o.Lk)("button",{onClick:(0,a.D$)(t=>n.deleteProject(e.id),["stop"]),class:"opacity-0 group-hover:opacity-100 ml-2 p-1 hover:bg-red-50 rounded transition-all"},[...t[62]||(t[62]=[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Se)]),(0,o.Lk)("div",Oe,[(0,o.Lk)("span",{class:(0,I.C4)({"status-pending":"å¾…å¯©æ ¸"===e.status,"status-active":"é€²è¡Œä¸­"===e.status,"status-completed":"å·²å®Œæˆ"===e.status,"status-delayed":"å»¶é²"===e.status})},(0,I.v_)(e.status||"é€²è¡Œä¸­"),3),(0,o.Lk)("span",{class:(0,I.C4)([{"bg-red-50 text-red-600":"é«˜"===e.priority,"bg-yellow-50 text-yellow-600":"ä¸­"===e.priority,"bg-green-50 text-green-600":"ä½"===e.priority},"px-2 py-1 rounded-md text-xs font-medium"])},(0,I.v_)(e.priority||"ä¸­"),3)]),(0,o.Lk)("div",Te,[e.proposalUnit?((0,o.uX)(),(0,o.CE)("div",Ke,"ğŸ“ "+(0,I.v_)(e.proposalUnit),1)):(0,o.Q3)("",!0),e.owner?((0,o.uX)(),(0,o.CE)("div",qe,"ğŸ‘¤ "+(0,I.v_)(e.owner),1)):(0,o.Q3)("",!0),e.dueDate?((0,o.uX)(),(0,o.CE)("div",Re,"ğŸ“… "+(0,I.v_)(e.dueDate),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",$e,[(0,o.Lk)("div",Ze,[t[63]||(t[63]=(0,o.Lk)("span",null,"é€²åº¦",-1)),(0,o.Lk)("span",Ne,(0,I.v_)(e.progress||0)+"%",1)]),(0,o.Lk)("div",Ye,[(0,o.Lk)("div",{class:"bg-gradient-to-r from-blue-500 to-blue-600 h-1.5 rounded-full transition-all",style:(0,I.Tr)({width:(e.progress||0)+"%"})},null,4)])])],8,Qe))),128))])):((0,o.uX)(),(0,o.CE)("div",et,[...t[64]||(t[64]=[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 mx-auto text-gray-300 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1),(0,o.Lk)("p",{class:"text-gray-500"},"å°šç„¡å°ˆæ¡ˆï¼Œè«‹æ–°å¢ç¬¬ä¸€å€‹å°ˆæ¡ˆ",-1)])]))]),(0,o.bF)(i,{project:r.selectedProject,isOpen:r.isModalOpen,onClose:n.closeDetail},null,8,["project","isOpen","onClose"])])}const st={class:"w-full max-w-4xl max-h-[90vh] overflow-hidden macos-card modal-shadow animate-modal-slide"},at={class:"sticky top-0 bg-white border-b border-gray-100 px-6 py-4 flex items-center justify-between z-10"},ot={class:"flex items-center space-x-3"},lt={class:"text-xl font-bold text-gray-800"},rt={class:"overflow-y-auto max-h-[calc(90vh-80px)] px-6 py-6 space-y-6"},nt={class:"flex items-center gap-3"},it={class:"text-sm text-gray-500"},dt={class:"font-bold text-blue-600"},ct={class:"w-full bg-gray-100 rounded-full h-2"},ut={class:"bg-gray-50 rounded-xl p-5 space-y-4"},pt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},mt={key:0},gt={class:"text-sm text-gray-800 mt-1"},kt={key:1},xt={class:"text-sm text-gray-800 mt-1"},ht={key:2},bt={class:"text-sm text-gray-800 mt-1"},yt={key:3},wt={class:"text-sm text-gray-800 mt-1"},ft={key:4},Lt={class:"text-sm text-gray-800 mt-1"},vt={key:5},Ct={class:"text-sm text-gray-800 mt-1"},jt={key:0},Et={class:"flex flex-wrap gap-2 mt-2"},It={class:"bg-gray-50 rounded-xl p-5 space-y-4"},Ft={key:0,class:"space-y-2"},Xt={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},Ut={key:1,class:"space-y-2"},Pt={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},Vt={key:2,class:"space-y-2"},_t={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},Mt={key:3,class:"space-y-2"},Jt={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},At={key:4,class:"space-y-2"},zt={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},Bt={class:"bg-gray-50 rounded-xl p-5 space-y-4"},Wt={key:0,class:"space-y-2"},Ht={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},Qt={key:1,class:"space-y-2"},Dt={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},Gt={key:2,class:"space-y-2"},St={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},Ot={key:3,class:"space-y-2"},Tt={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},Kt={key:4,class:"space-y-2"},qt={class:"text-sm text-gray-700 leading-relaxed"},Rt={class:"bg-gray-50 rounded-xl p-5 space-y-4"},$t={key:0,class:"space-y-2"},Zt={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},Nt={key:1,class:"space-y-2"},Yt={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},es={key:2,class:"space-y-2"},ts={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"},ss={key:0,class:"bg-gray-50 rounded-xl p-5 space-y-2"},as={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap"};function os(e,t,s,l,r,n){return(0,o.uX)(),(0,o.Wv)(a.eB,{name:"modal-fade"},{default:(0,o.k6)(()=>[s.isOpen?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-40 backdrop-blur-sm",onClick:t[1]||(t[1]=(0,a.D$)((...e)=>n.close&&n.close(...e),["self"]))},[(0,o.Lk)("div",st,[(0,o.Lk)("div",at,[(0,o.Lk)("div",ot,[t[3]||(t[3]=(0,o.Lk)("div",{class:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center"},[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),(0,o.Lk)("div",null,[(0,o.Lk)("h2",lt,(0,I.v_)(s.project.name),1),t[2]||(t[2]=(0,o.Lk)("p",{class:"text-sm text-gray-500"},"å°ˆæ¡ˆè©³ç´°è³‡è¨Š",-1))])]),(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.close&&n.close(...e)),class:"w-8 h-8 rounded-lg hover:bg-gray-100 flex items-center justify-center transition-colors"},[...t[4]||(t[4]=[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),(0,o.Lk)("div",rt,[(0,o.Lk)("div",nt,[(0,o.Lk)("span",{class:(0,I.C4)({"status-pending":"å¾…å¯©æ ¸"===s.project.status,"status-active":"é€²è¡Œä¸­"===s.project.status,"status-completed":"å·²å®Œæˆ"===s.project.status,"status-delayed":"å»¶é²"===s.project.status})},(0,I.v_)(s.project.status||"é€²è¡Œä¸­"),3),(0,o.Lk)("span",{class:(0,I.C4)([{"bg-red-50 text-red-600":"é«˜"===s.project.priority,"bg-yellow-50 text-yellow-600":"ä¸­"===s.project.priority,"bg-green-50 text-green-600":"ä½"===s.project.priority},"px-2 py-1 rounded-md text-xs font-medium"])}," å„ªå…ˆç´šï¼š"+(0,I.v_)(s.project.priority||"ä¸­"),3),t[6]||(t[6]=(0,o.Lk)("div",{class:"flex-1"},null,-1)),(0,o.Lk)("div",it,[t[5]||(t[5]=(0,o.eW)(" é€²åº¦ï¼š",-1)),(0,o.Lk)("span",dt,(0,I.v_)(s.project.progress||0)+"%",1)])]),(0,o.Lk)("div",ct,[(0,o.Lk)("div",{class:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full transition-all duration-500",style:(0,I.Tr)({width:(s.project.progress||0)+"%"})},null,4)]),(0,o.Lk)("section",ut,[t[14]||(t[14]=(0,o.Lk)("h3",{class:"text-lg font-bold text-gray-800 flex items-center"},[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),(0,o.eW)(" åŸºæœ¬è³‡è¨Š ")],-1)),(0,o.Lk)("div",pt,[s.project.proposalUnit?((0,o.uX)(),(0,o.CE)("div",mt,[t[7]||(t[7]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"ä¸»è¦ææ¡ˆå–®ä½",-1)),(0,o.Lk)("p",gt,(0,I.v_)(s.project.proposalUnit),1)])):(0,o.Q3)("",!0),s.project.proposalContact?((0,o.uX)(),(0,o.CE)("div",kt,[t[8]||(t[8]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"ææ¡ˆè¯çµ¡äºº",-1)),(0,o.Lk)("p",xt,(0,I.v_)(s.project.proposalContact),1)])):(0,o.Q3)("",!0),s.project.department?((0,o.uX)(),(0,o.CE)("div",ht,[t[9]||(t[9]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"è² è²¬éƒ¨é–€",-1)),(0,o.Lk)("p",bt,(0,I.v_)(s.project.department),1)])):(0,o.Q3)("",!0),s.project.owner?((0,o.uX)(),(0,o.CE)("div",yt,[t[10]||(t[10]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"è² è²¬äºº",-1)),(0,o.Lk)("p",wt,(0,I.v_)(s.project.owner),1)])):(0,o.Q3)("",!0),s.project.startTime?((0,o.uX)(),(0,o.CE)("div",ft,[t[11]||(t[11]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"é–‹å§‹æ™‚é–“",-1)),(0,o.Lk)("p",Lt,(0,I.v_)(s.project.startTime),1)])):(0,o.Q3)("",!0),s.project.dueDate?((0,o.uX)(),(0,o.CE)("div",vt,[t[12]||(t[12]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"æˆªæ­¢æ—¥æœŸ",-1)),(0,o.Lk)("p",Ct,(0,I.v_)(s.project.dueDate),1)])):(0,o.Q3)("",!0)]),s.project.relatedUnits&&s.project.relatedUnits.length>0?((0,o.uX)(),(0,o.CE)("div",jt,[t[13]||(t[13]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"ç›¸é—œå–®ä½",-1)),(0,o.Lk)("div",Et,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.project.relatedUnits,(e,t)=>((0,o.uX)(),(0,o.CE)("span",{key:t,class:"px-2 py-1 bg-blue-50 text-blue-600 rounded text-xs"},(0,I.v_)(e),1))),128))])])):(0,o.Q3)("",!0)]),(0,o.Lk)("section",It,[t[20]||(t[20]=(0,o.Lk)("h3",{class:"text-lg font-bold text-gray-800 flex items-center"},[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),(0,o.eW)(" å°ˆæ¡ˆèƒŒæ™¯ ")],-1)),s.project.projectReason?((0,o.uX)(),(0,o.CE)("div",Ft,[t[15]||(t[15]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"ç‚ºä»€éº¼éœ€è¦é€™å€‹å°ˆæ¡ˆ",-1)),(0,o.Lk)("p",Xt,(0,I.v_)(s.project.projectReason),1)])):(0,o.Q3)("",!0),s.project.currentSituation?((0,o.uX)(),(0,o.CE)("div",Ut,[t[16]||(t[16]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"ç¾æ³æè¿°",-1)),(0,o.Lk)("p",Pt,(0,I.v_)(s.project.currentSituation),1)])):(0,o.Q3)("",!0),s.project.difficulties?((0,o.uX)(),(0,o.CE)("div",Vt,[t[17]||(t[17]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"å›°é›£é»",-1)),(0,o.Lk)("p",_t,(0,I.v_)(s.project.difficulties),1)])):(0,o.Q3)("",!0),s.project.crossUnitIssues?((0,o.uX)(),(0,o.CE)("div",Mt,[t[18]||(t[18]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"è·¨å–®ä½å•é¡Œ",-1)),(0,o.Lk)("p",Jt,(0,I.v_)(s.project.crossUnitIssues),1)])):(0,o.Q3)("",!0),s.project.attemptedSolutions?((0,o.uX)(),(0,o.CE)("div",At,[t[19]||(t[19]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"å˜—è©¦éçš„è§£æ±ºæ–¹æ¡ˆ",-1)),(0,o.Lk)("p",zt,(0,I.v_)(s.project.attemptedSolutions),1)])):(0,o.Q3)("",!0)]),(0,o.Lk)("section",Bt,[t[26]||(t[26]=(0,o.Lk)("h3",{class:"text-lg font-bold text-gray-800 flex items-center"},[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 00 2-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})]),(0,o.eW)(" æœŸæœ›ç›®æ¨™èˆ‡æ•ˆç›Š ")],-1)),s.project.projectGoals?((0,o.uX)(),(0,o.CE)("div",Wt,[t[21]||(t[21]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"å°ˆæ¡ˆç›®æ¨™",-1)),(0,o.Lk)("p",Ht,(0,I.v_)(s.project.projectGoals),1)])):(0,o.Q3)("",!0),s.project.expectedFeatures?((0,o.uX)(),(0,o.CE)("div",Qt,[t[22]||(t[22]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"æœŸæœ›åŠŸèƒ½æˆ–æµç¨‹",-1)),(0,o.Lk)("p",Dt,(0,I.v_)(s.project.expectedFeatures),1)])):(0,o.Q3)("",!0),s.project.targetUsers?((0,o.uX)(),(0,o.CE)("div",Gt,[t[23]||(t[23]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"ä¸»è¦ä½¿ç”¨è€…",-1)),(0,o.Lk)("p",St,(0,I.v_)(s.project.targetUsers),1)])):(0,o.Q3)("",!0),s.project.expectedBenefits?((0,o.uX)(),(0,o.CE)("div",Ot,[t[24]||(t[24]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"é æœŸæå‡æ•ˆç›Š",-1)),(0,o.Lk)("p",Tt,(0,I.v_)(s.project.expectedBenefits),1)])):(0,o.Q3)("",!0),s.project.estimatedTimeline?((0,o.uX)(),(0,o.CE)("div",Kt,[t[25]||(t[25]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"é ä¼°æ™‚ç¨‹",-1)),(0,o.Lk)("p",qt,(0,I.v_)(s.project.estimatedTimeline),1)])):(0,o.Q3)("",!0)]),(0,o.Lk)("section",Rt,[t[30]||(t[30]=(0,o.Lk)("h3",{class:"text-lg font-bold text-gray-800 flex items-center"},[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),(0,o.eW)(" è³‡æºèˆ‡é¢¨éšªè©•ä¼° ")],-1)),s.project.successMetrics?((0,o.uX)(),(0,o.CE)("div",$t,[t[27]||(t[27]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"é—œéµæˆåŠŸæŒ‡æ¨™",-1)),(0,o.Lk)("p",Zt,(0,I.v_)(s.project.successMetrics),1)])):(0,o.Q3)("",!0),s.project.requiredResources?((0,o.uX)(),(0,o.CE)("div",Nt,[t[28]||(t[28]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"æ‰€éœ€è³‡æº",-1)),(0,o.Lk)("p",Yt,(0,I.v_)(s.project.requiredResources),1)])):(0,o.Q3)("",!0),s.project.riskAssessment?((0,o.uX)(),(0,o.CE)("div",es,[t[29]||(t[29]=(0,o.Lk)("label",{class:"text-xs text-gray-500 font-medium"},"æ½›åœ¨é¢¨éšª",-1)),(0,o.Lk)("p",ts,(0,I.v_)(s.project.riskAssessment),1)])):(0,o.Q3)("",!0)]),s.project.description?((0,o.uX)(),(0,o.CE)("section",ss,[t[31]||(t[31]=(0,o.Lk)("h3",{class:"text-lg font-bold text-gray-800"},"å…¶ä»–èªªæ˜",-1)),(0,o.Lk)("p",as,(0,I.v_)(s.project.description),1)])):(0,o.Q3)("",!0)])])])):(0,o.Q3)("",!0)]),_:1})}var ls={name:"ProjectDetailModal",props:{project:{type:Object,required:!0},isOpen:{type:Boolean,default:!1}},methods:{close(){this.$emit("close")}},watch:{isOpen(e){document.body.style.overflow=e?"hidden":""}},beforeUnmount(){document.body.style.overflow=""}};const rs=(0,i.A)(ls,[["render",os],["__scopeId","data-v-48a7396c"]]);var ns=rs,is={name:"AdminProjectList",components:{ProjectDetailModal:ns},data(){return{currentStep:1,projects:[],newProject:this.getEmptyProject(),relatedUnitsInput:"",isLoading:!1,searchQuery:"",statusFilter:"",selectedProject:{},isModalOpen:!1}},computed:{canSubmit(){return this.newProject.name&&this.newProject.proposalUnit&&this.newProject.proposalContact},filteredProjects(){return this.projects.filter(e=>{const t=e.name&&e.name.toLowerCase().includes(this.searchQuery.toLowerCase())||e.owner&&e.owner.toLowerCase().includes(this.searchQuery.toLowerCase())||e.proposalUnit&&e.proposalUnit.toLowerCase().includes(this.searchQuery.toLowerCase()),s=!this.statusFilter||e.status===this.statusFilter;return t&&s})}},async mounted(){await this.fetchProjects()},methods:{getEmptyProject(){return{name:"",proposalUnit:"",proposalContact:"",department:"",owner:"",startTime:"",dueDate:"",priority:"ä¸­",progress:0,status:"å¾…å¯©æ ¸",projectReason:"",currentSituation:"",difficulties:"",crossUnitIssues:"",attemptedSolutions:"",projectGoals:"",expectedFeatures:"",targetUsers:"",expectedBenefits:"",estimatedTimeline:"",successMetrics:"",requiredResources:"",riskAssessment:"",description:"",relatedUnits:[]}},async fetchProjects(){this.isLoading=!0;try{const e=await(0,de.GG)((0,de.rJ)(me,"projects"));this.projects=e.docs.map(e=>({id:e.id,...e.data()}))}finally{this.isLoading=!1}},async addProject(){if(!this.canSubmit)return alert("è«‹å¡«å¯«å¿…å¡«æ¬„ä½ï¼šå°ˆæ¡ˆåç¨±ã€ææ¡ˆå–®ä½ã€è¯çµ¡äºº");this.isLoading=!0;try{this.relatedUnitsInput.trim()&&(this.newProject.relatedUnits=this.relatedUnitsInput.split(",").map(e=>e.trim()).filter(e=>e)),await(0,de.gS)((0,de.rJ)(me,"projects"),this.newProject),this.newProject=this.getEmptyProject(),this.relatedUnitsInput="",this.currentStep=1,await this.fetchProjects(),alert("å°ˆæ¡ˆæ–°å¢æˆåŠŸï¼")}catch(e){console.error(e),alert("æ–°å¢å¤±æ•—: "+e.message)}finally{this.isLoading=!1}},async deleteProject(e){if(confirm("ç¢ºå®šè¦åˆªé™¤é€™å€‹å°ˆæ¡ˆå—ï¼Ÿæ­¤æ“ä½œç„¡æ³•é‚„åŸã€‚")){this.isLoading=!0;try{await(0,de.kd)((0,de.H9)(me,"projects",e)),await this.fetchProjects()}catch(t){console.error(t),alert("åˆªé™¤å¤±æ•—")}finally{this.isLoading=!1}}},openDetail(e){this.selectedProject=e,this.isModalOpen=!0},closeDetail(){this.isModalOpen=!1}}};const ds=(0,i.A)(is,[["render",tt]]);var cs=ds;const us={class:"bg-white p-6 rounded-lg shadow-md mb-8"},ps={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 bg-gray-50 p-4 rounded-lg"},ms=["disabled"],gs={key:0},ks={key:1},xs={class:"flex flex-col md:flex-row justify-between items-center gap-4 mb-4"},hs={class:"relative w-full md:w-64"},bs={class:"overflow-x-auto"},ys={class:"w-full text-left border-collapse"},ws={class:"text-gray-600 text-sm font-light"},fs={class:"py-3 px-6"},Ls={class:"py-3 px-6"},vs={class:"py-3 px-6"},Cs={class:"py-3 px-6"},js={class:"py-3 px-6 text-center"},Es=["onClick"],Is={class:"py-3 px-6 font-medium"},Fs={class:"py-3 px-6"},Xs={class:"text-xs text-gray-500"},Us={class:"py-3 px-6"},Ps={class:"py-3 px-6 text-center"},Vs=["onClick"],_s=["onClick"];function Ms(e,t,s,l,r,n){return(0,o.uX)(),(0,o.CE)("div",us,[t[17]||(t[17]=(0,o.Lk)("h3",{class:"text-xl font-bold mb-4 text-gray-800"},"ä¾‹è¡Œå…¬äº‹ç®¡ç†",-1)),(0,o.Lk)("div",ps,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.newItem.title=e),placeholder:"äº‹é …åç¨±",class:"border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[a.Jo,r.newItem.title]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.newItem.frequency=e),placeholder:"é »ç‡ (å¦‚: æ¯é€±)",class:"border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[a.Jo,r.newItem.frequency]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.newItem.assignee=e),placeholder:"è² è²¬äºº",class:"border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[a.Jo,r.newItem.assignee]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>r.newItem.status=e),placeholder:"ç‹€æ…‹",class:"border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[a.Jo,r.newItem.status]]),(0,o.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>n.addItem&&n.addItem(...e)),disabled:r.isLoading,class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-50 transition flex items-center justify-center"},[r.isLoading?((0,o.uX)(),(0,o.CE)("span",gs,"è™•ç†ä¸­...")):((0,o.uX)(),(0,o.CE)("span",ks,"æ–°å¢äº‹é …"))],8,ms)]),(0,o.Lk)("div",xs,[(0,o.Lk)("div",hs,[t[12]||(t[12]=(0,o.Lk)("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400"},[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>r.searchQuery=e),type:"text",placeholder:"æœå°‹äº‹é …...",class:"pl-9 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none w-full"},null,512),[[a.Jo,r.searchQuery]])]),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>r.statusFilter=e),class:"py-2 px-3 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none bg-white text-gray-600 w-full md:w-auto"},[...t[13]||(t[13]=[(0,o.Lk)("option",{value:""},"æ‰€æœ‰ç‹€æ…‹",-1),(0,o.Lk)("option",{value:"æ­£å¸¸"},"æ­£å¸¸",-1),(0,o.Lk)("option",{value:"ç•°å¸¸"},"ç•°å¸¸",-1)])],512),[[a.u1,r.statusFilter]])]),(0,o.Lk)("div",bs,[(0,o.Lk)("table",ys,[t[16]||(t[16]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",{class:"bg-gray-100 text-gray-600 uppercase text-sm leading-normal"},[(0,o.Lk)("th",{class:"py-3 px-6"},"äº‹é …åç¨±"),(0,o.Lk)("th",{class:"py-3 px-6"},"é »ç‡"),(0,o.Lk)("th",{class:"py-3 px-6"},"ç‹€æ…‹"),(0,o.Lk)("th",{class:"py-3 px-6 text-center"},"æ“ä½œ")])],-1)),(0,o.Lk)("tbody",ws,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.filteredItems,e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.id,class:"border-b border-gray-200 hover:bg-gray-50"},[r.editingId===e.id?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.Lk)("td",fs,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>r.editForm.title=e),class:"border p-1 rounded w-full"},null,512),[[a.Jo,r.editForm.title]])]),(0,o.Lk)("td",Ls,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>r.editForm.frequency=e),class:"border p-1 rounded w-full"},null,512),[[a.Jo,r.editForm.frequency]])]),(0,o.Lk)("td",vs,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>r.editForm.assignee=e),class:"border p-1 rounded w-full",placeholder:"è² è²¬äºº"},null,512),[[a.Jo,r.editForm.assignee]])]),(0,o.Lk)("td",Cs,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>r.editForm.status=e),class:"border p-1 rounded w-full"},null,512),[[a.Jo,r.editForm.status]])]),(0,o.Lk)("td",js,[(0,o.Lk)("button",{onClick:t=>n.updateItem(e.id),class:"bg-green-500 text-white px-3 py-1 rounded mr-2 hover:bg-green-600"},"å„²å­˜",8,Es),(0,o.Lk)("button",{onClick:t[11]||(t[11]=(...e)=>n.cancelEdit&&n.cancelEdit(...e)),class:"bg-gray-400 text-white px-3 py-1 rounded hover:bg-gray-500"},"å–æ¶ˆ")])],64)):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.Lk)("td",Is,(0,I.v_)(e.title),1),(0,o.Lk)("td",Fs,[(0,o.Lk)("div",null,(0,I.v_)(e.frequency),1),(0,o.Lk)("div",Xs,(0,I.v_)(e.assignee),1)]),(0,o.Lk)("td",Us,[(0,o.Lk)("span",{class:(0,I.C4)([{"bg-green-200 text-green-600":"æ­£å¸¸"===e.status,"bg-yellow-200 text-yellow-600":"æ­£å¸¸"!==e.status},"py-1 px-3 rounded-full text-xs"])},(0,I.v_)(e.status),3)]),(0,o.Lk)("td",Ps,[(0,o.Lk)("button",{onClick:t=>n.startEdit(e),class:"text-blue-500 hover:text-blue-700 mr-3"},[...t[14]||(t[14]=[(0,o.Lk)("i",{class:"fas fa-edit"},null,-1),(0,o.eW)(" ç·¨è¼¯",-1)])],8,Vs),(0,o.Lk)("button",{onClick:t=>n.deleteItem(e.id),class:"text-red-500 hover:text-red-700"},[...t[15]||(t[15]=[(0,o.Lk)("i",{class:"fas fa-trash"},null,-1),(0,o.eW)(" åˆªé™¤",-1)])],8,_s)])],64))]))),128))])])])])}var Js={data(){return{items:[],isLoading:!1,editingId:null,editForm:{},newItem:{title:"",frequency:"",assignee:"",status:"æ­£å¸¸"},searchQuery:"",statusFilter:""}},computed:{filteredItems(){return this.items.filter(e=>{const t=e.title.toLowerCase().includes(this.searchQuery.toLowerCase())||e.assignee&&e.assignee.toLowerCase().includes(this.searchQuery.toLowerCase()),s=!this.statusFilter||e.status===this.statusFilter;return t&&s})}},async mounted(){await this.fetchItems()},methods:{async fetchItems(){this.isLoading=!0;try{const e=await(0,de.GG)((0,de.rJ)(me,"routines"));this.items=e.docs.map(e=>({id:e.id,...e.data()}))}finally{this.isLoading=!1}},async addItem(){if(!this.newItem.title)return alert("è«‹è¼¸å…¥äº‹é …åç¨±");this.isLoading=!0;try{await(0,de.gS)((0,de.rJ)(me,"routines"),this.newItem),this.newItem={title:"",frequency:"",assignee:"",status:"æ­£å¸¸"},await this.fetchItems()}finally{this.isLoading=!1}},async deleteItem(e){if(confirm("ç¢ºå®šè¦åˆªé™¤å—ï¼Ÿ")){this.isLoading=!0;try{await(0,de.kd)((0,de.H9)(me,"routines",e)),await this.fetchItems()}finally{this.isLoading=!1}}},startEdit(e){this.editingId=e.id,this.editForm={...e}},cancelEdit(){this.editingId=null,this.editForm={}},async updateItem(e){this.isLoading=!0;try{await(0,de.mZ)((0,de.H9)(me,"routines",e),this.editForm),this.editingId=null,await this.fetchItems()}finally{this.isLoading=!1}}}};const As=(0,i.A)(Js,[["render",Ms]]);var zs=As;const Bs={class:"bg-white p-6 rounded-lg shadow-md mb-8"},Ws={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 bg-gray-50 p-4 rounded-lg"},Hs=["disabled"],Qs={key:0},Ds={key:1},Gs={class:"overflow-x-auto"},Ss={class:"w-full text-left border-collapse"},Os={class:"text-gray-600 text-sm font-light"},Ts={class:"py-3 px-6"},Ks={class:"py-3 px-6"},qs={class:"py-3 px-6"},Rs={class:"py-3 px-6 text-center"},$s=["onClick"],Zs={class:"py-3 px-6"},Ns={class:"py-3 px-6 font-medium"},Ys=["href"],ea={class:"py-3 px-6"},ta={key:0,class:"text-xs text-gray-500"},sa={class:"py-3 px-6 text-center"},aa=["onClick"],oa=["onClick"];function la(e,t,s,l,r,n){return(0,o.uX)(),(0,o.CE)("div",Bs,[t[15]||(t[15]=(0,o.Lk)("h3",{class:"text-xl font-bold mb-4 text-gray-800"},"åƒèˆ‡è«–å£‡/åˆ†äº«æœƒç®¡ç†",-1)),(0,o.Lk)("div",Ws,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.newItem.name=e),placeholder:"è«–å£‡/åˆ†äº«æœƒåç¨±",class:"border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[a.Jo,r.newItem.name]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.newItem.date=e),type:"date",class:"border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[a.Jo,r.newItem.date]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.newItem.role=e),placeholder:"æ“”ä»»è§’è‰²",class:"border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[a.Jo,r.newItem.role]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>r.newItem.speaker=e),placeholder:"ä¸»è¬›äºº",class:"border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[a.Jo,r.newItem.speaker]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>r.newItem.link=e),placeholder:"ç›¸é—œé€£çµ",class:"border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none md:col-span-4"},null,512),[[a.Jo,r.newItem.link]]),(0,o.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>n.addItem&&n.addItem(...e)),disabled:r.isLoading,class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-50 transition flex items-center justify-center"},[r.isLoading?((0,o.uX)(),(0,o.CE)("span",Qs,"è™•ç†ä¸­...")):((0,o.uX)(),(0,o.CE)("span",Ds,"æ–°å¢ç´€éŒ„"))],8,Hs)]),(0,o.Lk)("div",Gs,[(0,o.Lk)("table",Ss,[t[14]||(t[14]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",{class:"bg-gray-100 text-gray-600 uppercase text-sm leading-normal"},[(0,o.Lk)("th",{class:"py-3 px-6"},"æ—¥æœŸ"),(0,o.Lk)("th",{class:"py-3 px-6"},"åç¨±"),(0,o.Lk)("th",{class:"py-3 px-6"},"è§’è‰²"),(0,o.Lk)("th",{class:"py-3 px-6 text-center"},"æ“ä½œ")])],-1)),(0,o.Lk)("tbody",Os,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.items,e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.id,class:"border-b border-gray-200 hover:bg-gray-50"},[r.editingId===e.id?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.Lk)("td",Ts,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>r.editForm.date=e),type:"date",class:"border p-1 rounded w-full"},null,512),[[a.Jo,r.editForm.date]])]),(0,o.Lk)("td",Ks,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>r.editForm.name=e),class:"border p-1 rounded w-full mb-1",placeholder:"åç¨±"},null,512),[[a.Jo,r.editForm.name]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>r.editForm.link=e),class:"border p-1 rounded w-full text-xs",placeholder:"é€£çµ"},null,512),[[a.Jo,r.editForm.link]])]),(0,o.Lk)("td",qs,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>r.editForm.role=e),class:"border p-1 rounded w-full mb-1",placeholder:"è§’è‰²"},null,512),[[a.Jo,r.editForm.role]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>r.editForm.speaker=e),class:"border p-1 rounded w-full text-xs",placeholder:"ä¸»è¬›äºº"},null,512),[[a.Jo,r.editForm.speaker]])]),(0,o.Lk)("td",Rs,[(0,o.Lk)("button",{onClick:t=>n.updateItem(e.id),class:"bg-green-500 text-white px-3 py-1 rounded mr-2 hover:bg-green-600"},"å„²å­˜",8,$s),(0,o.Lk)("button",{onClick:t[11]||(t[11]=(...e)=>n.cancelEdit&&n.cancelEdit(...e)),class:"bg-gray-400 text-white px-3 py-1 rounded hover:bg-gray-500"},"å–æ¶ˆ")])],64)):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.Lk)("td",Zs,(0,I.v_)(e.date),1),(0,o.Lk)("td",Ns,[(0,o.eW)((0,I.v_)(e.name)+" ",1),e.link?((0,o.uX)(),(0,o.CE)("a",{key:0,href:e.link,target:"_blank",class:"text-blue-500 hover:underline text-xs block truncate max-w-[150px]"},(0,I.v_)(e.link),9,Ys)):(0,o.Q3)("",!0)]),(0,o.Lk)("td",ea,[(0,o.Lk)("div",null,(0,I.v_)(e.role),1),e.speaker?((0,o.uX)(),(0,o.CE)("div",ta,"è¬›è€…: "+(0,I.v_)(e.speaker),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("td",sa,[(0,o.Lk)("button",{onClick:t=>n.startEdit(e),class:"text-blue-500 hover:text-blue-700 mr-3"},[...t[12]||(t[12]=[(0,o.Lk)("i",{class:"fas fa-edit"},null,-1),(0,o.eW)(" ç·¨è¼¯",-1)])],8,aa),(0,o.Lk)("button",{onClick:t=>n.deleteItem(e.id),class:"text-red-500 hover:text-red-700"},[...t[13]||(t[13]=[(0,o.Lk)("i",{class:"fas fa-trash"},null,-1),(0,o.eW)(" åˆªé™¤",-1)])],8,oa)])],64))]))),128))])])])])}var ra={data(){return{items:[],isLoading:!1,editingId:null,editForm:{},newItem:{name:"",date:"",role:"",speaker:"",link:""}}},async mounted(){await this.fetchItems()},methods:{async fetchItems(){this.isLoading=!0;try{const e=await(0,de.GG)((0,de.rJ)(me,"forums"));this.items=e.docs.map(e=>({id:e.id,...e.data()}))}finally{this.isLoading=!1}},async addItem(){if(!this.newItem.name)return alert("è«‹è¼¸å…¥åç¨±");this.isLoading=!0;try{await(0,de.gS)((0,de.rJ)(me,"forums"),this.newItem),this.newItem={name:"",date:"",role:"",speaker:"",link:""},await this.fetchItems()}finally{this.isLoading=!1}},async deleteItem(e){if(confirm("ç¢ºå®šè¦åˆªé™¤å—ï¼Ÿ")){this.isLoading=!0;try{await(0,de.kd)((0,de.H9)(me,"forums",e)),await this.fetchItems()}finally{this.isLoading=!1}}},startEdit(e){this.editingId=e.id,this.editForm={...e}},cancelEdit(){this.editingId=null,this.editForm={}},async updateItem(e){this.isLoading=!0;try{await(0,de.mZ)((0,de.H9)(me,"forums",e),this.editForm),this.editingId=null,await this.fetchItems()}finally{this.isLoading=!1}}}};const na=(0,i.A)(ra,[["render",la]]);var ia=na;const da={class:"bg-white p-6 rounded-lg shadow-md mb-8"},ca={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 bg-gray-50 p-4 rounded-lg"},ua=["disabled"],pa={key:0},ma={key:1},ga={class:"overflow-x-auto"},ka={class:"w-full text-left border-collapse"},xa={class:"text-gray-600 text-sm font-light"},ha={class:"py-3 px-6"},ba={class:"py-3 px-6"},ya={class:"py-3 px-6"},wa={class:"py-3 px-6 text-center"},fa=["onClick"],La={class:"py-3 px-6"},va={class:"py-3 px-6 font-medium"},Ca={key:0,class:"text-xs text-gray-500"},ja={class:"py-3 px-6"},Ea={class:"py-3 px-6 text-center"},Ia=["onClick"],Fa=["onClick"];function Xa(e,t,s,l,r,n){return(0,o.uX)(),(0,o.CE)("div",da,[t[13]||(t[13]=(0,o.Lk)("h3",{class:"text-xl font-bold mb-4 text-gray-800"},"æ´»å‹•åƒèˆ‡ç®¡ç†",-1)),(0,o.Lk)("div",ca,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.newItem.name=e),placeholder:"æ´»å‹•åç¨±",class:"border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[a.Jo,r.newItem.name]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.newItem.date=e),type:"date",class:"border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[a.Jo,r.newItem.date]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.newItem.location=e),placeholder:"åœ°é»",class:"border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[a.Jo,r.newItem.location]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>r.newItem.organizer=e),placeholder:"ä¸»è¾¦å–®ä½",class:"border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[a.Jo,r.newItem.organizer]]),(0,o.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>n.addItem&&n.addItem(...e)),disabled:r.isLoading,class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-50 transition flex items-center justify-center"},[r.isLoading?((0,o.uX)(),(0,o.CE)("span",pa,"è™•ç†ä¸­...")):((0,o.uX)(),(0,o.CE)("span",ma,"æ–°å¢æ´»å‹•"))],8,ua)]),(0,o.Lk)("div",ga,[(0,o.Lk)("table",ka,[t[12]||(t[12]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",{class:"bg-gray-100 text-gray-600 uppercase text-sm leading-normal"},[(0,o.Lk)("th",{class:"py-3 px-6"},"æ—¥æœŸ"),(0,o.Lk)("th",{class:"py-3 px-6"},"æ´»å‹•åç¨±"),(0,o.Lk)("th",{class:"py-3 px-6"},"åœ°é»"),(0,o.Lk)("th",{class:"py-3 px-6 text-center"},"æ“ä½œ")])],-1)),(0,o.Lk)("tbody",xa,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.items,e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.id,class:"border-b border-gray-200 hover:bg-gray-50"},[r.editingId===e.id?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.Lk)("td",ha,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>r.editForm.date=e),type:"date",class:"border p-1 rounded w-full"},null,512),[[a.Jo,r.editForm.date]])]),(0,o.Lk)("td",ba,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>r.editForm.name=e),class:"border p-1 rounded w-full mb-1",placeholder:"åç¨±"},null,512),[[a.Jo,r.editForm.name]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>r.editForm.organizer=e),class:"border p-1 rounded w-full text-xs",placeholder:"ä¸»è¾¦å–®ä½"},null,512),[[a.Jo,r.editForm.organizer]])]),(0,o.Lk)("td",ya,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>r.editForm.location=e),class:"border p-1 rounded w-full"},null,512),[[a.Jo,r.editForm.location]])]),(0,o.Lk)("td",wa,[(0,o.Lk)("button",{onClick:t=>n.updateItem(e.id),class:"bg-green-500 text-white px-3 py-1 rounded mr-2 hover:bg-green-600"},"å„²å­˜",8,fa),(0,o.Lk)("button",{onClick:t[9]||(t[9]=(...e)=>n.cancelEdit&&n.cancelEdit(...e)),class:"bg-gray-400 text-white px-3 py-1 rounded hover:bg-gray-500"},"å–æ¶ˆ")])],64)):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.Lk)("td",La,(0,I.v_)(e.date),1),(0,o.Lk)("td",va,[(0,o.eW)((0,I.v_)(e.name)+" ",1),e.organizer?((0,o.uX)(),(0,o.CE)("div",Ca,(0,I.v_)(e.organizer),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("td",ja,(0,I.v_)(e.location),1),(0,o.Lk)("td",Ea,[(0,o.Lk)("button",{onClick:t=>n.startEdit(e),class:"text-blue-500 hover:text-blue-700 mr-3"},[...t[10]||(t[10]=[(0,o.Lk)("i",{class:"fas fa-edit"},null,-1),(0,o.eW)(" ç·¨è¼¯",-1)])],8,Ia),(0,o.Lk)("button",{onClick:t=>n.deleteItem(e.id),class:"text-red-500 hover:text-red-700"},[...t[11]||(t[11]=[(0,o.Lk)("i",{class:"fas fa-trash"},null,-1),(0,o.eW)(" åˆªé™¤",-1)])],8,Fa)])],64))]))),128))])])])])}var Ua={data(){return{items:[],isLoading:!1,editingId:null,editForm:{},newItem:{name:"",date:"",location:"",organizer:""}}},async mounted(){await this.fetchItems()},methods:{async fetchItems(){this.isLoading=!0;try{const e=await(0,de.GG)((0,de.rJ)(me,"events"));this.items=e.docs.map(e=>({id:e.id,...e.data()}))}finally{this.isLoading=!1}},async addItem(){if(!this.newItem.name)return alert("è«‹è¼¸å…¥æ´»å‹•åç¨±");this.isLoading=!0;try{await(0,de.gS)((0,de.rJ)(me,"events"),this.newItem),this.newItem={name:"",date:"",location:"",organizer:""},await this.fetchItems()}finally{this.isLoading=!1}},async deleteItem(e){if(confirm("ç¢ºå®šè¦åˆªé™¤å—ï¼Ÿ")){this.isLoading=!0;try{await(0,de.kd)((0,de.H9)(me,"events",e)),await this.fetchItems()}finally{this.isLoading=!1}}},startEdit(e){this.editingId=e.id,this.editForm={...e}},cancelEdit(){this.editingId=null,this.editForm={}},async updateItem(e){this.isLoading=!0;try{await(0,de.mZ)((0,de.H9)(me,"events",e),this.editForm),this.editingId=null,await this.fetchItems()}finally{this.isLoading=!1}}}};const Pa=(0,i.A)(Ua,[["render",Xa]]);var Va=Pa;const _a={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 mb-8"},Ma={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 bg-gray-50 p-6 rounded-xl border border-gray-100"},Ja=["disabled"],Aa={key:0},za={key:1},Ba={class:"overflow-x-auto rounded-lg border border-gray-100"},Wa={class:"w-full text-left border-collapse"},Ha={class:"text-gray-600 text-sm"},Qa={class:"py-4 px-6"},Da={class:"py-4 px-6"},Ga={class:"py-4 px-6"},Sa={class:"py-4 px-6 text-center"},Oa=["onClick"],Ta={class:"py-4 px-6 font-bold text-gray-800"},Ka={class:"py-4 px-6"},qa={class:"py-4 px-6"},Ra={class:"py-4 px-6 text-center"},$a=["onClick"],Za=["onClick"];function Na(e,t,s,l,r,n){return(0,o.uX)(),(0,o.CE)("div",_a,[t[11]||(t[11]=(0,o.Lk)("h3",{class:"text-xl font-bold mb-4 text-gray-800 flex items-center"},[(0,o.Lk)("span",{class:"w-2 h-8 bg-accent-yellow rounded-full mr-3"}),(0,o.eW)(" æ´»å‹•æ¥æ´½ç®¡ç† ")],-1)),(0,o.Lk)("div",Ma,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.newItem.name=e),placeholder:"æ´»å‹•/å–®ä½åç¨±",class:"border-gray-200 border p-2 rounded-lg focus:ring-2 focus:ring-accent-yellow focus:border-accent-yellow outline-none transition"},null,512),[[a.Jo,r.newItem.name]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.newItem.contact=e),placeholder:"è¯çµ¡äºº",class:"border-gray-200 border p-2 rounded-lg focus:ring-2 focus:ring-accent-yellow focus:border-accent-yellow outline-none transition"},null,512),[[a.Jo,r.newItem.contact]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.newItem.status=e),placeholder:"æ¥æ´½ç‹€æ…‹",class:"border-gray-200 border p-2 rounded-lg focus:ring-2 focus:ring-accent-yellow focus:border-accent-yellow outline-none transition"},null,512),[[a.Jo,r.newItem.status]]),(0,o.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>n.addItem&&n.addItem(...e)),disabled:r.isLoading,class:"bg-accent-yellow text-white px-4 py-2 rounded-lg hover:bg-yellow-600 disabled:opacity-50 transition flex items-center justify-center font-medium shadow-sm hover:shadow"},[r.isLoading?((0,o.uX)(),(0,o.CE)("span",Aa,"è™•ç†ä¸­...")):((0,o.uX)(),(0,o.CE)("span",za,"æ–°å¢æ¥æ´½"))],8,Ja)]),(0,o.Lk)("div",Ba,[(0,o.Lk)("table",Wa,[t[10]||(t[10]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",{class:"bg-gray-50 text-gray-600 uppercase text-xs font-semibold tracking-wider"},[(0,o.Lk)("th",{class:"py-4 px-6"},"æ´»å‹•/å–®ä½åç¨±"),(0,o.Lk)("th",{class:"py-4 px-6"},"è¯çµ¡äºº"),(0,o.Lk)("th",{class:"py-4 px-6"},"ç‹€æ…‹"),(0,o.Lk)("th",{class:"py-4 px-6 text-center"},"æ“ä½œ")])],-1)),(0,o.Lk)("tbody",Ha,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.items,e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.id,class:"border-b border-gray-100 hover:bg-yellow-50 transition duration-150"},[r.editingId===e.id?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.Lk)("td",Qa,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>r.editForm.name=e),class:"border p-2 rounded w-full focus:ring-2 focus:ring-accent-yellow outline-none"},null,512),[[a.Jo,r.editForm.name]])]),(0,o.Lk)("td",Da,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>r.editForm.contact=e),class:"border p-2 rounded w-full focus:ring-2 focus:ring-accent-yellow outline-none"},null,512),[[a.Jo,r.editForm.contact]])]),(0,o.Lk)("td",Ga,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>r.editForm.status=e),class:"border p-2 rounded w-full focus:ring-2 focus:ring-accent-yellow outline-none"},null,512),[[a.Jo,r.editForm.status]])]),(0,o.Lk)("td",Sa,[(0,o.Lk)("button",{onClick:t=>n.updateItem(e.id),class:"bg-green-500 text-white px-3 py-1 rounded mr-2 hover:bg-green-600 transition"},"å„²å­˜",8,Oa),(0,o.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>n.cancelEdit&&n.cancelEdit(...e)),class:"bg-gray-400 text-white px-3 py-1 rounded hover:bg-gray-500 transition"},"å–æ¶ˆ")])],64)):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.Lk)("td",Ta,(0,I.v_)(e.name),1),(0,o.Lk)("td",Ka,(0,I.v_)(e.contact),1),(0,o.Lk)("td",qa,[(0,o.Lk)("span",{class:(0,I.C4)([{"bg-green-100 text-green-700":"å·²å®Œæˆ"===e.status,"bg-yellow-100 text-yellow-700":"æ¥æ´½ä¸­"===e.status,"bg-red-100 text-red-700":"å¤±æ•—"===e.status},"py-1 px-3 rounded-full text-xs font-bold"])},(0,I.v_)(e.status),3)]),(0,o.Lk)("td",Ra,[(0,o.Lk)("button",{onClick:t=>n.startEdit(e),class:"text-accent-yellow hover:text-yellow-700 mr-3 transition"},[...t[8]||(t[8]=[(0,o.Lk)("i",{class:"fas fa-edit"},null,-1),(0,o.eW)(" ç·¨è¼¯",-1)])],8,$a),(0,o.Lk)("button",{onClick:t=>n.deleteItem(e.id),class:"text-red-500 hover:text-red-700 transition"},[...t[9]||(t[9]=[(0,o.Lk)("i",{class:"fas fa-trash"},null,-1),(0,o.eW)(" åˆªé™¤",-1)])],8,Za)])],64))]))),128))])])])])}var Ya={data(){return{items:[],isLoading:!1,editingId:null,editForm:{},newItem:{name:"",contact:"",status:"æ¥æ´½ä¸­"}}},async mounted(){await this.fetchItems()},methods:{async fetchItems(){this.isLoading=!0;try{const e=await(0,de.GG)((0,de.rJ)(me,"coordination"));this.items=e.docs.map(e=>({id:e.id,...e.data()}))}finally{this.isLoading=!1}},async addItem(){if(!this.newItem.name)return alert("è«‹è¼¸å…¥åç¨±");this.isLoading=!0;try{await(0,de.gS)((0,de.rJ)(me,"coordination"),this.newItem),this.newItem={name:"",contact:"",status:"æ¥æ´½ä¸­"},await this.fetchItems()}finally{this.isLoading=!1}},async deleteItem(e){if(confirm("ç¢ºå®šè¦åˆªé™¤å—ï¼Ÿ")){this.isLoading=!0;try{await(0,de.kd)((0,de.H9)(me,"coordination",e)),await this.fetchItems()}finally{this.isLoading=!1}}},startEdit(e){this.editingId=e.id,this.editForm={...e}},cancelEdit(){this.editingId=null,this.editForm={}},async updateItem(e){this.isLoading=!0;try{await(0,de.mZ)((0,de.H9)(me,"coordination",e),this.editForm),this.editingId=null,await this.fetchItems()}finally{this.isLoading=!1}}}};const eo=(0,i.A)(Ya,[["render",Na]]);var to=eo;const so={class:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden"},ao={class:"p-6"},oo={class:"flex gap-3 mb-8"},lo=["disabled"],ro={key:0,class:"mr-2"},no={key:0,class:"text-center py-8 text-gray-500"},io={key:1,class:"text-center py-8 text-gray-500 bg-gray-50 rounded-xl"},co={key:2,class:"overflow-x-auto"},uo={class:"w-full text-left border-collapse"},po={class:"text-gray-600"},mo={class:"py-3 pl-4 font-medium text-gray-800"},go={class:"py-3 text-sm"},ko={class:"py-3 text-right pr-4"},xo=["onClick"];function ho(e,t,s,l,r,n){return(0,o.uX)(),(0,o.CE)("div",so,[t[6]||(t[6]=(0,o.Lk)("div",{class:"p-6 border-b border-gray-100 flex justify-between items-center"},[(0,o.Lk)("h3",{class:"text-lg font-bold text-gray-800"},"å…è¨±åå–®ç®¡ç†"),(0,o.Lk)("span",{class:"text-sm text-gray-500"},"åƒ…åˆ—å‡ºçš„ Email å¯ç™»å…¥å¾Œå°")],-1)),(0,o.Lk)("div",ao,[(0,o.Lk)("div",oo,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.newEmail=e),type:"email",placeholder:"è¼¸å…¥ Gmail åœ°å€ (ä¾‹å¦‚: user@gmail.com)",class:"flex-1 px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",onKeyup:t[1]||(t[1]=(0,a.jR)((...e)=>n.addEmail&&n.addEmail(...e),["enter"]))},null,544),[[a.Jo,r.newEmail]]),(0,o.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>n.addEmail&&n.addEmail(...e)),disabled:!n.isValidEmail||r.loading,class:"px-6 py-2 bg-primary-600 text-white font-medium rounded-xl hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center"},[r.loading?((0,o.uX)(),(0,o.CE)("span",ro,[...t[3]||(t[3]=[(0,o.Lk)("svg",{class:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[(0,o.Lk)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),(0,o.Lk)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):(0,o.Q3)("",!0),t[4]||(t[4]=(0,o.eW)(" æ–°å¢ ",-1))],8,lo)]),r.isLoadingList?((0,o.uX)(),(0,o.CE)("div",no," è¼‰å…¥ä¸­... ")):0===r.whitelist.length?((0,o.uX)(),(0,o.CE)("div",io," ç›®å‰æ²’æœ‰å…è¨±åå–®ï¼Œè«‹æ–°å¢æ‚¨çš„ Email ä»¥ç¢ºä¿ä¸‹æ¬¡èƒ½ç™»å…¥ã€‚ ")):((0,o.uX)(),(0,o.CE)("div",co,[(0,o.Lk)("table",uo,[t[5]||(t[5]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",{class:"text-gray-400 text-sm border-b border-gray-100"},[(0,o.Lk)("th",{class:"py-3 font-medium pl-4"},"Email"),(0,o.Lk)("th",{class:"py-3 font-medium"},"åŠ å…¥æ™‚é–“"),(0,o.Lk)("th",{class:"py-3 font-medium text-right pr-4"},"æ“ä½œ")])],-1)),(0,o.Lk)("tbody",po,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.whitelist,e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.id,class:"border-b border-gray-50 hover:bg-gray-50 transition-colors"},[(0,o.Lk)("td",mo,(0,I.v_)(e.email),1),(0,o.Lk)("td",go,(0,I.v_)(n.formatDate(e.createdAt)),1),(0,o.Lk)("td",ko,[(0,o.Lk)("button",{onClick:t=>n.removeEmail(e.id,e.email),class:"text-red-400 hover:text-red-600 transition-colors text-sm font-medium"}," ç§»é™¤ ",8,xo)])]))),128))])])]))])])}var bo={name:"AdminWhitelist",data(){return{newEmail:"",whitelist:[],loading:!1,isLoadingList:!0}},computed:{isValidEmail(){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.newEmail)}},async mounted(){await this.fetchWhitelist()},methods:{formatDate(e){return e?new Date(1e3*e.seconds).toLocaleDateString("zh-TW"):"-"},async fetchWhitelist(){this.isLoadingList=!0;try{const e=(0,de.P)((0,de.rJ)(me,"whitelisted_users"),(0,de.My)("createdAt","desc")),t=await(0,de.GG)(e);this.whitelist=t.docs.map(e=>({id:e.id,...e.data()}))}catch(e){console.error("Error fetching whitelist: ",e)}finally{this.isLoadingList=!1}},async addEmail(){if(this.isValidEmail){this.loading=!0;try{const e=this.whitelist.some(e=>e.email.toLowerCase()===this.newEmail.toLowerCase());if(e)return alert("æ­¤ Email å·²ç¶“åœ¨åå–®ä¸­"),void(this.loading=!1);await(0,de.gS)((0,de.rJ)(me,"whitelisted_users"),{email:this.newEmail.toLowerCase(),createdAt:(0,de.O5)()}),this.newEmail="",await this.fetchWhitelist(),alert("æ–°å¢æˆåŠŸï¼")}catch(e){console.error("Error adding email: ",e),alert("æ–°å¢å¤±æ•—: "+e.message)}finally{this.loading=!1}}},async removeEmail(e,t){if(confirm(`ç¢ºå®šè¦ç§»é™¤ ${t} å—ï¼Ÿæ­¤ç”¨æˆ¶å°‡ç„¡æ³•å†ç™»å…¥å¾Œå°ã€‚`))try{await(0,de.kd)((0,de.H9)(me,"whitelisted_users",e)),await this.fetchWhitelist()}catch(s){console.error("Error removing email: ",s),alert("ç§»é™¤å¤±æ•—")}}}};const yo=(0,i.A)(bo,[["render",ho]]);var wo=yo,fo={name:"AdminView",components:{AdminDashboardHome:he,AdminProjectList:cs,AdminRoutineList:zs,AdminForumList:ia,AdminEventList:Va,AdminCoordinationList:to,AdminWhitelist:wo},data(){return{activeTab:"dashboard",mobileMenuOpen:!1,tabs:[{id:"dashboard",name:"å„€è¡¨æ¿ç¸½è¦½",component:"AdminDashboardHome",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" /></svg>'},{id:"projects",name:"å°ˆæ¡ˆé€²åº¦",component:"AdminProjectList",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" /></svg>'},{id:"routines",name:"ä¾‹è¡Œå…¬äº‹",component:"AdminRoutineList",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>'},{id:"forums",name:"è«–å£‡/åˆ†äº«æœƒ",component:"AdminForumList",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" /></svg>'},{id:"events",name:"æ´»å‹•åƒèˆ‡",component:"AdminEventList",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z" /></svg>'},{id:"coordination",name:"æ´»å‹•æ¥æ´½",component:"AdminCoordinationList",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" /></svg>'},{id:"whitelist",name:"æ¬Šé™ç®¡ç†",component:"AdminWhitelist",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" /></svg>'}]}},methods:{async logout(){try{await(0,ce.CI)(ge),this.$router.push("/login")}catch(e){console.error("Error signing out: ",e),alert("ç™»å‡ºå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦")}},async testConnection(){try{const e=await(0,de.GG)((0,de.rJ)(me,"projects"));if(alert(`é€£ç·šæˆåŠŸï¼æ‰¾åˆ° ${e.size} ç­†å°ˆæ¡ˆè³‡æ–™ã€‚`),0===e.size){const e=confirm("è³‡æ–™åº«æ˜¯ç©ºçš„ã€‚æ˜¯å¦è¦åŠ å…¥ä¸€ç­†æ¸¬è©¦è³‡æ–™ï¼Ÿ");e&&(await(0,de.gS)((0,de.rJ)(me,"projects"),{name:"æ¸¬è©¦å°ˆæ¡ˆ",description:"é€™æ˜¯ä¸€ç­†æ¸¬è©¦è³‡æ–™",status:"é€²è¡Œä¸­",progress:50,deadline:(new Date).toISOString().split("T")[0],createdAt:new Date}),alert("æ¸¬è©¦è³‡æ–™å·²åŠ å…¥ï¼è«‹é‡æ–°æ•´ç†é é¢ã€‚"),window.location.reload())}}catch(e){console.error("Connection failed: ",e),alert(`é€£ç·šå¤±æ•—ï¼éŒ¯èª¤è¨Šæ¯: ${e.message}\nè«‹æª¢æŸ¥ Firestore å®‰å…¨è¦å‰‡ã€‚`)}}},computed:{activeComponent(){const e=this.tabs.find(e=>e.id===this.activeTab);return e?e.component:null},currentTabName(){const e=this.tabs.find(e=>e.id===this.activeTab);return e?e.name:""},currentDate(){return(new Date).toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric"})}}};const Lo=(0,i.A)(fo,[["render",T],["__scopeId","data-v-035e6dcd"]]);var vo=Lo;const Co={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},jo={class:"max-w-md w-full space-y-8"},Eo={class:"mt-8 space-y-6"},Io=["disabled"],Fo={key:0},Xo={key:1},Uo={class:"rounded-md shadow-sm -space-y-px"},Po=["disabled"],Vo={key:0},_o={key:1},Mo={key:0,class:"text-red-500 text-center text-sm"};function Jo(e,t,s,l,r,n){return(0,o.uX)(),(0,o.CE)("div",Co,[(0,o.Lk)("div",jo,[t[8]||(t[8]=(0,o.Lk)("div",null,[(0,o.Lk)("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," ç®¡ç†å“¡ç™»å…¥ ")],-1)),(0,o.Lk)("div",Eo,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.loginWithGoogle&&n.loginWithGoogle(...e)),disabled:r.isLoading,class:"w-full flex justify-center items-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},[t[4]||(t[4]=(0,o.Lk)("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",class:"w-5 h-5 mr-2"},null,-1)),r.isLoading?((0,o.uX)(),(0,o.CE)("span",Fo,"ç™»å…¥ä¸­...")):((0,o.uX)(),(0,o.CE)("span",Xo,"ä½¿ç”¨ Google å¸³è™Ÿç™»å…¥"))],8,Io),t[7]||(t[7]=(0,o.Fv)('<div class="relative"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-300"></div></div><div class="relative flex justify-center text-sm"><span class="px-2 bg-gray-50 text-gray-500">æˆ–ä½¿ç”¨ Email ç™»å…¥</span></div></div>',1)),(0,o.Lk)("form",{class:"space-y-6",onSubmit:t[3]||(t[3]=(0,a.D$)((...e)=>n.login&&n.login(...e),["prevent"]))},[(0,o.Lk)("div",Uo,[(0,o.Lk)("div",null,[t[5]||(t[5]=(0,o.Lk)("label",{for:"email-address",class:"sr-only"},"Email address",-1)),(0,o.bo)((0,o.Lk)("input",{id:"email-address",name:"email",type:"email",autocomplete:"email",required:"","onUpdate:modelValue":t[1]||(t[1]=e=>r.email=e),class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address"},null,512),[[a.Jo,r.email]])]),(0,o.Lk)("div",null,[t[6]||(t[6]=(0,o.Lk)("label",{for:"password",class:"sr-only"},"Password",-1)),(0,o.bo)((0,o.Lk)("input",{id:"password",name:"password",type:"password",autocomplete:"current-password",required:"","onUpdate:modelValue":t[2]||(t[2]=e=>r.password=e),class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password"},null,512),[[a.Jo,r.password]])])]),(0,o.Lk)("div",null,[(0,o.Lk)("button",{type:"submit",disabled:r.isLoading,class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},[r.isLoading?((0,o.uX)(),(0,o.CE)("span",Vo,"ç™»å…¥ä¸­...")):((0,o.uX)(),(0,o.CE)("span",_o,"ç™»å…¥"))],8,Po)]),r.error?((0,o.uX)(),(0,o.CE)("div",Mo,(0,I.v_)(r.error),1)):(0,o.Q3)("",!0)],32)])])])}var Ao={name:"LoginView",data(){return{email:"",password:"",isLoading:!1,error:""}},methods:{async login(){this.isLoading=!0,this.error="";try{await(0,ce.x9)(ge,this.email,this.password),this.$router.push("/admin")}catch(e){console.error(e),this.error="ç™»å…¥å¤±æ•—ï¼Œè«‹æª¢æŸ¥ Email å’Œå¯†ç¢¼ã€‚"}finally{this.isLoading=!1}},async loginWithGoogle(){this.isLoading=!0,this.error="";const e=new ce.HF;try{const t=await(0,ce.df)(ge,e),s=t.user,a=(0,de.P)((0,de.rJ)(me,"whitelisted_users"),(0,de._M)("email","==",s.email.toLowerCase())),o=await(0,de.GG)(a);if(o.empty)return await(0,ce.CI)(ge),this.error="æ‚¨æ²’æœ‰æ¬Šé™ç™»å…¥æ­¤å¾Œå°ã€‚è«‹è¯ç¹«ç®¡ç†å“¡å–å¾—æˆæ¬Šã€‚",void(this.isLoading=!1);this.$router.push("/admin")}catch(t){console.error(t),this.error="Google ç™»å…¥å¤±æ•—: "+t.message}finally{this.isLoading=!1}}}};const zo=(0,i.A)(Ao,[["render",Jo]]);var Bo=zo;const Wo=[{path:"/",name:"Home",component:E},{path:"/login",name:"Login",component:Bo},{path:"/admin",name:"Admin",component:vo,meta:{requiresAuth:!0}}],Ho=(0,u.aE)({history:(0,u.LA)("/project_update/"),routes:Wo});Ho.beforeEach((e,t,s)=>{const a=e.matched.some(e=>e.meta.requiresAuth),o=ge.currentUser;a&&!o?s("/login"):s()});var Qo=Ho;let Do;(0,ce.hg)(ge,()=>{Do||(Do=(0,a.Ef)(c).use(Qo).mount("#app"))})}},t={};function s(a){var o=t[a];if(void 0!==o)return o.exports;var l=t[a]={exports:{}};return e[a].call(l.exports,l,l.exports,s),l.exports}s.m=e,function(){var e=[];s.O=function(t,a,o,l){if(!a){var r=1/0;for(c=0;c<e.length;c++){a=e[c][0],o=e[c][1],l=e[c][2];for(var n=!0,i=0;i<a.length;i++)(!1&l||r>=l)&&Object.keys(s.O).every(function(e){return s.O[e](a[i])})?a.splice(i--,1):(n=!1,l<r&&(r=l));if(n){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[a,o,l]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,l,r=a[0],n=a[1],i=a[2],d=0;if(r.some(function(t){return 0!==e[t]})){for(o in n)s.o(n,o)&&(s.m[o]=n[o]);if(i)var c=i(s)}for(t&&t(a);d<r.length;d++)l=r[d],s.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return s.O(c)},a=self["webpackChunkproject_update"]=self["webpackChunkproject_update"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],function(){return s(352)});a=s.O(a)})();
//# sourceMappingURL=app.c76d5be8.js.map